<!DOCTYPE html>
<html lang="fr" data-theme="light" data-animation-level="1">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PyCalendar FFSU - Gestion de Calendriers Sportifs</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <style>
/* styles/00-variables.css */
/**
 * PyCalendar Interface - CSS Variables v2.0
 * Design: Vibrant & Professional
 * Font: Poppins
 * Palettes: 4 color schemes selectable in UI
 */

:root {
    /* ==================== PALETTE PURPLE DREAM (DÉFAUT) ==================== */
    
    /* Couleurs principales */
    --primary: #667eea;
    --primary-hover: #5568d3;
    --primary-dark: #4453bd;
    --primary-light: rgba(102, 126, 234, 0.12);
    --primary-lighter: #e0e7ff;
    --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    --primary-glow: 0 0 25px rgba(102, 126, 234, 0.4);
    
    /* Accent secondaire */
    --accent: #f093fb;
    --accent-dark: #e872f9;
    --accent-hover: #f5a9fc;
    --accent-light: rgba(240, 147, 251, 0.12);
    --accent-lighter: #fce7fd;
    --accent-glow: 0 0 20px rgba(240, 147, 251, 0.4);
    
    /* Couleurs sémantiques */
    --danger: #EF4444;
    --danger-dark: #DC2626;
    --danger-hover: #F87171;
    --danger-light: rgba(239, 68, 68, 0.12);
    --danger-lighter: #FEE2E2;
    --danger-glow: 0 0 20px rgba(239, 68, 68, 0.4);
    
    --success: #10B981;
    --success-dark: #059669;
    --success-hover: #34D399;
    --success-light: rgba(16, 185, 129, 0.12);
    --success-lighter: #D1FAE5;
    --success-glow: 0 0 20px rgba(16, 185, 129, 0.3);
    
    --warning: #F59E0B;
    --warning-dark: #D97706;
    --warning-hover: #FBBF24;
    --warning-light: rgba(245, 158, 11, 0.12);
    --warning-lighter: #FEF3C7;
    --warning-glow: 0 0 20px rgba(245, 158, 11, 0.3);
    
    --info: #3B82F6;
    --info-dark: #2563EB;
    --info-hover: #60A5FA;
    --info-light: rgba(59, 130, 246, 0.12);
    --info-lighter: #DBEAFE;
    --info-glow: 0 0 20px rgba(59, 130, 246, 0.3);
    
    /* Autres accents */
    --accent-pink: #EC4899;
    --accent-pink-light: rgba(236, 72, 153, 0.12);
    --accent-pink-lighter: #FCE7F3;
    
    --accent-orange: #F97316;
    --accent-orange-light: rgba(249, 115, 22, 0.12);
    --accent-orange-lighter: #FFEDD5;
    
    --accent-teal: #14B8A6;
    --accent-teal-light: rgba(20, 184, 166, 0.12);
    --accent-teal-lighter: #CCFBF1;
    
    --accent-indigo: #6366F1;
    --accent-indigo-light: rgba(99, 102, 241, 0.12);
    --accent-indigo-lighter: #E0E7FF;
    
    /* Surfaces */
    --bg-primary: #FFFFFF;
    --bg-secondary: #F8FAFC;
    --bg-tertiary: #F1F5F9;
    --bg-quaternary: #E2E8F0;
    --bg-hover: #F1F5F9;
    --bg-active: #E2E8F0;
    
    /* Texte */
    --text-primary: #1e293b;
    --text-secondary: #475569;
    --text-tertiary: #94A3B8;
    --text-quaternary: #CBD5E1;
    --text-inverse: #FFFFFF;
    
    /* Bordures */
    --border-color: #E2E8F0;
    --border-hover: #CBD5E1;
    --border-active: #94A3B8;
    --border-focus: var(--primary);
    
    /* Sports */
    --sport-volleyball: #FF6B35;
    --sport-volleyball-light: rgba(255, 107, 53, 0.12);
    --sport-volleyball-lighter: #FFE4D9;
    --sport-volleyball-dark: #E85A24;
    
    --sport-handball: #14B8A6;
    --sport-handball-light: rgba(20, 184, 166, 0.12);
    --sport-handball-lighter: #CCFBF1;
    --sport-handball-dark: #0F9488;
    
    --sport-football: #10B981;
    --sport-football-light: rgba(16, 185, 129, 0.12);
    --sport-football-lighter: #D1FAE5;
    --sport-football-dark: #059669;
    
    --sport-basketball: #F97316;
    --sport-basketball-light: rgba(249, 115, 22, 0.12);
    --sport-basketball-lighter: #FFEDD5;
    --sport-basketball-dark: #EA580C;
    
    /* Conflits */
    --conflict-critical: #DC2626;
    --conflict-critical-light: rgba(220, 38, 38, 0.12);
    --conflict-warning: #F59E0B;
    --conflict-warning-light: rgba(245, 158, 11, 0.12);
    --conflict-border: 3px;
    --conflict-glow: 0 0 15px rgba(220, 38, 38, 0.5);
    --conflict-glow-warning: 0 0 15px rgba(245, 158, 11, 0.5);
    
    /* Genres */
    --male: #3B82F6;
    --male-dark: #2563EB;
    --male-hover: #60A5FA;
    --male-light: rgba(59, 130, 246, 0.12);
    --male-lighter: #DBEAFE;
    
    --female: #EC4899;
    --female-dark: #DB2777;
    --female-hover: #F472B6;
    --female-light: rgba(236, 72, 153, 0.12);
    --female-lighter: #FCE7F3;
    
    --mixed: #8B5CF6;
    --mixed-dark: #7C3AED;
    --mixed-hover: #A78BFA;
    --mixed-light: rgba(139, 92, 246, 0.12);
    --mixed-lighter: #EDE9FE;
    
    /* Catégories */
    --cat-a1: #8B5CF6;
    --cat-a1-light: rgba(139, 92, 246, 0.12);
    --cat-a2: #6366F1;
    --cat-a2-light: rgba(99, 102, 241, 0.12);
    --cat-a3: #3B82F6;
    --cat-a3-light: rgba(59, 130, 246, 0.12);
    --cat-a4: #14B8A6;
    --cat-a4-light: rgba(20, 184, 166, 0.12);
    
    /* Statuts */
    --status-assigned: #10B981;
    --status-assigned-light: rgba(16, 185, 129, 0.12);
    --status-modified: #F59E0B;
    --status-modified-light: rgba(245, 158, 11, 0.12);
    --status-pending: #94A3B8;
    --status-pending-light: rgba(148, 163, 184, 0.12);
    --status-confirmed: #3B82F6;
    --status-confirmed-light: rgba(59, 130, 246, 0.12);
    
    /* Lieux */
    --venue-1: #EF4444;
    --venue-1-light: rgba(239, 68, 68, 0.12);
    --venue-2: #F97316;
    --venue-2-light: rgba(249, 115, 22, 0.12);
    --venue-3: #F59E0B;
    --venue-3-light: rgba(245, 158, 11, 0.12);
    --venue-4: #10B981;
    --venue-4-light: rgba(16, 185, 129, 0.12);
    --venue-5: #14B8A6;
    --venue-5-light: rgba(20, 184, 166, 0.12);
    --venue-6: #3B82F6;
    --venue-6-light: rgba(59, 130, 246, 0.12);
    --venue-7: #6366F1;
    --venue-7-light: rgba(99, 102, 241, 0.12);
    --venue-8: #8B5CF6;
    --venue-8-light: rgba(139, 92, 246, 0.12);
    --venue-9: #EC4899;
    --venue-9-light: rgba(236, 72, 153, 0.12);
    --venue-10: #F43F5E;
    --venue-10-light: rgba(244, 63, 94, 0.12);
    
    /* Ombres */
    --shadow-xs: 0 1px 2px 0 rgba(0, 0, 0, 0.06);
    --shadow-sm: 0 2px 4px 0 rgba(0, 0, 0, 0.10);
    --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.12), 0 2px 4px -1px rgba(0, 0, 0, 0.08);
    --shadow-md: 0 6px 12px -2px rgba(0, 0, 0, 0.15), 0 3px 6px -2px rgba(0, 0, 0, 0.10);
    --shadow-lg: 0 10px 20px -3px rgba(0, 0, 0, 0.18), 0 4px 8px -3px rgba(0, 0, 0, 0.12);
    --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.22), 0 10px 10px -5px rgba(0, 0, 0, 0.15);
    --shadow-2xl: 0 25px 50px -12px rgba(0, 0, 0, 0.30);
    --shadow-inner: inset 0 2px 4px 0 rgba(0, 0, 0, 0.08);
    
    --shadow-primary: 0 4px 14px 0 rgba(102, 126, 234, 0.30);
    --shadow-primary-lg: 0 10px 25px -5px rgba(102, 126, 234, 0.35);
    --shadow-danger: 0 4px 14px 0 rgba(239, 68, 68, 0.30);
    --shadow-danger-lg: 0 10px 25px -5px rgba(239, 68, 68, 0.35);
    --shadow-success: 0 4px 14px 0 rgba(16, 185, 129, 0.30);
    --shadow-success-lg: 0 10px 25px -5px rgba(16, 185, 129, 0.35);
    --shadow-warning: 0 4px 14px 0 rgba(245, 158, 11, 0.30);
    --shadow-info: 0 4px 14px 0 rgba(59, 130, 246, 0.30);
    --shadow-accent: 0 4px 14px 0 rgba(240, 147, 251, 0.30);
    
    /* Spacing */
    --spacing-xs: 0.25rem;
    --spacing-sm: 0.5rem;
    --spacing-md: 0.875rem;
    --spacing-lg: 1.25rem;
    --spacing-xl: 1.75rem;
    --spacing-2xl: 2.5rem;
    
    /* Border Radius */
    --radius-sm: 0.375rem;
    --radius-md: 0.5rem;
    --radius-lg: 0.75rem;
    --radius-xl: 1rem;
    --radius-2xl: 1.5rem;
    --radius-full: 9999px;
    
    /* Gradients */
    --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    --gradient-sunset: linear-gradient(135deg, #FF6B35 0%, #F97316 50%, #FBBF24 100%);
    --gradient-ocean: linear-gradient(135deg, #0EA5E9 0%, #14B8A6 50%, #10B981 100%);
    --gradient-purple: linear-gradient(135deg, #8B5CF6 0%, #A78BFA 50%, #C4B5FD 100%);
    --gradient-pink: linear-gradient(135deg, #EC4899 0%, #F472B6 50%, #FBCFE8 100%);
    --gradient-cool: linear-gradient(135deg, #3B82F6 0%, #8B5CF6 50%, #EC4899 100%);
    --gradient-warm: linear-gradient(135deg, #F59E0B 0%, #F97316 50%, #EF4444 100%);
    
    --gradient-glass: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%);
    --gradient-glass-dark: linear-gradient(135deg, rgba(0, 0, 0, 0.1) 0%, rgba(0, 0, 0, 0.05) 100%);
    
    /* Glassmorphism */
    --glass-bg: rgba(255, 255, 255, 0.75);
    --glass-bg-strong: rgba(255, 255, 255, 0.95);
    --glass-bg-light: rgba(255, 255, 255, 0.5);
    --glass-border: rgba(255, 255, 255, 0.3);
    --glass-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
    --glass-blur: blur(10px);
    --glass-blur-strong: blur(20px);
    
    --glass-bg-dark: rgba(15, 23, 42, 0.75);
    --glass-bg-dark-strong: rgba(15, 23, 42, 0.9);
    --glass-border-dark: rgba(255, 255, 255, 0.1);
    
    --glass-primary: rgba(102, 126, 234, 0.15);
    --glass-danger: rgba(239, 68, 68, 0.15);
    --glass-success: rgba(16, 185, 129, 0.15);
    --glass-warning: rgba(245, 158, 11, 0.15);
    
    /* Neumorphism */
    --neu-shadow-light: 8px 8px 16px rgba(163, 177, 198, 0.6), -8px -8px 16px rgba(255, 255, 255, 0.5);
    --neu-shadow-dark: 8px 8px 16px rgba(0, 0, 0, 0.4), -8px -8px 16px rgba(255, 255, 255, 0.05);
    --neu-inset-light: inset 4px 4px 8px rgba(163, 177, 198, 0.4), inset -4px -4px 8px rgba(255, 255, 255, 0.7);
    --neu-inset-dark: inset 4px 4px 8px rgba(0, 0, 0, 0.3), inset -4px -4px 8px rgba(255, 255, 255, 0.03);
    
    /* Transitions */
    --ease-out-expo: cubic-bezier(0.19, 1, 0.22, 1);
    --ease-out-back: cubic-bezier(0.34, 1.56, 0.64, 1);
    --ease-in-out-circ: cubic-bezier(0.85, 0, 0.15, 1);
    --ease-spring: cubic-bezier(0.68, -0.55, 0.265, 1.55);
    
    --anim-duration-instant: 0ms;
    --anim-duration-fast: 150ms;
    --anim-duration-base: 250ms;
    --anim-duration-slow: 350ms;
    --anim-duration-slower: 500ms;
    
    --transition-fast: var(--anim-duration-fast) cubic-bezier(0.4, 0, 0.2, 1);
    --transition-base: var(--anim-duration-base) cubic-bezier(0.4, 0, 0.2, 1);
    --transition-slow: var(--anim-duration-slow) cubic-bezier(0.4, 0, 0.2, 1);
    --transition-bounce: var(--anim-duration-slower) var(--ease-spring);
    --transition-smooth: var(--anim-duration-base) var(--ease-out-expo);
    
    --transition-all: all var(--transition-base);
    --transition-colors: color var(--transition-fast), background-color var(--transition-fast), border-color var(--transition-fast);
    --transition-transform: transform var(--transition-base);
    --transition-opacity: opacity var(--transition-base);
    --transition-shadow: box-shadow var(--transition-base);
    
    /* Animations */
    --anim-enabled: 1;
    --anim-scale-hover: 1.03;
    --anim-scale-active: 0.97;
    --anim-translate-hover: -3px;
    --anim-glow-intensity: 0.4;
    
    --anim-bounce-intensity: 6px;
    --anim-shake-intensity: 3px;
    --anim-pulse-scale: 1.06;
    
    /* Layout */
    --sidebar-width: 260px;
    --sidebar-collapsed-width: 60px;
    --max-content-width: 1400px;
    
    --header-height: 70px;
    --toolbar-height: 60px;
    
    /* Font Sizes */
    --text-xs: 0.7rem;
    --text-sm: 0.8rem;
    --text-base: 0.95rem;
    --text-lg: 1.05rem;
    --text-xl: 1.2rem;
    --text-2xl: 1.5rem;
    --text-3xl: 1.875rem;
    --text-4xl: 2.25rem;
    
    /* Grid */
    --grid-columns: 3;
    --grid-gap: 1.25rem;
    --card-min-width: 320px;
}

/* ==================== PALETTES ALTERNATIVES ==================== */

/* Palette Ocean Blue */
[data-palette="ocean"] {
    --primary: #4facfe;
    --primary-hover: #3a9bf2;
    --primary-dark: #2589e6;
    --primary-light: rgba(79, 172, 254, 0.12);
    --primary-lighter: #e0f2fe;
    --primary-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
    --primary-glow: 0 0 25px rgba(79, 172, 254, 0.4);
    
    --accent: #00f2fe;
    --accent-dark: #00d9ed;
    --accent-hover: #33f4fe;
    --accent-light: rgba(0, 242, 254, 0.12);
    --accent-lighter: #cffafe;
    --accent-glow: 0 0 20px rgba(0, 242, 254, 0.4);
    
    --shadow-primary: 0 4px 14px 0 rgba(79, 172, 254, 0.30);
    --shadow-primary-lg: 0 10px 25px -5px rgba(79, 172, 254, 0.35);
    --glass-primary: rgba(79, 172, 254, 0.15);
}

/* Palette Sunset Fire */
[data-palette="sunset"] {
    --primary: #fa709a;
    --primary-hover: #f85a88;
    --primary-dark: #f64376;
    --primary-light: rgba(250, 112, 154, 0.12);
    --primary-lighter: #ffe4ec;
    --primary-gradient: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
    --primary-glow: 0 0 25px rgba(250, 112, 154, 0.4);
    
    --accent: #fee140;
    --accent-dark: #fdd81a;
    --accent-hover: #fee766;
    --accent-light: rgba(254, 225, 64, 0.12);
    --accent-lighter: #fef9c3;
    --accent-glow: 0 0 20px rgba(254, 225, 64, 0.4);
    
    --shadow-primary: 0 4px 14px 0 rgba(250, 112, 154, 0.30);
    --shadow-primary-lg: 0 10px 25px -5px rgba(250, 112, 154, 0.35);
    --glass-primary: rgba(250, 112, 154, 0.15);
}

/* Palette Forest Energy */
[data-palette="forest"] {
    --primary: #43e97b;
    --primary-hover: #2fe066;
    --primary-dark: #1bd751;
    --primary-light: rgba(67, 233, 123, 0.12);
    --primary-lighter: #d1fae5;
    --primary-gradient: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
    --primary-glow: 0 0 25px rgba(67, 233, 123, 0.4);
    
    --accent: #38f9d7;
    --accent-dark: #1ff0cd;
    --accent-hover: #5ffadd;
    --accent-light: rgba(56, 249, 215, 0.12);
    --accent-lighter: #ccfbf1;
    --accent-glow: 0 0 20px rgba(56, 249, 215, 0.4);
    
    --shadow-primary: 0 4px 14px 0 rgba(67, 233, 123, 0.30);
    --shadow-primary-lg: 0 10px 25px -5px rgba(67, 233, 123, 0.35);
    --glass-primary: rgba(67, 233, 123, 0.15);
}

/* ==================== THÈME SOMBRE ==================== */

[data-theme="dark"] {
    --primary: #7c8aff;
    --primary-hover: #9099ff;
    --primary-light: rgba(124, 138, 255, 0.15);
    --primary-lighter: rgba(124, 138, 255, 0.08);
    
    --bg-primary: #0F172A;
    --bg-secondary: #1E293B;
    --bg-tertiary: #334155;
    --bg-hover: #1E293B;
    
    --text-primary: #F1F5F9;
    --text-secondary: #CBD5E1;
    --text-tertiary: #94A3B8;
    --text-inverse: #0F172A;
    
    --border-color: #334155;
    --border-hover: #475569;
    --border-focus: #7c8aff;
    
    --glass-bg: rgba(30, 41, 59, 0.75);
    --glass-bg-strong: rgba(30, 41, 59, 0.95);
    --glass-border: rgba(255, 255, 255, 0.1);
    
    --shadow-xs: 0 1px 2px 0 rgba(0, 0, 0, 0.3);
    --shadow-sm: 0 2px 4px 0 rgba(0, 0, 0, 0.4);
    --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.5), 0 2px 4px -1px rgba(0, 0, 0, 0.3);
    --shadow-md: 0 6px 12px -2px rgba(0, 0, 0, 0.6), 0 3px 6px -2px rgba(0, 0, 0, 0.4);
    --shadow-lg: 0 10px 20px -3px rgba(0, 0, 0, 0.7), 0 4px 8px -3px rgba(0, 0, 0, 0.5);
    --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.8), 0 10px 10px -5px rgba(0, 0, 0, 0.6);
    --shadow-2xl: 0 25px 50px -12px rgba(0, 0, 0, 0.9);
}

/* ==================== ANIMATIONS ==================== */

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes slideDown {
    from { opacity: 0; transform: translateY(-10px); }
    to { opacity: 1; transform: translateY(0); }
}

@keyframes slideUp {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

@keyframes slideInLeft {
    from { opacity: 0; transform: translateX(-20px); }
    to { opacity: 1; transform: translateX(0); }
}

@keyframes slideInRight {
    from { opacity: 0; transform: translateX(20px); }
    to { opacity: 1; transform: translateX(0); }
}

@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.75; }
}

@keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

@keyframes bounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
}

@keyframes scaleIn {
    from { opacity: 0; transform: scale(0.95); }
    to { opacity: 1; transform: scale(1); }
}

@keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-4px); }
    75% { transform: translateX(4px); }
}

@keyframes glow {
    0%, 100% { filter: drop-shadow(0 0 2px currentColor); }
    50% { filter: drop-shadow(0 0 10px currentColor); }
}

@keyframes shimmer {
    0% { background-position: -1000px 0; }
    100% { background-position: 1000px 0; }
}

/* ==================== NIVEAUX D'ANIMATION ==================== */

[data-animation-level="0"],
[data-animation-level="0"] * {
    --anim-duration-fast: 0ms !important;
    --anim-duration-base: 0ms !important;
    --anim-duration-slow: 0ms !important;
    --anim-scale-hover: 1 !important;
    --anim-translate-hover: 0 !important;
    animation: none !important;
    transition: none !important;
}

[data-animation-level="1"] {
    --anim-duration-fast: 150ms;
    --anim-duration-base: 250ms;
    --anim-scale-hover: 1.02;
    --anim-translate-hover: -2px;
}

[data-animation-level="2"] {
    --anim-duration-fast: 200ms;
    --anim-duration-base: 300ms;
    --anim-scale-hover: 1.04;
    --anim-translate-hover: -3px;
}

[data-animation-level="3"] {
    --anim-duration-fast: 250ms;
    --anim-duration-base: 400ms;
    --anim-scale-hover: 1.06;
    --anim-translate-hover: -5px;
}

@media (prefers-reduced-motion: reduce) {
    *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}


/* styles/01-reset.css */
/**
 * PyCalendar Interface - CSS Reset
 * Normalize browser defaults for consistent rendering
 */

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

*::before,
*::after {
    box-sizing: border-box;
}

html {
    line-height: 1.5;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
    color: var(--dark);
    background: var(--off-white);
}

img,
picture,
video,
canvas,
svg {
    display: block;
    max-width: 100%;
}

input,
button,
textarea,
select {
    font: inherit;
}

button {
    cursor: pointer;
    border: none;
    background: none;
}

a {
    color: inherit;
    text-decoration: none;
}

p,
h1,
h2,
h3,
h4,
h5,
h6 {
    overflow-wrap: break-word;
}

ul,
ol {
    list-style: none;
}

/* Remove default fieldset styles */
fieldset {
    border: none;
    padding: 0;
    margin: 0;
}

/* Remove default legend styles */
legend {
    padding: 0;
}

/* Remove focus outline for mouse users */
*:focus:not(:focus-visible) {
    outline: none;
}

/* Add focus outline for keyboard users */
*:focus-visible {
    outline: 2px solid var(--primary);
    outline-offset: 2px;
}


/* styles/02-base.css */
/**
 * PyCalendar Interface - Base Styles v2.0
 * Font: Poppins - Modern, vibrant & professional
 * Typography optimisée, utilities étendus
 */

/* ==================== TYPOGRAPHY ==================== */

body {
    font-family: 'Poppins', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    font-size: var(--text-base);
    line-height: 1.65;
    font-weight: 400;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    letter-spacing: -0.01em;
}

h1 {
    font-size: var(--text-4xl);
    font-weight: 800;
    line-height: 1.2;
    letter-spacing: -0.02em;
    background: var(--gradient-primary);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

h2 {
    font-size: var(--text-3xl);
    font-weight: 700;
    line-height: 1.3;
    letter-spacing: -0.01em;
    color: var(--text-primary);
}

h3 {
    font-size: var(--text-2xl);
    font-weight: 600;
    line-height: 1.4;
    color: var(--text-primary);
}

h4 {
    font-size: var(--text-xl);
    font-weight: 600;
    line-height: 1.5;
    color: var(--text-primary);
}

h5 {
    font-size: var(--text-lg);
    font-weight: 500;
    line-height: 1.5;
    color: var(--text-primary);
}

h6 {
    font-size: var(--text-base);
    font-weight: 500;
    line-height: 1.5;
    color: var(--text-secondary);
}

small {
    font-size: var(--text-sm);
    color: var(--text-tertiary);
}

/* ==================== UTILITIES ==================== */

.text-center { text-align: center; }
.text-right { text-align: right; }
.text-left { text-align: left; }

.font-bold { font-weight: 700; }
.font-semibold { font-weight: 600; }
.font-medium { font-weight: 500; }
.font-light { font-weight: 300; }

.text-muted { color: var(--text-tertiary); }
.text-primary { color: var(--text-primary); }
.text-secondary { color: var(--text-secondary); }

.text-sm { font-size: var(--text-sm); }
.text-xs { font-size: var(--text-xs); }
.text-lg { font-size: var(--text-lg); }
.text-xl { font-size: var(--text-xl); }

.uppercase { text-transform: uppercase; }
.lowercase { text-transform: lowercase; }
.capitalize { text-transform: capitalize; }

/* ==================== FLEX UTILITIES ==================== */

.flex { display: flex; }
.inline-flex { display: inline-flex; }
.flex-col { flex-direction: column; }
.flex-row { flex-direction: row; }
.flex-wrap { flex-wrap: wrap; }
.flex-nowrap { flex-wrap: nowrap; }

.items-center { align-items: center; }
.items-start { align-items: flex-start; }
.items-end { align-items: flex-end; }
.items-stretch { align-items: stretch; }

.justify-center { justify-content: center; }
.justify-between { justify-content: space-between; }
.justify-around { justify-content: space-around; }
.justify-start { justify-content: flex-start; }
.justify-end { justify-content: flex-end; }

.flex-1 { flex: 1; }
.flex-auto { flex: auto; }
.flex-none { flex: none; }

.gap-1 { gap: var(--spacing-xs); }
.gap-2 { gap: var(--spacing-sm); }
.gap-3 { gap: var(--spacing-md); }
.gap-4 { gap: var(--spacing-lg); }
.gap-5 { gap: var(--spacing-xl); }

/* ==================== GRID UTILITIES ==================== */

.grid { display: grid; }
.inline-grid { display: inline-grid; }

.grid-cols-1 { grid-template-columns: repeat(1, 1fr); }
.grid-cols-2 { grid-template-columns: repeat(2, 1fr); }
.grid-cols-3 { grid-template-columns: repeat(3, 1fr); }
.grid-cols-4 { grid-template-columns: repeat(4, 1fr); }
.grid-cols-5 { grid-template-columns: repeat(5, 1fr); }

/* ==================== SPACING UTILITIES ==================== */

.m-0 { margin: 0; }
.m-auto { margin: auto; }

.mt-0 { margin-top: 0; }
.mt-1 { margin-top: var(--spacing-xs); }
.mt-2 { margin-top: var(--spacing-sm); }
.mt-3 { margin-top: var(--spacing-md); }
.mt-4 { margin-top: var(--spacing-lg); }
.mt-5 { margin-top: var(--spacing-xl); }

.mb-0 { margin-bottom: 0; }
.mb-1 { margin-bottom: var(--spacing-xs); }
.mb-2 { margin-bottom: var(--spacing-sm); }
.mb-3 { margin-bottom: var(--spacing-md); }
.mb-4 { margin-bottom: var(--spacing-lg); }
.mb-5 { margin-bottom: var(--spacing-xl); }

.ml-0 { margin-left: 0; }
.ml-1 { margin-left: var(--spacing-xs); }
.ml-2 { margin-left: var(--spacing-sm); }
.ml-3 { margin-left: var(--spacing-md); }
.ml-4 { margin-left: var(--spacing-lg); }

.mr-0 { margin-right: 0; }
.mr-1 { margin-right: var(--spacing-xs); }
.mr-2 { margin-right: var(--spacing-sm); }
.mr-3 { margin-right: var(--spacing-md); }
.mr-4 { margin-right: var(--spacing-lg); }

.p-0 { padding: 0; }
.p-1 { padding: var(--spacing-xs); }
.p-2 { padding: var(--spacing-sm); }
.p-3 { padding: var(--spacing-md); }
.p-4 { padding: var(--spacing-lg); }
.p-5 { padding: var(--spacing-xl); }

.pt-0 { padding-top: 0; }
.pt-1 { padding-top: var(--spacing-xs); }
.pt-2 { padding-top: var(--spacing-sm); }
.pt-3 { padding-top: var(--spacing-md); }
.pt-4 { padding-top: var(--spacing-lg); }

.pb-0 { padding-bottom: 0; }
.pb-1 { padding-bottom: var(--spacing-xs); }
.pb-2 { padding-bottom: var(--spacing-sm); }
.pb-3 { padding-bottom: var(--spacing-md); }
.pb-4 { padding-bottom: var(--spacing-lg); }

/* ==================== BORDERS ==================== */

.border { border: 1px solid var(--border-color); }
.border-2 { border: 2px solid var(--border-color); }
.border-t { border-top: 1px solid var(--border-color); }
.border-b { border-bottom: 1px solid var(--border-color); }
.border-l { border-left: 1px solid var(--border-color); }
.border-r { border-right: 1px solid var(--border-color); }

.border-primary { border-color: var(--primary); }
.border-danger { border-color: var(--danger); }
.border-success { border-color: var(--success); }
.border-warning { border-color: var(--warning); }

.rounded { border-radius: var(--radius-md); }
.rounded-sm { border-radius: var(--radius-sm); }
.rounded-lg { border-radius: var(--radius-lg); }
.rounded-xl { border-radius: var(--radius-xl); }
.rounded-full { border-radius: var(--radius-full); }
.rounded-none { border-radius: 0; }

/* ==================== SHADOWS ==================== */

.shadow-xs { box-shadow: var(--shadow-xs); }
.shadow-sm { box-shadow: var(--shadow-sm); }
.shadow { box-shadow: var(--shadow); }
.shadow-md { box-shadow: var(--shadow-md); }
.shadow-lg { box-shadow: var(--shadow-lg); }
.shadow-xl { box-shadow: var(--shadow-xl); }
.shadow-2xl { box-shadow: var(--shadow-2xl); }
.shadow-none { box-shadow: none; }

.shadow-primary { box-shadow: var(--shadow-primary); }
.shadow-danger { box-shadow: var(--shadow-danger); }
.shadow-success { box-shadow: var(--shadow-success); }

/* ==================== BACKGROUND ==================== */

.bg-primary { background-color: var(--bg-primary); }
.bg-secondary { background-color: var(--bg-secondary); }
.bg-tertiary { background-color: var(--bg-tertiary); }

.bg-glass { 
    background: var(--glass-bg); 
    backdrop-filter: var(--glass-blur);
    -webkit-backdrop-filter: var(--glass-blur);
}

.bg-gradient-france { background: var(--gradient-cool); }
.bg-gradient-blue { background: var(--gradient-primary); }
.bg-gradient-sunset { background: var(--gradient-sunset); }
.bg-gradient-ocean { background: var(--gradient-ocean); }

/* ==================== COLOR MODES (Gender, Level, Institution) ==================== */

/* Gender Color Classes */
.color-male {
    background: linear-gradient(135deg, #60a5fa 0%, #3b82f6 50%, #2563eb 100%) !important;
}

.color-female {
    background: linear-gradient(135deg, #f472b6 0%, #ec4899 50%, #db2777 100%) !important;
}

.color-mixed {
    background: linear-gradient(135deg, #a78bfa 0%, #8b5cf6 50%, #7c3aed 100%) !important;
}

/* Level Color Classes (A1-A4) */
.color-level-1 {
    /* Violet royal premium (A1 = élite) */
    background: linear-gradient(135deg, #a855f7 0%, #9333ea 40%, #7c3aed 100%) !important;
}

.color-level-2 {
    /* Bleu indigo profond (A2) */
    background: linear-gradient(135deg, #6366f1 0%, #4f46e5 50%, #4338ca 100%) !important;
}

.color-level-3 {
    /* Bleu ciel dynamique (A3) */
    background: linear-gradient(135deg, #38bdf8 0%, #0ea5e9 50%, #0284c7 100%) !important;
}

.color-level-4 {
    /* Teal aqua frais (A4) */
    background: linear-gradient(135deg, #2dd4bf 0%, #14b8a6 50%, #0d9488 100%) !important;
}

/* Institution Color Classes (hash-based) */
.color-institution-0 {
    background: linear-gradient(135deg, #f59e0b 0%, #d97706 50%, #b45309 100%) !important;
}

.color-institution-1 {
    background: linear-gradient(135deg, #10b981 0%, #059669 50%, #047857 100%) !important;
}

.color-institution-2 {
    background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 50%, #6d28d9 100%) !important;
}

.color-institution-3 {
    background: linear-gradient(135deg, #06b6d4 0%, #0891b2 50%, #0e7490 100%) !important;
}

.color-institution-4 {
    background: linear-gradient(135deg, #ef4444 0%, #dc2626 50%, #b91c1c 100%) !important;
}

.color-neutral {
    background: linear-gradient(135deg, #64748b 0%, #475569 50%, #334155 100%) !important;
}

/* ==================== VISIBILITY ==================== */

.hidden { display: none !important; }
.invisible { visibility: hidden; }
.visible { visibility: visible; }

.opacity-0 { opacity: 0; }
.opacity-50 { opacity: 0.5; }
.opacity-75 { opacity: 0.75; }
.opacity-100 { opacity: 1; }

/* ==================== POSITION ==================== */

.relative { position: relative; }
.absolute { position: absolute; }
.fixed { position: fixed; }
.sticky { position: sticky; }

.inset-0 { inset: 0; }
.top-0 { top: 0; }
.right-0 { right: 0; }
.bottom-0 { bottom: 0; }
.left-0 { left: 0; }

.z-0 { z-index: 0; }
.z-10 { z-index: 10; }
.z-20 { z-index: 20; }
.z-30 { z-index: 30; }
.z-40 { z-index: 40; }
.z-50 { z-index: 50; }

/* ==================== OVERFLOW ==================== */

.overflow-hidden { overflow: hidden; }
.overflow-auto { overflow: auto; }
.overflow-scroll { overflow: scroll; }
.overflow-visible { overflow: visible; }

.overflow-x-hidden { overflow-x: hidden; }
.overflow-y-hidden { overflow-y: hidden; }
.overflow-x-auto { overflow-x: auto; }
.overflow-y-auto { overflow-y: auto; }

/* ==================== TRANSITIONS ==================== */

.transition { transition: var(--transition-all); }
.transition-fast { transition: var(--transition-fast); }
.transition-slow { transition: var(--transition-slow); }
.transition-colors { transition: var(--transition-colors); }
.transition-transform { transition: var(--transition-transform); }
.transition-opacity { transition: var(--transition-opacity); }
.transition-shadow { transition: var(--transition-shadow); }
.transition-none { transition: none; }

/* ==================== HOVER EFFECTS ==================== */

.hover-lift:hover {
    transform: translateY(calc(var(--anim-translate-hover)));
}

.hover-scale:hover {
    transform: scale(var(--anim-scale-hover));
}

.hover-glow:hover {
    box-shadow: 0 0 20px currentColor;
}

.hover-rotate:hover {
    transform: rotate(5deg);
}

/* ==================== CURSOR ==================== */

.cursor-pointer { cursor: pointer; }
.cursor-default { cursor: default; }
.cursor-move { cursor: move; }
.cursor-grab { cursor: grab; }
.cursor-grabbing { cursor: grabbing; }
.cursor-not-allowed { cursor: not-allowed; }

/* ==================== POINTER EVENTS ==================== */

.pointer-events-none { pointer-events: none; }
.pointer-events-auto { pointer-events: auto; }

/* ==================== USER SELECT ==================== */

.select-none { user-select: none; }
.select-text { user-select: text; }
.select-all { user-select: all; }

/* ==================== SCROLLBAR STYLING ==================== */

* {
    scrollbar-width: thin;
    scrollbar-color: var(--primary-light) var(--bg-tertiary);
}

*::-webkit-scrollbar {
    width: 10px;
    height: 10px;
}

*::-webkit-scrollbar-track {
    background: var(--bg-tertiary);
    border-radius: var(--radius-full);
}

*::-webkit-scrollbar-thumb {
    background: var(--gradient-primary);
    border-radius: var(--radius-full);
    border: 2px solid var(--bg-tertiary);
    transition: var(--transition-colors);
}

*::-webkit-scrollbar-thumb:hover {
    background: var(--primary);
    border-color: var(--bg-secondary);
}

/* Custom scrollbar pour dark theme */
[data-theme="dark"] *::-webkit-scrollbar-track {
    background: var(--bg-tertiary);
}

[data-theme="dark"] *::-webkit-scrollbar-thumb {
    background: var(--primary-light);
    border-color: var(--bg-tertiary);
}

/* ==================== LOADING SPINNER ==================== */

.spinner {
    display: inline-block;
    width: 20px;
    height: 20px;
    border: 3px solid var(--border-color);
    border-top-color: var(--primary);
    border-radius: var(--radius-full);
    animation: spin 0.8s linear infinite;
}

.spinner-lg {
    width: 40px;
    height: 40px;
    border-width: 4px;
}

/* ==================== BADGE SYSTEM (Modernized) ==================== */

.badge {
    display: inline-flex;
    align-items: center;
    gap: var(--spacing-xs);
    padding: var(--spacing-xs) var(--spacing-md);
    border-radius: var(--radius-full);
    font-size: var(--text-xs);
    font-weight: 700;
    line-height: 1;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    transition: var(--transition-all);
    border: 1px solid transparent;
    white-space: nowrap;
}

.badge:hover {
    transform: scale(var(--anim-scale-hover));
}

/* Badge variants */
.badge-primary {
    background: var(--primary-lighter);
    color: var(--primary);
    border-color: var(--primary-light);
}

.badge-danger {
    background: var(--danger-lighter);
    color: var(--danger);
    border-color: var(--danger-light);
}

.badge-success {
    background: var(--success-lighter);
    color: var(--success);
    border-color: var(--success-light);
}

.badge-warning {
    background: var(--warning-lighter);
    color: var(--warning);
    border-color: var(--warning-light);
}

.badge-info {
    background: var(--info-lighter);
    color: var(--info);
    border-color: var(--info-light);
}

.badge-accent {
    background: var(--accent-lighter);
    color: var(--accent);
    border-color: var(--accent-light);
}

/* Badge with gradient */
.badge-gradient {
    background: var(--gradient-primary);
    color: white;
    box-shadow: var(--shadow-primary);
}

/* ==================== BUTTON SYSTEM (Modernized) ==================== */

button,
.button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--spacing-sm);
    padding: var(--spacing-md) var(--spacing-lg);
    border: 2px solid transparent;
    border-radius: var(--radius-lg);
    font-size: var(--text-sm);
    font-weight: 600;
    line-height: 1;
    cursor: pointer;
    transition: var(--transition-all);
    position: relative;
    overflow: hidden;
    text-decoration: none;
    user-select: none;
    outline: none;
}

button::before,
.button::before {
    content: '';
    position: absolute;
    inset: 0;
    background: var(--gradient-glass);
    opacity: 0;
    transition: var(--transition-opacity);
}

button:hover::before,
.button:hover::before {
    opacity: 1;
}

button:hover,
.button:hover {
    transform: translateY(calc(var(--anim-translate-hover)));
    box-shadow: var(--shadow-lg);
}

button:active,
.button:active {
    transform: scale(var(--anim-scale-active));
}

button:disabled,
.button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: none;
}

/* Button variants */
.button-primary {
    background: var(--gradient-primary);
    color: white;
    box-shadow: var(--shadow-primary);
}

.button-primary:hover {
    box-shadow: var(--shadow-primary-lg);
}

.button-secondary {
    background: var(--bg-secondary);
    color: var(--text-primary);
    border-color: var(--border-color);
}

.button-secondary:hover {
    background: var(--bg-tertiary);
    border-color: var(--primary);
}

.button-danger {
    background: var(--gradient-warm);
    color: white;
    box-shadow: var(--shadow-danger);
}

.button-danger:hover {
    box-shadow: var(--shadow-danger-lg);
}

.button-success {
    background: var(--gradient-ocean);
    color: white;
    box-shadow: var(--shadow-success);
}

.button-success:hover {
    box-shadow: var(--shadow-success-lg);
}

.button-ghost {
    background: transparent;
    color: var(--text-primary);
    border-color: var(--border-color);
}

.button-ghost:hover {
    background: var(--bg-hover);
    border-color: var(--primary);
    color: var(--primary);
}

/* Button sizes */
.button-sm {
    padding: var(--spacing-sm) var(--spacing-md);
    font-size: var(--text-xs);
}

.button-lg {
    padding: var(--spacing-lg) var(--spacing-xl);
    font-size: var(--text-lg);
}

/* Button icon only */
.button-icon {
    width: 40px;
    height: 40px;
    padding: 0;
    border-radius: var(--radius-full);
}

.button-icon-sm {
    width: 32px;
    height: 32px;
}

.button-icon-lg {
    width: 48px;
    height: 48px;
}

/* ==================== CARD SYSTEM ==================== */

.card {
    background: var(--glass-bg-strong);
    backdrop-filter: var(--glass-blur);
    border-radius: var(--radius-xl);
    padding: var(--spacing-lg);
    box-shadow: var(--shadow-md);
    border: 1px solid var(--glass-border);
    transition: var(--transition-all);
}

.card:hover {
    box-shadow: var(--shadow-xl);
}

.card-header {
    padding-bottom: var(--spacing-md);
    margin-bottom: var(--spacing-md);
    border-bottom: 2px solid var(--glass-border);
}

.card-title {
    font-size: var(--text-xl);
    font-weight: 700;
    color: var(--text-primary);
    margin: 0;
}

.card-body {
    color: var(--text-secondary);
}

.card-footer {
    padding-top: var(--spacing-md);
    margin-top: var(--spacing-md);
    border-top: 1px solid var(--glass-border);
}

/* ==================== ALERT SYSTEM ==================== */

.alert {
    display: flex;
    align-items: flex-start;
    gap: var(--spacing-md);
    padding: var(--spacing-lg);
    border-radius: var(--radius-lg);
    border-left: 4px solid;
    background: var(--glass-bg);
    backdrop-filter: var(--glass-blur);
    margin-bottom: var(--spacing-md);
}

.alert-icon {
    font-size: 1.5rem;
    flex-shrink: 0;
}

.alert-content {
    flex: 1;
}

.alert-title {
    font-weight: 700;
    margin-bottom: var(--spacing-xs);
}

.alert-primary {
    border-left-color: var(--primary);
    background: var(--primary-lighter);
    color: var(--primary-dark);
}

.alert-danger {
    border-left-color: var(--danger);
    background: var(--danger-lighter);
    color: var(--danger-dark);
}

.alert-success {
    border-left-color: var(--success);
    background: var(--success-lighter);
    color: var(--success-dark);
}

.alert-warning {
    border-left-color: var(--warning);
    background: var(--warning-lighter);
    color: var(--warning-dark);
}

.alert-info {
    border-left-color: var(--info);
    background: var(--info-lighter);
    color: var(--info-dark);
}


/* styles/03-layout.css */
/**
 * PyCalendar Interface - Layout (Optimized)
 * Essential 3-column structure
 */

/* ==================== BASE ==================== */

html, body {
    height: 100%;
    overflow: hidden;
}

/* ==================== WRAPPER ==================== */

.app-wrapper {
    height: 100vh;
    display: flex;
    flex-direction: column;
    background: var(--bg-secondary);
    overflow: hidden;
}

/* ==================== HEADER ==================== */

.main-header {
    background: var(--glass-bg-strong);
    backdrop-filter: var(--glass-blur);
    -webkit-backdrop-filter: var(--glass-blur);
    box-shadow: var(--shadow-lg), 0 1px 0 0 var(--glass-border);
    position: sticky;
    top: 0;
    z-index: 100;
    border-bottom: 1px solid var(--glass-border);
    transition: var(--transition-all);
}

.main-header::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: var(--gradient-cool);
    opacity: 0.8;
}

.header-content {
    display: grid;
    grid-template-columns: 1fr 2fr 1fr;
    align-items: center;
    padding: var(--spacing-lg) var(--spacing-xl);
    gap: var(--spacing-xl);
    max-width: 1920px;
    margin: 0 auto;
}

.header-left,
.header-center,
.header-right {
    display: flex;
    align-items: center;
    gap: var(--spacing-md);
}

/* Logo amélioré */
.header-logo {
    display: flex;
    align-items: center;
    gap: var(--spacing-md);
    transition: var(--transition-transform);
}

.header-logo:hover {
    transform: translateX(4px);
}

.logo-icon {
    font-size: 2.5rem;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
    animation: bounce 2s ease-in-out infinite;
}

.logo-title {
    font-size: var(--text-2xl);
    font-weight: 800;
    color: var(--text-primary);
    margin: 0;
    background: var(--gradient-primary);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    letter-spacing: -0.5px;
}

.logo-subtitle {
    font-size: var(--text-sm);
    color: var(--text-secondary);
    margin: 0;
    font-weight: 500;
    letter-spacing: 0.3px;
}

/* Statistiques améliorées avec glassmorphism */
.header-stats {
    display: flex;
    gap: var(--spacing-lg);
    justify-content: center;
}

.header-stat {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--spacing-xs);
    padding: var(--spacing-md) var(--spacing-lg);
    border-radius: var(--radius-xl);
    background: var(--glass-bg);
    backdrop-filter: var(--glass-blur);
    border: 1px solid var(--glass-border);
    box-shadow: var(--shadow-sm);
    transition: var(--transition-all);
    cursor: pointer;
    position: relative;
    overflow: hidden;
}

.header-stat::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: var(--gradient-glass);
    transition: var(--transition-slow);
}

.header-stat:hover {
    transform: translateY(calc(var(--anim-translate-hover) * -1));
    box-shadow: var(--shadow-lg);
    border-color: var(--primary-light);
}

.header-stat:hover::before {
    left: 100%;
}

.stat-icon {
    font-size: 1.5rem;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
}

.stat-value {
    font-size: var(--text-2xl);
    font-weight: 800;
    color: var(--text-primary);
    line-height: 1;
    transition: var(--transition-colors);
}

.header-stat:hover .stat-value {
    color: var(--primary);
    transform: scale(1.1);
}

.stat-value.warning {
    color: var(--warning);
    animation: pulse 2s ease-in-out infinite;
}

.stat-label {
    font-size: var(--text-xs);
    color: var(--text-tertiary);
    text-transform: uppercase;
    font-weight: 600;
    letter-spacing: 0.5px;
}

/* Sélecteur de thème redesigné */
.theme-selector {
    display: flex;
    gap: var(--spacing-xs);
    padding: var(--spacing-xs);
    background: var(--glass-bg-light);
    backdrop-filter: var(--glass-blur);
    border-radius: var(--radius-full);
    border: 1px solid var(--glass-border);
    box-shadow: var(--shadow-sm);
}

.theme-btn {
    padding: var(--spacing-sm) var(--spacing-md);
    border: 2px solid transparent;
    border-radius: var(--radius-full);
    background: transparent;
    cursor: pointer;
    transition: var(--transition-all);
    position: relative;
    overflow: hidden;
}

.theme-btn::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: var(--radius-full);
    opacity: 0;
    transition: var(--transition-opacity);
}

.theme-btn[data-theme="light"]::before {
    background: var(--gradient-warm);
}

.theme-btn[data-theme="dark"]::before {
    background: linear-gradient(135deg, #1E293B 0%, #0F172A 100%);
}

.theme-btn:hover::before {
    opacity: 0.15;
}

.theme-btn.active {
    border-color: currentColor;
    transform: scale(var(--anim-scale-hover));
    box-shadow: var(--shadow-md);
}

.theme-btn.active::before {
    opacity: 0.2;
}

.theme-btn[data-theme="light"].active {
    color: #F59E0B;
}

.theme-btn[data-theme="dark"].active {
    color: #64748B;
}

.theme-icon {
    font-size: 1.25rem;
    filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1));
    display: block;
}

/* Bouton d'aide amélioré */
.btn-icon {
    padding: var(--spacing-sm) var(--spacing-md);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-full);
    background: var(--glass-bg);
    backdrop-filter: var(--glass-blur);
    cursor: pointer;
    transition: var(--transition-all);
    font-size: 1.25rem;
    box-shadow: var(--shadow-sm);
}

.btn-icon:hover {
    transform: scale(var(--anim-scale-hover)) rotate(15deg);
    box-shadow: var(--shadow-md);
    border-color: var(--primary);
    background: var(--glass-bg-strong);
}

.btn-icon:active {
    transform: scale(var(--anim-scale-active));
}

/* Sélecteur de palette de couleurs */
.palette-selector {
    display: flex;
    gap: var(--spacing-xs);
    padding: var(--spacing-xs);
    background: var(--glass-bg-light);
    backdrop-filter: var(--glass-blur);
    border-radius: var(--radius-full);
    border: 1px solid var(--glass-border);
    box-shadow: var(--shadow-sm);
    align-items: center;
}

.palette-btn {
    width: 32px;
    height: 32px;
    border: 2px solid transparent;
    border-radius: var(--radius-full);
    cursor: pointer;
    transition: var(--transition-all);
    position: relative;
    padding: 0;
    flex-shrink: 0;
}

/* Chaque bouton affiche son gradient */
.palette-btn[data-palette="purple"] {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

.palette-btn[data-palette="ocean"] {
    background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
}

.palette-btn[data-palette="sunset"] {
    background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
}

.palette-btn[data-palette="forest"] {
    background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
}

/* État actif avec bordure blanche */
.palette-btn.active {
    border-color: white;
    transform: scale(1.15);
    box-shadow: var(--shadow-lg), 0 0 0 3px rgba(255, 255, 255, 0.3);
}

/* Hover avec animation subtile */
.palette-btn:hover:not(.active) {
    transform: scale(1.1);
    box-shadow: var(--shadow-md);
}

/* Icône checkmark pour palette active */
.palette-btn.active::after {
    content: '✓';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: white;
    font-size: 14px;
    font-weight: 900;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

/* ==================== MAIN LAYOUT ==================== */

.main-layout {
    display: flex;
    flex: 1;
    overflow: hidden;
    position: relative;
}

/* ==================== SIDEBARS ==================== */

.sidebar {
    display: flex;
    flex-direction: column;
    background: var(--glass-bg-strong);
    backdrop-filter: var(--glass-blur);
    -webkit-backdrop-filter: var(--glass-blur);
    border: 1px solid var(--glass-border);
    overflow: hidden;
    transition: width var(--transition-slow) ease-in-out,
                opacity var(--transition-base) ease-in-out,
                transform var(--transition-slow) ease-in-out;
    box-shadow: var(--shadow-lg);
    position: relative;
}

/* SIDEBARS - Plus compactes et modernes */
.sidebar-left {
    width: 260px;
    min-width: 220px;
    max-width: 550px;
    border-right: 1px solid var(--glass-border);
}

.sidebar-right {
    width: 280px;
    min-width: 240px;
    max-width: 550px;
    border-left: 1px solid var(--glass-border);
}

/* État collapsed amélioré */
.sidebar.collapsed {
    width: 0 !important;
    min-width: 0;
    opacity: 0;
    transform: translateX(-20px);
    pointer-events: none;
    border: none;
    box-shadow: none;
}

.sidebar-right.collapsed {
    transform: translateX(20px);
}

/* Animation d'entrée pour les sidebars */
.sidebar:not(.collapsed) {
    animation: slideIn var(--transition-slow) ease-out;
}

@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateX(-20px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

/* En-tête de sidebar - Plus compact */
.sidebar-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--spacing-md) var(--spacing-lg);
    border-bottom: 2px solid var(--glass-border);
    background: var(--gradient-glass);
    position: sticky;
    top: 0;
    z-index: 10;
    backdrop-filter: var(--glass-blur-strong);
}

.sidebar-title {
    font-size: var(--text-base);
    font-weight: 700;
    color: var(--text-primary);
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    margin: 0;
}

.sidebar-icon {
    font-size: 1.5rem;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
}

/* Bouton de réduction amélioré */
.btn-collapse {
    padding: var(--spacing-sm) var(--spacing-md);
    border: 2px solid var(--glass-border);
    border-radius: var(--radius-full);
    background: var(--glass-bg);
    cursor: pointer;
    transition: var(--transition-all);
    font-weight: 700;
    font-size: 1.1rem;
    color: var(--text-secondary);
    box-shadow: var(--shadow-xs);
    min-width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    overflow: hidden;
}

.btn-collapse::before {
    content: '';
    position: absolute;
    inset: 0;
    background: var(--gradient-primary);
    opacity: 0;
    transition: var(--transition-base);
    border-radius: var(--radius-full);
}

.btn-collapse:hover {
    border-color: var(--primary);
    color: white;
    background: var(--primary);
    transform: scale(1.05);
    box-shadow: var(--shadow-primary-md);
}

.btn-collapse:active {
    transform: scale(0.95);
}

.btn-collapse span {
    position: relative;
    z-index: 1;
    transition: transform var(--transition-base);
    display: block;
}

.btn-collapse:hover {
    background: var(--primary);
    color: white;
    border-color: var(--primary);
    transform: scale(1.08) rotate(90deg);
    box-shadow: var(--shadow-primary-md);
}

.btn-collapse:active {
    transform: scale(0.95) rotate(90deg);
}

/* Contenu de sidebar */
.sidebar-content {
    flex: 1;
    padding: var(--spacing-lg);
    overflow-y: auto;
    overflow-x: hidden;
    /* Smooth scrolling */
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
}

/* Custom scrollbar pour sidebars */
.sidebar-content::-webkit-scrollbar {
    width: 8px;
}

.sidebar-content::-webkit-scrollbar-track {
    background: var(--bg-tertiary);
    border-radius: var(--radius-full);
}

.sidebar-content::-webkit-scrollbar-thumb {
    background: var(--primary-light);
    border-radius: var(--radius-full);
    transition: var(--transition-colors);
}

.sidebar-content::-webkit-scrollbar-thumb:hover {
    background: var(--primary);
}

/* Custom scrollbar pour main-content */
.main-content::-webkit-scrollbar {
    width: 10px;
}

.main-content::-webkit-scrollbar-track {
    background: var(--bg-secondary);
    border-radius: var(--radius-full);
}

.main-content::-webkit-scrollbar-thumb {
    background: var(--primary-light);
    border-radius: var(--radius-full);
    transition: var(--transition-colors);
}

.main-content::-webkit-scrollbar-thumb:hover {
    background: var(--primary);
}

/* Boutons pour afficher les sidebars */
.btn-show-sidebar {
    position: fixed;
    top: 50%;
    transform: translateY(-50%);
    padding: var(--spacing-lg) var(--spacing-md);
    background: var(--gradient-primary);
    backdrop-filter: var(--glass-blur);
    border: 2px solid var(--primary);
    border-radius: var(--radius-xl);
    cursor: pointer;
    z-index: 50;
    opacity: 0;
    pointer-events: none;
    box-shadow: var(--shadow-primary-lg);
    transition: var(--transition-all);
    font-size: 1.8rem;
    color: white;
    line-height: 1;
    font-weight: bold;
}

.btn-show-sidebar:hover {
    transform: translateY(-50%) scale(1.1);
    box-shadow: var(--shadow-primary-xl), var(--primary-glow);
    border-color: var(--primary-light);
}

.btn-show-sidebar:active {
    transform: translateY(-50%) scale(0.95);
}

.btn-show-left {
    left: var(--spacing-md);
}

.btn-show-right {
    right: var(--spacing-md);
}

/* Affiche les boutons quand les sidebars sont collapsed */
.sidebar-left.collapsed + .btn-show-left,
.sidebar-right + .btn-show-right {
    opacity: 1;
    pointer-events: auto;
    animation: fadeIn 0.4s ease-out, pulse 2s ease-in-out 0.5s infinite;
}

/* Cache le bouton droit quand la sidebar droite n'est PAS collapsed */
.sidebar-right:not(.collapsed) + .btn-show-right {
    opacity: 0;
    pointer-events: none;
}

/* ==================== RESIZE HANDLES ==================== */

.resize-handle {
    width: 4px;
    background: var(--glass-border);
    cursor: col-resize;
    position: relative;
    transition: var(--transition-base);
    z-index: 10;
    flex-shrink: 0;
}

.resize-handle::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 20px;
    height: 60px;
    background: var(--glass-bg-strong);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-full);
    opacity: 0;
    transition: var(--transition-base);
    pointer-events: none;
}

.resize-handle::after {
    content: '⋮';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: var(--text-tertiary);
    font-size: 1.2rem;
    font-weight: bold;
    opacity: 0;
    transition: var(--transition-base);
    pointer-events: none;
}

.resize-handle:hover,
.resize-handle.resizing {
    background: var(--primary);
    width: 6px;
}

.resize-handle:hover::before,
.resize-handle.resizing::before {
    opacity: 1;
}

.resize-handle:hover::after,
.resize-handle.resizing::after {
    opacity: 1;
    color: var(--primary);
}

.resize-handle.resizing {
    background: var(--primary-gradient);
    box-shadow: var(--primary-glow);
}

/* Active state pour le body pendant le resize */
body.resizing {
    cursor: col-resize !important;
    user-select: none !important;
}

body.resizing * {
    cursor: col-resize !important;
}

/* ==================== SIDEBAR LEFT CONTROLS ==================== */

.control-section {
    margin-bottom: var(--spacing-xl);
    padding: var(--spacing-lg);
    background: var(--glass-bg-light);
    backdrop-filter: var(--glass-blur);
    border-radius: var(--radius-xl);
    border: 1px solid var(--glass-border);
    transition: var(--transition-all);
}

.control-section:hover {
    background: var(--glass-bg);
    box-shadow: var(--shadow-sm);
}

.control-section-title {
    font-size: var(--text-base);
    font-weight: 700;
    color: var(--text-primary);
    margin-bottom: var(--spacing-md);
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    font-size: var(--text-sm);
    color: var(--text-secondary);
}

.control-section-title::before {
    content: '';
    display: block;
    width: 4px;
    height: 16px;
    background: var(--gradient-primary);
    border-radius: var(--radius-full);
}

/* Sélecteur de vue amélioré */
.view-selector {
    display: grid;
    grid-template-columns: 1fr;
    gap: var(--spacing-sm);
}

.view-btn {
    display: flex;
    align-items: center;
    gap: var(--spacing-md);
    padding: var(--spacing-md) var(--spacing-lg);
    border: 2px solid transparent;
    border-radius: var(--radius-lg);
    background: var(--bg-secondary);
    cursor: pointer;
    text-align: left;
    transition: var(--transition-all);
    position: relative;
    overflow: hidden;
    font-weight: 500;
    color: var(--text-primary);
}

.view-btn::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 4px;
    background: var(--primary);
    transform: scaleY(0);
    transition: var(--transition-base);
    border-radius: 0 var(--radius-full) var(--radius-full) 0;
}

.view-btn:hover {
    background: var(--bg-tertiary);
    transform: translateX(4px);
    box-shadow: var(--shadow-sm);
}

.view-btn:hover::before {
    transform: scaleY(1);
}

.view-btn.active {
    background: var(--primary);
    color: white;
    border-color: var(--primary);
    box-shadow: var(--shadow-primary);
    font-weight: 600;
}

.view-btn.active::before {
    transform: scaleY(1);
    background: white;
}

.view-icon {
    font-size: 1.5rem;
    filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1));
    transition: var(--transition-transform);
}

.view-btn:hover .view-icon,
.view-btn.active .view-icon {
    transform: scale(1.2);
}

.view-name {
    flex: 1;
}

/* Options items améliorés */
.option-group {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-md);
}

.option-item {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    padding: var(--spacing-sm);
    border-radius: var(--radius-md);
    transition: var(--transition-all);
    cursor: pointer;
}

.option-item:hover {
    background: var(--bg-hover);
}

.option-item input[type="checkbox"] {
    width: 20px;
    height: 20px;
    border: 2px solid var(--border-color);
    border-radius: var(--radius-sm);
    cursor: pointer;
    transition: var(--transition-all);
    accent-color: var(--primary);
}

.option-item input[type="checkbox"]:checked {
    transform: scale(var(--anim-scale-hover));
}

.option-label {
    font-size: var(--text-sm);
    font-weight: 500;
    color: var(--text-primary);
    user-select: none;
}

.option-label-full {
    font-size: var(--text-sm);
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: var(--spacing-xs);
}

/* Formulaire inputs améliorés */
.form-select-sidebar,
.form-input-sidebar {
    width: 100%;
    padding: var(--spacing-md);
    border: 2px solid var(--border-color);
    border-radius: var(--radius-lg);
    background: var(--bg-primary);
    font-size: var(--text-sm);
    font-weight: 500;
    transition: var(--transition-all);
    outline: none;
}

.form-select-sidebar:focus,
.form-input-sidebar:focus {
    border-color: var(--primary);
    box-shadow: var(--shadow-primary);
    background: white;
}

.form-select-sidebar:hover,
.form-input-sidebar:hover {
    border-color: var(--border-hover);
}

/* Boutons d'action améliorés */
.action-buttons {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-sm);
}

.btn {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--spacing-sm);
    width: 100%;
    padding: var(--spacing-md) var(--spacing-lg);
    border: 2px solid transparent;
    border-radius: var(--radius-lg);
    font-weight: 600;
    font-size: var(--text-sm);
    cursor: pointer;
    transition: var(--transition-all);
    position: relative;
    overflow: hidden;
}

.btn::before {
    content: '';
    position: absolute;
    inset: 0;
    background: var(--gradient-glass);
    opacity: 0;
    transition: var(--transition-opacity);
}

.btn:hover::before {
    opacity: 1;
}

.btn:hover {
    transform: translateY(calc(var(--anim-translate-hover)));
    box-shadow: var(--shadow-lg);
}

.btn:active {
    transform: scale(var(--anim-scale-active));
}

.btn-primary {
    background: var(--gradient-primary);
    color: white;
    box-shadow: var(--shadow-primary);
}

.btn-primary:hover {
    box-shadow: var(--shadow-primary-lg);
}

.btn-secondary {
    background: var(--bg-secondary);
    color: var(--text-primary);
    border-color: var(--border-color);
}

.btn-secondary:hover {
    background: var(--bg-tertiary);
    border-color: var(--primary);
}

.btn-icon {
    font-size: 1.25rem;
}

.btn-text {
    position: relative;
    z-index: 1;
}

/* ==================== MAIN CONTENT ==================== */

.main-content {
    flex: 1;
    display: flex;
    flex-direction: column;
    overflow-y: auto;
    overflow-x: hidden;
    background: var(--bg-primary);
    /* Smooth scrolling */
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
}

.view-container {
    display: none;
}

.view-container.active {
    display: flex;
    flex: 1;
    flex-direction: column;
    overflow: auto;
    min-height: min-content;
}

.empty-state {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100%;
    color: var(--text-secondary);
    text-align: center;
    padding: var(--spacing-2xl);
}

.empty-state-icon {
    font-size: 4rem;
    margin-bottom: var(--spacing-lg);
}

/* ==================== RESPONSIVE ==================== */

@media (max-width: 1024px) {
    .header-content {
        grid-template-columns: 1fr;
        gap: var(--spacing-md);
    }
    
    .header-stats {
        flex-wrap: wrap;
    }
    
    .sidebar-left,
    .sidebar-right {
        position: fixed;
        top: 0;
        bottom: 0;
        z-index: 200;
        box-shadow: var(--shadow);
    }
    
    .sidebar-left {
        left: -280px;
    }
    
    .sidebar-right {
        right: -320px;
    }
    
    .sidebar-left.visible {
        left: 0;
    }
    
    .sidebar-right.visible {
        right: 0;
    }
}

@media (max-width: 640px) {
    .header-content {
        padding: var(--spacing-md);
    }
    
    .logo-title {
        font-size: var(--text-lg);
    }
    
    .header-stats {
        gap: var(--spacing-sm);
    }
    
    .header-stat {
        padding: var(--spacing-xs) var(--spacing-sm);
    }
    
    .stat-value {
        font-size: var(--text-lg);
    }
}


/* styles/04-enhancements.css */
/**
 * PyCalendar Interface - Enhancements (Optimized)
 * Only essential animations and visual improvements
 */

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes slideIn {
    from { 
        opacity: 0;
        transform: translateY(-10px);
    }
    to { 
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes spin {
    to { transform: rotate(360deg); }
}

.main-header,
.sidebar,
.btn,
button,
.filter-option,
input,
select {
    transition: all var(--transition-base);
}

button:focus-visible,
input:focus-visible,
select:focus-visible,
.btn:focus-visible {
    outline: 2px solid var(--primary);
    outline-offset: 2px;
}

.btn:hover,
button:hover:not(:disabled) {
    transform: translateY(-1px);
    box-shadow: var(--shadow);
}

.btn:active,
button:active {
    transform: translateY(0);
}

.loading {
    position: relative;
    pointer-events: none;
    opacity: 0.6;
}

.loading::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 20px;
    height: 20px;
    margin: -10px 0 0 -10px;
    border: 2px solid var(--primary);
    border-top-color: transparent;
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
}

button:disabled,
.btn:disabled,
input:disabled,
select:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}


/* styles/05-backgrounds-france.css */
/**
 * PyCalendar Interface - Theme Decorations
 * Subtle theme visual elements
 */

/* Optional: Add subtle top accent bar for dark theme */
[data-theme="dark"] .app-wrapper::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    height: 2px;
    background: var(--gradient-primary);
    z-index: 9999;
    opacity: 0.6;
}

/* Optional: Add subtle header accent for enhanced visibility */
.main-header::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(90deg, 
        transparent 0%, 
        var(--primary) 50%, 
        transparent 100%);
    opacity: 0.3;
}


/* styles/components/match-card.css */
/**
 * PyCalendar Interface - Match Card Component v2.0
 * Style: Vibrant Card - Gradient background, modern & energetic
 */

/* ==================== BASE MATCH CARD - VIBRANT STYLE ==================== */

.match-card {
    border-radius: 8px;
    padding: 0.5rem;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
    transition: var(--transition-all);
    position: relative;
    overflow: hidden;
    cursor: pointer;
    color: white;
    height: 100%;
    width: 100%;
    min-width: 80px;
    box-sizing: border-box;
    border: 1.5px solid rgba(255, 255, 255, 0.25);
    display: flex;
    flex-direction: column;
    background: linear-gradient(135deg, rgba(102, 126, 234, 0.9) 0%, rgba(118, 75, 162, 0.9) 100%);
}

.match-wrapper {
    box-sizing: border-box;
}

/* Background par défaut uniquement si aucun mode de coloration n'est actif */
.agenda-view-container:not([class*="color-"]) .match-card,
.agenda-view-container.color-none .match-card {
    background: var(--primary-gradient) !important;
}

/* Effet de brillance radiale au survol */
.match-card::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    right: -50%;
    bottom: -50%;
    background: radial-gradient(circle at center, rgba(255, 255, 255, 0.15), transparent 60%);
    opacity: 0;
    transition: var(--transition-base);
    pointer-events: none;
}

.match-card:hover {
    transform: translateY(-2px) scale(1.01);
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3);
    border-color: rgba(255, 255, 255, 0.5);
}

.match-card:hover::before {
    opacity: 1;
}

/* Effet de pulse pour attirer l'attention */
.match-card.highlighted {
    animation: pulse 3s ease-in-out infinite;
}

/* ==================== MATCH HEADER ==================== */

.match-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: var(--spacing-md);
    padding-bottom: var(--spacing-md);
    border-bottom: 2px solid rgba(255, 255, 255, 0.2);
    position: relative;
}

.match-badges {
    display: flex;
    flex-wrap: wrap;
    gap: var(--spacing-xs);
    flex: 1;
}

.badge {
    display: inline-flex;
    align-items: center;
    gap: var(--spacing-xs);
    padding: var(--spacing-xs) var(--spacing-md);
    border-radius: var(--radius-full);
    font-size: var(--text-xs);
    font-weight: 700;
    line-height: 1;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    transition: var(--transition-all);
    background: rgba(255, 255, 255, 0.25);
    color: white;
    border: 1px solid rgba(255, 255, 255, 0.3);
}

.badge:hover {
    transform: scale(var(--anim-scale-hover));
    background: rgba(255, 255, 255, 0.35);
}

/* Badges spécifiques gardent leur style mais adapté au fond gradient */
.badge-poule {
    background: rgba(255, 255, 255, 0.25);
    color: white;
}

.badge-gender-male,
.badge-gender-female,
.badge-gender-mixed,
.badge-cat-a1,
.badge-cat-a2,
.badge-cat-a3,
.badge-cat-a4,
.badge-week {
    background: rgba(255, 255, 255, 0.25);
    color: white;
}

.badge-unscheduled {
    background: rgba(239, 68, 68, 0.9);
    color: white;
    animation: pulse 2s ease-in-out infinite;
}

.badge-no-score {
    background: rgba(245, 158, 11, 0.9);
    color: white;
}

/* Horaire du match */
.match-time {
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
    padding: var(--spacing-xs) var(--spacing-md);
    background: rgba(255, 255, 255, 0.25);
    color: white;
    border-radius: var(--radius-full);
    font-weight: 700;
    font-size: var(--text-sm);
    transition: var(--transition-all);
    border: 1px solid rgba(255, 255, 255, 0.3);
}

.match-time:hover {
    transform: scale(var(--anim-scale-hover));
    background: rgba(255, 255, 255, 0.35);
}

.time-icon {
    font-size: 1.2em;
}

/* ==================== MATCH TEAMS ==================== */

.match-teams-container {
    display: grid;
    grid-template-columns: 1fr auto 1fr;
    align-items: center;
    gap: var(--spacing-lg);
    margin: var(--spacing-lg) 0;
}

.team-block {
    text-align: center;
    transition: var(--transition-transform);
}

.team-block:hover {
    transform: scale(1.05);
}

.team {
    margin-bottom: var(--spacing-xs);
}

.team-name {
    font-weight: 700;
    color: white;
    font-size: var(--text-lg);
    line-height: 1.3;
    transition: var(--transition-all);
}

.team-block:hover .team-name {
    text-shadow: 0 0 15px rgba(255, 255, 255, 0.8);
}

.team.highlighted {
    font-weight: 800;
    text-shadow: 0 0 20px rgba(255, 255, 255, 0.9);
}

.team-institution {
    font-size: var(--text-xs);
    color: rgba(255, 255, 255, 0.85);
    margin-top: var(--spacing-xs);
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

/* VS Separator modernisé */
.vs-divider {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--spacing-sm);
}

.vs-circle {
    width: 48px;
    height: 48px;
    border-radius: var(--radius-full);
    background: var(--gradient-primary);
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 800;
    font-size: var(--text-base);
    box-shadow: var(--shadow-primary);
    transition: var(--transition-all);
    position: relative;
}

.vs-circle::before {
    content: '';
    position: absolute;
    inset: -4px;
    border-radius: var(--radius-full);
    background: var(--gradient-cool);
    opacity: 0;
    transition: var(--transition-opacity);
    z-index: -1;
}

.match-card:hover .vs-circle {
    transform: rotate(360deg) scale(1.15);
    box-shadow: var(--shadow-primary-lg);
}

.match-card:hover .vs-circle::before {
    opacity: 0.3;
}

.score-display {
    font-size: var(--text-base);
    font-weight: 800;
    color: var(--text-primary);
    padding: var(--spacing-xs) var(--spacing-sm);
    background: var(--glass-bg);
    border-radius: var(--radius-md);
    min-width: 40px;
}

/* ==================== MATCH FOOTER ==================== */

.match-footer {
    margin-top: var(--spacing-lg);
    padding-top: var(--spacing-md);
    /* Score du match */
.team-score {
    font-size: var(--text-3xl);
    font-weight: 900;
    color: white;
    line-height: 1;
    text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
}

.team-score.winner {
    font-size: calc(var(--text-3xl) * 1.1);
    text-shadow: 0 0 20px rgba(255, 255, 255, 0.8);
    animation: pulse 2s ease-in-out infinite;
}

/* VS Circle */
.vs-circle {
    width: 56px;
    height: 56px;
    background: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--primary);
    font-weight: 900;
    font-size: var(--text-lg);
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    transition: var(--transition-all);
}

.vs-circle:hover {
    transform: rotate(180deg) scale(1.1);
}

/* ==================== MATCH INFO ==================== */

.match-info {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: var(--spacing-lg);
    padding-top: var(--spacing-md);
    border-top: 2px solid rgba(255, 255, 255, 0.2);
}

.match-venue {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    padding: var(--spacing-sm) var(--spacing-md);
    background: rgba(255, 255, 255, 0.2);
    backdrop-filter: blur(10px);
    border-radius: var(--radius-lg);
    font-size: var(--text-sm);
    font-weight: 600;
    color: white;
    transition: var(--transition-all);
    border: 1px solid rgba(255, 255, 255, 0.3);
}

.match-venue:hover {
    background: rgba(255, 255, 255, 0.3);
    transform: translateX(4px);
}

.venue-icon {
    font-size: 1.3em;
}

.match-pool {
    padding: var(--spacing-sm) var(--spacing-md);
    background: rgba(255, 255, 255, 0.2);
    border-radius: var(--radius-lg);
    font-weight: 700;
    font-size: var(--text-sm);
    color: white;
    border: 1px solid rgba(255, 255, 255, 0.3);
}

/* ==================== MATCH STATES ==================== */

.match-card.unscheduled {
    background: linear-gradient(135deg, var(--danger) 0%, #DC2626 100%);
}

.match-card.unscheduled::after {
    content: '⚠️ Non planifié';
    position: absolute;
    top: var(--spacing-sm);
    left: var(--spacing-sm);
    padding: var(--spacing-xs) var(--spacing-sm);
    background: rgba(0, 0, 0, 0.3);
    color: white;
    font-size: var(--text-xs);
    font-weight: 700;
    border-radius: var(--radius-md);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    border: 1px solid rgba(255, 255, 255, 0.3);
}

.match-card.no-score {
    opacity: 0.9;
}

.match-card.auto-scheduled {
    box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.5), var(--shadow-primary);
}

/* ==================== GENDER COLORING ==================== */

/* Bleu pour masculin */
.agenda-view-container.color-genre .match-card.male,
.agenda-view-container.color-genre .match-card.match-male {
    background: linear-gradient(135deg, #60a5fa 0%, #3b82f6 50%, #2563eb 100%) !important;
    color: white !important;
}

/* Rose pour féminin */
.agenda-view-container.color-genre .match-card.female,
.agenda-view-container.color-genre .match-card.match-female {
    background: linear-gradient(135deg, #f472b6 0%, #ec4899 50%, #db2777 100%) !important;
    color: white !important;
}

/* Violet pour mixte */
.agenda-view-container.color-genre .match-card.mixed,
.agenda-view-container.color-genre .match-card.match-mixed {
    background: linear-gradient(135deg, #a78bfa 0%, #8b5cf6 50%, #7c3aed 100%) !important;
    color: white !important;
}

/* Défaut si genre non détecté */
.agenda-view-container.color-genre .match-card:not(.male):not(.female):not(.mixed):not(.match-male):not(.match-female):not(.match-mixed) {
    background: linear-gradient(135deg, #94a3b8 0%, #64748b 50%, #475569 100%) !important;
    color: white !important;
}

/* ==================== LEVEL COLORING ==================== */

/* Violet foncé pour A1 (élite) */
.agenda-view-container.color-niveau .match-card[data-category="a1"],
.agenda-view-container.color-niveau .match-card.cat-a1 {
    background: linear-gradient(135deg, #a855f7 0%, #9333ea 40%, #7c3aed 100%) !important;
    color: white !important;
}

/* Bleu pour A2 */
.agenda-view-container.color-niveau .match-card[data-category="a2"],
.agenda-view-container.color-niveau .match-card.cat-a2 {
    background: linear-gradient(135deg, #6366f1 0%, #4f46e5 50%, #4338ca 100%) !important;
    color: white !important;
}

/* Cyan pour A3 */
.agenda-view-container.color-niveau .match-card[data-category="a3"],
.agenda-view-container.color-niveau .match-card.cat-a3 {
    background: linear-gradient(135deg, #38bdf8 0%, #0ea5e9 50%, #0284c7 100%) !important;
    color: white !important;
}

/* Teal pour A4 */
.agenda-view-container.color-niveau .match-card[data-category="a4"],
.agenda-view-container.color-niveau .match-card.cat-a4 {
    background: linear-gradient(135deg, #2dd4bf 0%, #14b8a6 50%, #0d9488 100%) !important;
    color: white !important;
}

/* Défaut pour niveau non détecté */
.agenda-view-container.color-niveau .match-card:not([data-category]) {
    background: linear-gradient(135deg, #94a3b8 0%, #64748b 50%, #475569 100%) !important;
    color: white !important;
}

/* ==================== PENALTY COLORING ==================== */

/* Vert pour aucune pénalité */
.agenda-view-container.color-penalite .match-card[data-penalties="0"],
.agenda-view-container.color-penalite .match-card:not([data-penalties]) {
    background: linear-gradient(135deg, #34d399 0%, #10b981 50%, #059669 100%) !important;
    color: white !important;
}

/* Orange pour pénalités faibles (1-5) */
.agenda-view-container.color-penalite .match-card[data-penalties="1"],
.agenda-view-container.color-penalite .match-card[data-penalties="2"],
.agenda-view-container.color-penalite .match-card[data-penalties="3"],
.agenda-view-container.color-penalite .match-card[data-penalties="4"],
.agenda-view-container.color-penalite .match-card[data-penalties="5"] {
    background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 50%, #d97706 100%) !important;
    color: white !important;
}

/* Rouge pour pénalités élevées (6+) */
.agenda-view-container.color-penalite .match-card.penalty-high,
.agenda-view-container.color-penalite .match-card.penalty-critical {
    background: linear-gradient(135deg, #f87171 0%, #ef4444 50%, #dc2626 100%) !important;
    color: white !important;
}

/* ==================== STATUS COLORING ==================== */

/* Violet pour matchs fixés (non modifiables) */
.agenda-view-container.color-statut .match-card.match-fixed {
    background: linear-gradient(135deg, #a78bfa 0%, #8b5cf6 50%, #7c3aed 100%) !important;
    color: white !important;
}

/* Bleu pour matchs flexibles */
.agenda-view-container.color-statut .match-card:not(.match-fixed):not(.match-conflict-warning):not(.match-conflict-critical) {
    background: linear-gradient(135deg, #60a5fa 0%, #3b82f6 50%, #2563eb 100%) !important;
    color: white !important;
}

/* Orange pour conflits mineurs */
.agenda-view-container.color-statut .match-card.match-conflict-warning {
    background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 50%, #d97706 100%) !important;
    color: white !important;
}

/* Rouge pour conflits critiques */
.agenda-view-container.color-statut .match-card.match-conflict-critical {
    background: linear-gradient(135deg, #f87171 0%, #ef4444 50%, #dc2626 100%) !important;
    color: white !important;
}

.color-statut .match-card.match-conflict-critical {
    background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%) !important;
}

/* ==================== DRAG & DROP ==================== */

.match-card[draggable="true"] {
    cursor: grab;
}

.match-card[draggable="true"]:active {
    cursor: grabbing;
}

.match-card.dragging {
    opacity: 0.7;
    transform: rotate(3deg) scale(0.98);
    box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
}

.match-card.drop-target {
    box-shadow: 0 0 0 4px white, 0 0 0 6px var(--primary), var(--shadow-2xl);
    transform: scale(1.03);
}

/* ==================== EDIT BUTTON ==================== */

.match-edit-btn {
    position: absolute;
    top: var(--spacing-md);
    right: var(--spacing-md);
    width: 40px;
    height: 40px;
    border-radius: var(--radius-full);
    background: rgba(255, 255, 255, 0.25);
    backdrop-filter: blur(10px);
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    border: 2px solid rgba(255, 255, 255, 0.4);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 18px;
    color: white;
    opacity: 0;
    transition: var(--transition-all);
    z-index: 10;
    cursor: pointer;
}

.match-card:hover .match-edit-btn {
    opacity: 1;
}

.match-edit-btn:hover {
    background: white;
    color: var(--primary);
    transform: scale(var(--anim-scale-hover)) rotate(90deg);
    border-color: white;
}

.match-edit-btn:active {
    transform: scale(var(--anim-scale-active));
}

/* ==================== PENALTY INDICATOR ==================== */

.penalty-indicator {
    position: absolute;
    bottom: var(--spacing-sm);
    right: var(--spacing-sm);
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
    padding: var(--spacing-xs) var(--spacing-md);
    border-radius: var(--radius-full);
    font-size: var(--text-xs);
    font-weight: 700;
    color: white;
    cursor: help;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
    transition: var(--transition-all);
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.3);
}

.penalty-indicator:hover {
    transform: scale(var(--anim-scale-hover));
    background: rgba(0, 0, 0, 0.5);
}

.penalty-low { 
    animation: pulse 3s ease-in-out infinite;
}

.penalty-medium { 
    animation: pulse 2s ease-in-out infinite;
}

.penalty-high { 
    animation: pulse 1.5s ease-in-out infinite;
}

.penalty-critical { 
    animation: pulse 1s ease-in-out infinite;
    box-shadow: 0 0 20px rgba(255, 0, 0, 0.6);
}

.match-venue {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    padding: var(--spacing-md) var(--spacing-lg);
    background: var(--glass-bg-light);
    backdrop-filter: var(--glass-blur);
    border-radius: var(--radius-lg);
    font-size: var(--text-sm);
    font-weight: 600;
    color: var(--text-secondary);
    transition: var(--transition-all);
    border: 1px solid var(--glass-border);
}

.match-venue:hover {
    background: var(--primary-lighter);
    color: var(--primary);
    border-color: var(--primary);
    transform: translateX(4px);
    box-shadow: var(--shadow-sm);
}

.venue-icon {
    font-size: 1.3em;
    filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1));
}

/* ==================== MATCH STATES ==================== */

.match-card.unscheduled {
    border-left-color: var(--danger);
    border-left-width: 6px;
    background: linear-gradient(135deg, var(--danger-lighter) 0%, var(--glass-bg-strong) 50%);
}

.match-card.unscheduled::after {
    content: '⚠️ Non planifié';
    position: absolute;
    top: var(--spacing-sm);
    left: var(--spacing-sm);
    padding: var(--spacing-xs) var(--spacing-sm);
    background: var(--danger);
    color: white;
    font-size: var(--text-xs);
    font-weight: 700;
    border-radius: var(--radius-md);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.match-card.no-score {
    border-left-color: var(--warning);
    border-left-width: 5px;
}

.match-card.auto-scheduled {
    border-left-style: dashed;
    border-left-width: 5px;
}

/* ==================== GENDER COLORING ==================== */

.color-genre .match-card.male {
    background: linear-gradient(135deg, 
        var(--male-lighter) 0%, 
        var(--glass-bg-strong) 70%);
    border-left-color: var(--male);
    border-left-width: 5px;
}

.color-genre .match-card.female {
    background: linear-gradient(135deg, 
        var(--female-lighter) 0%, 
        var(--glass-bg-strong) 70%);
    border-left-color: var(--female);
    border-left-width: 5px;
}

.color-genre .match-card.mixed {
    background: linear-gradient(135deg, 
        var(--mixed-lighter) 0%, 
        var(--glass-bg-strong) 70%);
    border-left-color: var(--mixed);
    border-left-width: 5px;
}

/* ==================== LEVEL COLORING ==================== */

.color-level .match-card[data-category="a1"] {
    background: linear-gradient(135deg, 
        var(--cat-a1-light) 0%, 
        var(--glass-bg-strong) 70%);
    border-left-color: var(--cat-a1);
    border-left-width: 5px;
}

.color-level .match-card[data-category="a2"] {
    background: linear-gradient(135deg, 
        var(--cat-a2-light) 0%, 
        var(--glass-bg-strong) 70%);
    border-left-color: var(--cat-a2);
    border-left-width: 5px;
}

.color-level .match-card[data-category="a3"] {
    background: linear-gradient(135deg, 
        var(--cat-a3-light) 0%, 
        var(--glass-bg-strong) 70%);
    border-left-color: var(--cat-a3);
    border-left-width: 5px;
}

.color-level .match-card[data-category="a4"] {
    background: linear-gradient(135deg, 
        var(--cat-a4-light) 0%, 
        var(--glass-bg-strong) 70%);
    border-left-color: var(--cat-a4);
    border-left-width: 5px;
}

/* ==================== DRAG & DROP ==================== */

.match-card[draggable="true"] {
    cursor: grab;
}

.match-card[draggable="true"]:active {
    cursor: grabbing;
}

.match-card.dragging {
    opacity: 0.6;
    transform: rotate(3deg) scale(0.95);
    box-shadow: var(--shadow-2xl);
    border-left-width: 8px;
}

.match-card.drop-target {
    box-shadow: 0 0 0 4px var(--primary), var(--shadow-xl);
    background: var(--primary-lighter);
    transform: scale(1.02);
}

/* ==================== EDIT BUTTON ==================== */

.match-edit-btn {
    position: absolute;
    top: var(--spacing-md);
    right: var(--spacing-md);
    width: 40px;
    height: 40px;
    border-radius: var(--radius-full);
    background: var(--glass-bg-strong);
    backdrop-filter: var(--glass-blur);
    box-shadow: var(--shadow-lg);
    border: 2px solid var(--glass-border);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 18px;
    opacity: 0;
    transition: var(--transition-all);
    z-index: 10;
    cursor: pointer;
}

.match-card:hover .match-edit-btn {
    opacity: 1;
    transform: rotate(0deg);
}

.match-edit-btn:hover {
    background: var(--primary);
    color: white;
    transform: scale(var(--anim-scale-hover)) rotate(90deg);
    box-shadow: var(--shadow-primary-lg);
    border-color: var(--primary);
}

.match-edit-btn:active {
    transform: scale(var(--anim-scale-active));
}

/* ==================== PENALTY INDICATOR ==================== */

.penalty-indicator {
    position: absolute;
    bottom: var(--spacing-sm);
    right: var(--spacing-sm);
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
    padding: var(--spacing-xs) var(--spacing-md);
    border-radius: var(--radius-full);
    font-size: var(--text-xs);
    font-weight: 700;
    color: white;
    cursor: help;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    box-shadow: var(--shadow-md);
    transition: var(--transition-all);
}

.penalty-indicator:hover {
    transform: scale(var(--anim-scale-hover));
}

.penalty-low { 
    background: var(--gradient-warm);
    animation: pulse 3s ease-in-out infinite;
}

.penalty-medium { 
    background: var(--danger);
    animation: pulse 2s ease-in-out infinite;
}

.penalty-high { 
    background: var(--gradient-warm);
    animation: pulse 1.5s ease-in-out infinite;
}

.penalty-critical { 
    background: linear-gradient(135deg, #7f1d1d 0%, #450a0a 100%);
    animation: pulse 1s ease-in-out infinite;
    box-shadow: var(--conflict-glow);
}

/* ==================== COMPACT STYLES FOR AGENDA VIEW ==================== */

/* Team info compact - sans institution */
.team-info-compact {
    display: flex;
    flex-direction: column;
    gap: 0.15rem;
    align-items: flex-start;
}

.team-name-row {
    display: flex;
    align-items: center;
    gap: 0.3rem;
    width: 100%;
}

.team-name-compact {
    font-size: 0.75rem;
    font-weight: 700;
    line-height: 1.3;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
    letter-spacing: 0.02em;
    font-family: 'Inter', 'Segoe UI', -apple-system, sans-serif;
    flex: 1;
}

.team-num-compact {
    font-size: 0.65rem;
    font-weight: 800;
    background: rgba(255, 255, 255, 0.25);
    padding: 0.15rem 0.35rem;
    border-radius: 4px;
    letter-spacing: 0.03em;
    font-family: 'Roboto Mono', 'Courier New', monospace;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.15);
    border: 1px solid rgba(255, 255, 255, 0.15);
}

/* Horaire préféré affiché */
.pref-time {
    font-size: 0.625rem;
    font-weight: 700;
    padding: 0.15rem 0.4rem;
    background: rgba(255, 223, 0, 0.25);
    border-radius: 4px;
    display: inline-flex;
    align-items: center;
    gap: 0.15rem;
    border: 1px solid rgba(255, 223, 0, 0.4);
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2), 0 0 8px rgba(255, 223, 0, 0.3);
    font-family: 'Roboto Mono', monospace;
    letter-spacing: 0.03em;
}

/* Catégorie compacte */
.category-compact {
    font-size: 0.65rem;
    font-weight: 900;
    padding: 0.15rem 0.4rem;
    background: rgba(255, 255, 255, 0.35);
    border-radius: 4px;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
    font-family: 'Roboto', 'Arial', sans-serif;
    border: 1px solid rgba(255, 255, 255, 0.2);
}

/* Genre indicator plus petit et mieux intégré */
.genre-indicator {
    font-size: 0.8rem;
    filter: drop-shadow(0 1px 3px rgba(0, 0, 0, 0.3));
    margin-right: 0.15rem;
}

/* Infos compactes du match */
.match-info-compact {
    display: flex;
    gap: 0.4rem;
    align-items: center;
    justify-content: center;
    margin-top: 0.4rem;
    padding-top: 0.4rem;
    border-top: 1px solid rgba(255, 255, 255, 0.3);
    font-size: 0.625rem;
}

.info-poule {
    font-weight: 800;
    padding: 0.15rem 0.4rem;
    background: rgba(255, 255, 255, 0.3);
    border-radius: 4px;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    font-family: 'Roboto', sans-serif;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.15);
    border: 1px solid rgba(255, 255, 255, 0.2);
}

.info-score {
    font-weight: 900;
    padding: 0.2rem 0.5rem;
    background: rgba(255, 255, 255, 0.4);
    border-radius: 5px;
    letter-spacing: 0.08em;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.25);
    font-family: 'Roboto Mono', monospace;
    font-size: 0.7rem;
    border: 1px solid rgba(255, 255, 255, 0.25);
}

/* Réduction de l'espace dans le match header */
.match-header {
    margin-bottom: 0.3rem;
    padding-bottom: 0.3rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.25);
}

.match-header-left,
.match-header-right {
    display: flex;
    align-items: center;
    gap: 0.3rem;
    flex-wrap: wrap;
}

/* VS plus compact et stylisé */
.match-vs {
    font-size: 0.625rem;
    font-weight: 900;
    margin: 0.3rem 0;
    opacity: 0.8;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: rgba(255, 255, 255, 0.9);
    text-align: center;
    font-family: 'Roboto', sans-serif;
}

/* Match time plus compact et stylisé */
.match-time {
    font-size: 0.625rem;
    font-weight: 800;
    padding: 0.15rem 0.4rem;
    background: rgba(255, 255, 255, 0.3);
    border-radius: 4px;
    font-family: 'Roboto Mono', monospace;
    letter-spacing: 0.03em;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.15);
    border: 1px solid rgba(255, 255, 255, 0.2);
}

/* Badges plus compacts et stylisés */
.match-badge {
    font-size: 0.7rem;
    padding: 0.15rem 0.3rem;
    border-radius: 4px;
    background: rgba(255, 255, 255, 0.25);
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

/* Teams container */
.match-teams {
    display: flex;
    flex-direction: column;
    gap: 0.3rem;
    flex: 1;
}

/* Card content */
.match-card-content {
    display: flex;
    flex-direction: column;
    height: 100%;
    font-size: 0.7rem;
}

/* Hover effect amélioré */
.match-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25);
    border-color: rgba(255, 255, 255, 0.4);
}

.match-card:hover::before {
    opacity: 0.3;
}

/* Amélioration globale des polices */
.match-card {
    font-family: 'Inter', 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}



/* styles/components/filters.css */
/**
 * PyCalendar Interface - Filters (Compact & Vibrant)
 * Design compact avec gradients et présentation moderne
 */

/* Section de filtre - Plus compacte avec gradient accent */
.filter-section {
    margin-bottom: var(--spacing-lg);
    padding: var(--spacing-md);
    background: var(--glass-bg-light);
    backdrop-filter: var(--glass-blur);
    border-radius: var(--radius-lg);
    border: 1px solid var(--glass-border);
    transition: var(--transition-all);
}

.filter-section:hover {
    background: var(--glass-bg);
    box-shadow: var(--shadow-sm);
    border-color: var(--primary-lighter);
}

/* Titre compact avec gradient inline */
.filter-section-title {
    font-size: var(--text-sm);
    font-weight: 700;
    color: var(--text-primary);
    margin-bottom: var(--spacing-sm);
    padding-bottom: var(--spacing-sm);
    border-bottom: 2px solid var(--glass-border);
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.filter-section-title::before {
    content: '';
    display: block;
    width: 3px;
    height: 14px;
    background: var(--gradient-primary);
    border-radius: var(--radius-full);
    flex-shrink: 0;
}

/* Options en colonne compacte */
.filter-options {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-xs);
}

/* Option de filtre - Plus compacte */
.filter-option {
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
    padding: var(--spacing-sm) var(--spacing-md);
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: var(--transition-all);
    background: var(--bg-primary);
    border: 1.5px solid transparent;
    position: relative;
    overflow: hidden;
}

.filter-option::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 3px;
    background: var(--gradient-primary);
    transform: scaleY(0);
    transition: var(--transition-base);
    border-radius: 0 var(--radius-full) var(--radius-full) 0;
}

.filter-option:hover {
    background: var(--bg-tertiary);
    transform: translateX(3px);
    box-shadow: var(--shadow-xs);
}

.filter-option:hover::before {
    transform: scaleY(1);
}

/* Checkbox/Radio compact */
.filter-option input[type="radio"],
.filter-option input[type="checkbox"] {
    width: 18px;
    height: 18px;
    cursor: pointer;
    accent-color: var(--primary);
    transition: var(--transition-transform);
    flex-shrink: 0;
}

.filter-option input:checked {
    transform: scale(1.1);
}

/* Label compact */
.filter-option-label {
    flex: 1;
    font-size: var(--text-sm);
    font-weight: 500;
    color: var(--text-primary);
    cursor: pointer;
    transition: var(--transition-colors);
    line-height: 1.4;
}

.filter-option input:checked ~ .filter-option-label {
    font-weight: 700;
    color: var(--primary);
}

/* État sélectionné avec gradient subtil */
.filter-option:has(input:checked) {
    background: linear-gradient(
        to right,
        var(--primary-lighter) 0%,
        var(--bg-primary) 100%
    );
    border-color: var(--primary);
}

/* Select compact et moderne */
.filter-select {
    width: 100%;
    padding: var(--spacing-sm) var(--spacing-md);
    border: 1.5px solid var(--border-color);
    border-radius: var(--radius-md);
    background: var(--bg-primary);
    font-size: var(--text-sm);
    font-weight: 500;
    cursor: pointer;
    transition: var(--transition-all);
    outline: none;
}

.filter-select:hover {
    border-color: var(--border-hover);
    box-shadow: var(--shadow-xs);
}

.filter-select:focus {
    border-color: var(--primary);
    box-shadow: 0 0 0 3px var(--primary-lighter);
}

/* Grille de jours - Plus compacte */
.days-grid {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: var(--spacing-xs);
}

.day-option input[type="checkbox"] {
    display: none;
}

/* Labels de jour compacts avec gradient au hover */
.day-label {
    padding: var(--spacing-sm) 0;
    text-align: center;
    font-size: var(--text-xs);
    font-weight: 700;
    color: var(--text-secondary);
    background: var(--glass-bg-light);
    backdrop-filter: var(--glass-blur);
    border: 1.5px solid var(--glass-border);
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: var(--transition-all);
    text-transform: uppercase;
    letter-spacing: 0.3px;
}

.day-label:hover {
    background: var(--bg-tertiary);
    transform: translateY(-2px);
    box-shadow: var(--shadow-sm);
    border-color: var(--primary-lighter);
}

/* Jour sélectionné avec gradient */
.day-option input:checked + .day-label {
    background: var(--gradient-primary);
    color: white;
    border-color: transparent;
    box-shadow: var(--shadow-primary);
    transform: scale(1.05);
}

/* Inputs de temps compacts */
.time-inputs {
    display: flex;
    gap: var(--spacing-sm);
}

.time-input-group {
    flex: 1;
}

.time-label {
    display: block;
    font-size: var(--text-xs);
    font-weight: 700;
    color: var(--text-primary);
    margin-bottom: var(--spacing-xs);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.time-input {
    width: 100%;
    padding: var(--spacing-md);
    border: 2px solid var(--border-color);
    border-radius: var(--radius-lg);
    background: var(--bg-primary);
    font-size: var(--text-sm);
    font-family: 'Inter', monospace;
    font-weight: 600;
    transition: var(--transition-all);
    outline: none;
}

.time-input:hover {
    border-color: var(--border-hover);
}

.time-input:focus {
    border-color: var(--primary);
    box-shadow: var(--shadow-primary);
    background: white;
}

/* Boîte de recherche améliorée */
.search-box {
    position: relative;
}

.search-input {
    width: 100%;
    padding: var(--spacing-md) var(--spacing-md) var(--spacing-md) 2.75rem;
    border: 2px solid var(--border-color);
    border-radius: var(--radius-lg);
    background: var(--glass-bg-light);
    backdrop-filter: var(--glass-blur);
    font-size: var(--text-sm);
    font-weight: 500;
    transition: var(--transition-all);
    outline: none;
}

.search-input::placeholder {
    color: var(--text-tertiary);
    font-style: italic;
}

.search-input:hover {
    border-color: var(--border-hover);
    background: var(--bg-primary);
}

.search-input:focus {
    border-color: var(--primary);
    box-shadow: var(--shadow-primary);
    background: white;
}

.search-icon {
    position: absolute;
    left: var(--spacing-md);
    top: 50%;
    transform: translateY(-50%);
    color: var(--text-secondary);
    pointer-events: none;
    font-size: 1.25rem;
    transition: var(--transition-colors);
}

.search-input:focus ~ .search-icon {
    color: var(--primary);
}

/* Résumé des filtres modernisé */
.filter-summary {
    background: var(--gradient-glass);
    backdrop-filter: var(--glass-blur-strong);
    border-radius: var(--radius-xl);
    padding: var(--spacing-lg);
    margin-bottom: var(--spacing-xl);
    border: 2px solid var(--glass-border);
    box-shadow: var(--shadow-md);
}

.summary-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--spacing-md);
}

.summary-title {
    font-size: var(--text-sm);
    font-weight: 700;
    color: var(--text-primary);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.btn-clear-filters {
    padding: var(--spacing-sm) var(--spacing-md);
    background: var(--gradient-warm);
    color: white;
    border: 2px solid transparent;
    border-radius: var(--radius-full);
    font-size: var(--text-xs);
    font-weight: 700;
    cursor: pointer;
    transition: var(--transition-all);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    box-shadow: var(--shadow-danger);
}

.btn-clear-filters:hover {
    transform: scale(var(--anim-scale-hover));
    box-shadow: var(--shadow-danger-lg);
}

.btn-clear-filters:active {
    transform: scale(var(--anim-scale-active));
}

.summary-tags {
    display: flex;
    flex-wrap: wrap;
    gap: var(--spacing-sm);
}

.filter-tag {
    display: inline-flex;
    align-items: center;
    gap: var(--spacing-sm);
    padding: var(--spacing-sm) var(--spacing-md);
    background: var(--gradient-primary);
    color: white;
    border-radius: var(--radius-full);
    font-size: var(--text-xs);
    font-weight: 700;
    box-shadow: var(--shadow-primary);
    transition: var(--transition-all);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    animation: slideInLeft var(--transition-base);
}

.filter-tag:hover {
    transform: scale(var(--anim-scale-hover));
    box-shadow: var(--shadow-primary-lg);
}

.filter-tag-remove {
    cursor: pointer;
    font-size: 1.1em;
    opacity: 0.8;
    transition: var(--transition-opacity);
}

.filter-tag-remove:hover {
    opacity: 1;
}

.no-filters {
    color: var(--text-tertiary);
    font-size: var(--text-sm);
    font-style: italic;
    text-align: center;
    padding: var(--spacing-md);
}

@media (max-width: 1200px) {
    .days-grid {
        grid-template-columns: repeat(4, 1fr);
    }
}

@media (max-width: 768px) {
    .days-grid {
        grid-template-columns: repeat(3, 1fr);
    }
    
    .filter-section {
        padding: var(--spacing-md);
    }
}


/* styles/components/modals.css */
/**
 * PyCalendar Interface - Modal Component (Modernized)
 * Modales avec glassmorphism, backdrop blur et animations fluides
 */

/* ==================== MODAL OVERLAY ==================== */

.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
    animation: fadeIn var(--transition-slow);
    padding: var(--spacing-xl);
}

.modal-overlay.hidden {
    display: none;
}

/* Effet de pulsation subtile pour le fond */
.modal-overlay::before {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(circle at center, transparent 0%, rgba(0, 85, 164, 0.1) 100%);
    animation: pulse 3s ease-in-out infinite;
    pointer-events: none;
}

/* ==================== MODAL CONTAINER ==================== */

.modal {
    background: var(--glass-bg-strong);
    backdrop-filter: var(--glass-blur-strong);
    -webkit-backdrop-filter: var(--glass-blur-strong);
    border-radius: var(--radius-xl);
    box-shadow: var(--shadow-2xl);
    border: 2px solid var(--glass-border);
    max-width: 90vw;
    max-height: 90vh;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    z-index: 1001;
    animation: scaleIn var(--transition-slow);
    position: relative;
}

/* Bordure tricolore en haut */
.modal::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: var(--gradient-cool);
    opacity: 0.9;
}

.modal-sm {
    width: 450px;
}

.modal-md {
    width: 650px;
}

.modal-lg {
    width: 850px;
}

.modal-xl {
    width: 1100px;
}

/* ==================== MODAL HEADER ==================== */

.modal-header {
    padding: var(--spacing-xl);
    border-bottom: 2px solid var(--glass-border);
    display: flex;
    align-items: center;
    justify-content: space-between;
    background: var(--gradient-glass);
    backdrop-filter: var(--glass-blur);
    position: sticky;
    top: 0;
    z-index: 10;
}

.modal-title {
    font-size: var(--text-2xl);
    font-weight: 800;
    color: var(--text-primary);
    display: flex;
    align-items: center;
    gap: var(--spacing-md);
    letter-spacing: -0.5px;
}

.modal-title-icon {
    font-size: 1.75rem;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
}

.modal-close {
    width: 42px;
    height: 42px;
    border-radius: var(--radius-full);
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--glass-bg);
    border: 2px solid var(--glass-border);
    color: var(--text-secondary);
    cursor: pointer;
    font-size: 1.5rem;
    transition: var(--transition-all);
    box-shadow: var(--shadow-xs);
}

.modal-close:hover {
    background: var(--danger);
    color: white;
    transform: rotate(90deg) scale(var(--anim-scale-hover));
    box-shadow: var(--shadow-danger);
    border-color: var(--danger);
}

.modal-close:active {
    transform: rotate(90deg) scale(var(--anim-scale-active));
}

/* ==================== MODAL BODY ==================== */

.modal-body {
    padding: var(--spacing-xl);
    overflow-y: auto;
    flex: 1;
    color: var(--text-primary);
}

/* Custom scrollbar pour modal body */
.modal-body::-webkit-scrollbar {
    width: 10px;
}

.modal-body::-webkit-scrollbar-track {
    background: var(--bg-tertiary);
    border-radius: var(--radius-full);
}

.modal-body::-webkit-scrollbar-thumb {
    background: var(--gradient-primary);
    border-radius: var(--radius-full);
    border: 2px solid var(--bg-tertiary);
}

.modal-body p {
    margin-bottom: var(--spacing-md);
    line-height: 1.7;
}

/* Groupes d'inputs améliorés */
.input-group {
    margin-bottom: var(--spacing-lg);
}

.input-label {
    display: block;
    font-size: var(--text-sm);
    font-weight: 700;
    color: var(--text-primary);
    margin-bottom: var(--spacing-sm);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.input-label::after {
    content: ' *';
    color: var(--danger);
    font-weight: 700;
}

.input-label.optional::after {
    content: ' (optionnel)';
    color: var(--text-tertiary);
    font-weight: 400;
    text-transform: lowercase;
    letter-spacing: normal;
}

.input-field {
    width: 100%;
    padding: var(--spacing-md) var(--spacing-lg);
    background: var(--bg-primary);
    border: 2px solid var(--border-color);
    border-radius: var(--radius-lg);
    font-size: var(--text-base);
    font-weight: 500;
    color: var(--text-primary);
    transition: var(--transition-all);
    outline: none;
}

.input-field::placeholder {
    color: var(--text-tertiary);
    font-style: italic;
}

.input-field:hover {
    border-color: var(--border-hover);
    box-shadow: var(--shadow-xs);
}

.input-field:focus {
    border-color: var(--primary);
    box-shadow: var(--shadow-primary);
    background: white;
}

.input-field:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    background: var(--bg-tertiary);
}

/* Input avec icône */
.input-with-icon {
    position: relative;
}

.input-with-icon .input-field {
    padding-left: 3rem;
}

.input-icon {
    position: absolute;
    left: var(--spacing-md);
    top: 50%;
    transform: translateY(-50%);
    color: var(--text-tertiary);
    font-size: 1.25rem;
    pointer-events: none;
    transition: var(--transition-colors);
}

.input-field:focus ~ .input-icon {
    color: var(--primary);
}

/* Content spéciaux pour modal d'aide */
.help-content {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-xl);
}

.help-section {
    padding: var(--spacing-lg);
    background: var(--glass-bg-light);
    backdrop-filter: var(--glass-blur);
    border-radius: var(--radius-lg);
    border: 1px solid var(--glass-border);
    transition: var(--transition-all);
}

.help-section:hover {
    background: var(--glass-bg);
    box-shadow: var(--shadow-sm);
}

.help-section h3 {
    color: var(--text-primary);
    margin-bottom: var(--spacing-md);
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    font-weight: 700;
}

.help-section h3::before {
    content: '';
    display: block;
    width: 4px;
    height: 20px;
    background: var(--gradient-primary);
    border-radius: var(--radius-full);
}

.help-section p,
.help-section ul {
    color: var(--text-secondary);
    line-height: 1.7;
}

.help-section ul {
    margin-left: var(--spacing-lg);
    list-style-type: none;
}

.help-section li {
    margin-bottom: var(--spacing-sm);
    position: relative;
    padding-left: var(--spacing-md);
}

.help-section li::before {
    content: '→';
    position: absolute;
    left: 0;
    color: var(--primary);
    font-weight: 700;
}

.help-section kbd {
    display: inline-block;
    padding: var(--spacing-xs) var(--spacing-sm);
    background: var(--bg-tertiary);
    border: 1px solid var(--border-color);
    border-radius: var(--radius-sm);
    font-family: 'Monaco', 'Courier New', monospace;
    font-size: var(--text-xs);
    font-weight: 700;
    color: var(--text-primary);
    box-shadow: var(--shadow-xs);
}

/* ==================== MODAL FOOTER ==================== */

.modal-footer {
    padding: var(--spacing-lg) var(--spacing-xl);
    border-top: 2px solid var(--glass-border);
    display: flex;
    gap: var(--spacing-md);
    justify-content: flex-end;
    align-items: center;
    background: var(--gradient-glass);
    backdrop-filter: var(--glass-blur);
    position: sticky;
    bottom: 0;
}

.modal-footer-info {
    flex: 1;
    font-size: var(--text-sm);
    color: var(--text-tertiary);
    font-style: italic;
}

/* ==================== MODAL VARIANTS ==================== */

/* Modal de confirmation */
.modal-confirm .modal::before {
    background: var(--gradient-warm);
}

.modal-confirm .modal-header {
    border-left: 4px solid var(--warning);
}

/* Modal de danger */
.modal-danger .modal::before {
    background: var(--gradient-warm);
}

.modal-danger .modal-header {
    border-left: 4px solid var(--danger);
}

/* Modal de succès */
.modal-success .modal::before {
    background: var(--gradient-ocean);
}

.modal-success .modal-header {
    border-left: 4px solid var(--success);
}

/* ==================== MODAL RESPONSIVE ==================== */

@media (max-width: 768px) {
    .modal-overlay {
        padding: var(--spacing-md);
    }
    
    .modal {
        max-width: 100%;
        max-height: 100%;
        border-radius: var(--radius-lg);
    }
    
    .modal-sm,
    .modal-md,
    .modal-lg,
    .modal-xl {
        width: 100%;
    }
    
    .modal-header,
    .modal-body,
    .modal-footer {
        padding: var(--spacing-md);
    }
    
    .modal-title {
        font-size: var(--text-xl);
    }
    
    .modal-footer {
        flex-direction: column-reverse;
        gap: var(--spacing-sm);
    }
    
    .modal-footer .btn,
    .modal-footer .button {
        width: 100%;
    }
}


/* styles/components/loading.css */
/* ===============================================
   Empty States & Loading
   =============================================== */

/* Empty state container */
.empty-state {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 400px;
    padding: var(--spacing-xl);
    text-align: center;
}

.empty-state-icon {
    font-size: 4rem;
    margin-bottom: var(--spacing-lg);
    opacity: 0.5;
}

.empty-state-title {
    font-size: 1.5rem;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: var(--spacing-sm);
}

.empty-state-message {
    color: var(--text-secondary);
    max-width: 400px;
}

/* Loading spinner */
.loading {
    display: inline-block;
    width: 40px;
    height: 40px;
    border: 4px solid var(--border-color);
    border-top-color: var(--primary);
    border-radius: 50%;
    animation: spin 1s linear infinite;
}

@keyframes spin {
    to { transform: rotate(360deg); }
}

.loading-container {
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 200px;
}

.loading-text {
    margin-left: var(--spacing-md);
    color: var(--text-secondary);
}

/* Skeleton loading */
.skeleton {
    background: linear-gradient(
        90deg,
        var(--bg-secondary) 25%,
        var(--bg-tertiary) 50%,
        var(--bg-secondary) 75%
    );
    background-size: 200% 100%;
    animation: skeleton-loading 1.5s infinite;
    border-radius: 4px;
}

@keyframes skeleton-loading {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
}

.skeleton-text {
    height: 1rem;
    margin-bottom: var(--spacing-sm);
}

.skeleton-title {
    height: 1.5rem;
    width: 60%;
    margin-bottom: var(--spacing-md);
}

.skeleton-card {
    height: 120px;
    margin-bottom: var(--spacing-md);
}


/* styles/components/tabs.css */
/* ===============================================
   Tabs & Navigation
   =============================================== */

/* Tabs container */
.tabs-container {
    background: var(--bg-primary);
    border-radius: 8px;
    box-shadow: var(--shadow-md);
    overflow: hidden;
}

/* Tabs navigation */
.tabs-nav {
    display: flex;
    gap: 0;
    background: var(--bg-secondary);
    border-bottom: 2px solid var(--border-color);
    overflow-x: auto;
    overflow-y: hidden;
    -webkit-overflow-scrolling: touch;
}

.tabs-nav::-webkit-scrollbar {
    height: 4px;
}

.tabs-nav::-webkit-scrollbar-track {
    background: var(--bg-secondary);
}

.tabs-nav::-webkit-scrollbar-thumb {
    background: var(--border-color);
    border-radius: 2px;
}

/* Tab button */
.tab-button {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    padding: var(--spacing-md) var(--spacing-lg);
    background: transparent;
    border: none;
    border-bottom: 3px solid transparent;
    color: var(--text-secondary);
    font-size: 0.95rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease;
    white-space: nowrap;
    position: relative;
}

.tab-button:hover {
    background: var(--bg-hover);
    color: var(--text-primary);
}

.tab-button.active {
    color: var(--primary);
    border-bottom-color: var(--primary);
    background: var(--bg-primary);
}

.tab-button:focus {
    outline: none;
    box-shadow: inset 0 0 0 2px var(--primary-light);
}

.tab-icon {
    font-size: 1.1rem;
}

/* Badge on tab (for counts) */
.tab-badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 20px;
    height: 20px;
    padding: 0 6px;
    background: var(--danger);
    color: white;
    font-size: 0.75rem;
    font-weight: 600;
    border-radius: 10px;
    margin-left: var(--spacing-xs);
}

.tab-button.active .tab-badge {
    background: var(--primary);
}

/* Tab content */
.tab-content {
    padding: var(--spacing-lg);
    min-height: 500px;
}

/* Tab pane */
.tab-pane {
    display: none;
    animation: fadeIn 0.3s ease;
}

.tab-pane.active {
    display: block;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Responsive tabs */
@media (max-width: 768px) {
    .tab-button {
        padding: var(--spacing-sm) var(--spacing-md);
        font-size: 0.85rem;
    }
    
    .tab-icon {
        font-size: 1rem;
    }
    
    .tab-content {
        padding: var(--spacing-md);
    }
}


/* styles/components/views.css */
/**
 * PyCalendar Interface - Views (Optimized)
 * Common styles for all views
 */

/* ==================== VIEW WRAPPER ==================== */

.view-wrapper {
    display: flex;
    flex-direction: column;
    height: 100%;
    overflow: hidden;
}

.view-header {
    padding: var(--spacing-lg);
    background: var(--bg-secondary);
    border-bottom: 1px solid var(--border-color);
}

.view-title {
    font-size: var(--text-xl);
    font-weight: 700;
    color: var(--text-primary);
    margin: 0 0 var(--spacing-sm) 0;
}

.view-subtitle {
    font-size: var(--text-sm);
    color: var(--text-secondary);
    margin: 0;
}

.view-content {
    flex: 1;
    overflow-y: auto;
    padding: var(--spacing-lg);
}

/* ==================== MATCH GRID ==================== */

.match-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: var(--spacing-md);
}

/* ==================== MATCH LIST ==================== */

.match-list {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-sm);
}

/* ==================== LOADING ==================== */

.view-loading {
    display: flex;
    align-items: center;
    justify-content: center;
    height: 200px;
    font-size: var(--text-lg);
    color: var(--text-secondary);
}

/* ==================== EMPTY STATE ==================== */

.view-empty {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 200px;
    text-align: center;
    color: var(--text-secondary);
}

.view-empty-icon {
    font-size: 3rem;
    margin-bottom: var(--spacing-md);
}

.view-empty-text {
    font-size: var(--text-lg);
    margin-bottom: var(--spacing-sm);
}


/* styles/components/view-options.css */
/**
 * PyCalendar Interface - View Options (Optimized)
 * Dynamic view-specific options
 */

#view-options-container {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-md);
}

.option-group {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-md);
}

.option-item {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
}

.option-item input[type="checkbox"] {
    width: 18px;
    height: 18px;
}

.option-label {
    font-size: var(--text-sm);
    color: var(--text-primary);
}


/* styles/views/agenda-view.css */
/**
 * PyCalendar - Vue Agenda
 * Design amélioré avec colonnes par gymnase
 */

/* ============================================================
   ÉTAPE 1: STRUCTURE DE BASE - Container et Navigation
   ============================================================ */

/* Container principal - NON SCROLLABLE horizontalement */
.agenda-view-container {
    display: flex;
    flex-direction: column;
    height: 100%;
    width: 100%;
    overflow: hidden; /* Important: pas de scroll horizontal */
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
}

/* Barre de navigation - FIXÉE en haut (non-scrollable) */
.agenda-navigation-bar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem 1.5rem;
    background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
    backdrop-filter: blur(10px);
    border-bottom: 3px solid var(--primary-color, #667eea);
    box-shadow: 0 4px 12px rgba(0,0,0,0.08);
    flex-shrink: 0; /* Ne se réduit jamais */
    gap: 2rem;
    z-index: 100; /* Au-dessus du contenu */
}

/* Sections de la barre de navigation */
.nav-section {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.nav-left {
    min-width: 250px;
}

.nav-center {
    flex: 1;
    justify-content: center;
    min-width: 500px;
}

.nav-right {
    min-width: 250px;
    justify-content: flex-end;
}

/* Groupes d'informations */
.nav-info-group {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    background: rgba(102, 126, 234, 0.05);
    border-radius: 8px;
    transition: all 0.2s ease;
}

.nav-info-group:hover {
    background: rgba(102, 126, 234, 0.1);
    transform: translateY(-2px);
}

.nav-icon {
    font-size: 1.25rem;
}

.nav-label {
    font-size: 0.85rem;
    color: #6c757d;
    font-weight: 600;
}

.nav-value {
    font-size: 1rem;
    font-weight: 800;
    color: var(--primary-color, #667eea);
}

/* Navigation centrale - Journées */
.nav-button {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 48px;
    height: 48px;
    background: linear-gradient(135deg, var(--primary-color, #667eea) 0%, var(--primary-dark, #5568d3) 100%);
    color: white;
    border: none;
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
}

.nav-button:hover:not(:disabled) {
    transform: translateY(-3px);
    box-shadow: 0 6px 20px rgba(102, 126, 234, 0.5);
}

.nav-button:active:not(:disabled) {
    transform: translateY(-1px);
}

.nav-button:disabled {
    opacity: 0.3;
    cursor: not-allowed;
    background: linear-gradient(135deg, #adb5bd, #868e96);
    box-shadow: none;
    transform: none;
}

.nav-button-icon {
    font-size: 1.25rem;
    font-weight: 900;
}

/* Info item courant (journée OU gymnase selon le mode) */
.nav-current-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
    min-width: 350px;
    padding: 0.75rem 1.5rem;
    background: white;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.08);
}

.nav-item-main {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.nav-item-icon {
    font-size: 1.5rem;
}

.nav-item-label {
    font-size: 1.5rem;
    font-weight: 900;
    color: var(--primary-color, #667eea);
    letter-spacing: 1px;
}

.nav-item-indicator {
    padding: 0.25rem 0.75rem;
    background: linear-gradient(135deg, #f8f9fa, #e9ecef);
    border-radius: 20px;
    font-size: 0.85rem;
    font-weight: 700;
    color: #6c757d;
}

.nav-item-subtitle {
    font-size: 0.95rem;
    color: #495057;
    font-weight: 600;
    text-transform: capitalize;
}

/* Badge version */
.nav-version-badge {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    background: linear-gradient(135deg, #4ade80, #22c55e);
    color: white;
    border-radius: 20px;
    font-weight: 700;
    font-size: 0.85rem;
    box-shadow: 0 4px 12px rgba(74, 222, 128, 0.4);
}

.version-icon {
    font-size: 1rem;
}

/* Zone de contenu - SCROLLABLE verticalement ET horizontalement si nécessaire */
.agenda-scroll-wrapper {
    flex: 1; /* Prend tout l'espace restant */
    overflow-y: auto; /* Scroll vertical */
    overflow-x: auto; /* Scroll horizontal si nécessaire */
    position: relative;
}

/* Styles du scrollbar pour la zone de contenu */
.agenda-scroll-wrapper::-webkit-scrollbar {
    width: 12px;
    height: 12px; /* Scrollbar horizontale aussi */
}

.agenda-scroll-wrapper::-webkit-scrollbar-track {
    background: #f1f3f5;
    border-radius: 6px;
}

.agenda-scroll-wrapper::-webkit-scrollbar-thumb {
    background: linear-gradient(135deg, var(--primary-color, #667eea), var(--primary-dark, #5568d3));
    border-radius: 6px;
    border: 2px solid #f1f3f5;
}

.agenda-scroll-wrapper::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(135deg, var(--primary-dark, #5568d3), var(--primary-color, #667eea));
}

/* ============================================================
   FIN ÉTAPE 1 - Suite du CSS existant
   ============================================================ */

/* Container principal */
.agenda-grid-view {
    display: flex;
    flex-direction: column;
    height: 100%;
    overflow: hidden;
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
}

/* Toolbar */
.agenda-toolbar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem 1.5rem;
    background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
    backdrop-filter: blur(10px);
    border-bottom: 3px solid var(--primary-color, #667eea);
    box-shadow: 0 4px 12px rgba(0,0,0,0.08);
    flex-shrink: 0;
    gap: 2rem;
}

.toolbar-left, .toolbar-center, .toolbar-right {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.toolbar-center {
    flex: 1;
    justify-content: center;
}

/* Navigation par semaine */
.week-navigation {
    display: flex;
    align-items: center;
    gap: 2rem;
    padding: 0.5rem;
    background: rgba(102, 126, 234, 0.05);
    border-radius: 12px;
}

.week-nav-btn {
    padding: 0.75rem 1.5rem;
    background: linear-gradient(135deg, var(--primary-color, #667eea) 0%, var(--primary-dark, #5568d3) 100%);
    color: white;
    border: none;
    border-radius: 10px;
    font-weight: 700;
    font-size: 0.95rem;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.week-nav-btn:hover:not(:disabled) {
    transform: translateY(-3px);
    box-shadow: 0 6px 20px rgba(102, 126, 234, 0.5);
    background: linear-gradient(135deg, var(--primary-dark, #5568d3) 0%, var(--primary-color, #667eea) 100%);
}

.week-nav-btn:active:not(:disabled) {
    transform: translateY(-1px);
}

.week-nav-btn:disabled {
    opacity: 0.3;
    cursor: not-allowed;
    background: linear-gradient(135deg, #adb5bd, #868e96);
    box-shadow: none;
    transform: none;
}

.current-week-info {
    text-align: center;
    min-width: 320px;
    padding: 0.5rem 1.5rem;
    background: white;
    border-radius: 10px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.06);
}

.week-label {
    font-size: 1.2rem;
    font-weight: 800;
    color: var(--primary-color, #667eea);
    margin-bottom: 0.35rem;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.week-stats {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    font-size: 0.95rem;
    color: var(--text-secondary, #6c757d);
}

.week-stats strong {
    color: var(--primary-color, #667eea);
    font-size: 1.1rem;
}

.toolbar-stats {
    display: flex;
    align-items: center;
    gap: 1.5rem;
}

.stat-item {
    display: flex;
    align-items: center;
    gap: 0.6rem;
    font-size: 0.95rem;
    color: var(--text-secondary, #6c757d);
    padding: 0.5rem 1rem;
    background: white;
    border-radius: 8px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.05);
    font-weight: 600;
}

.stat-item strong {
    color: var(--primary-color, #667eea);
    font-size: 1.1rem;
    font-weight: 800;
}

.stat-icon {
    font-size: 1.2rem;
}

/* ============================================================
   ÉTAPE 1: Grid container (à l'intérieur de la zone scrollable)
   ============================================================ */
   
/* Grid container - Contient la colonne des horaires et les gymnases */
.agenda-grid-container {
    display: flex;
    flex-direction: row; /* Explicite : axe horizontal */
    flex: 1;
    overflow: visible; /* Permettre le débordement */
    position: relative;
    min-height: 0;
    box-shadow: inset 0 2px 4px rgba(0,0,0,0.05);
    padding: 1rem;
    background: #fafbfc;
    gap: 0; /* Pas de gap, on utilise border-right sur les colonnes */
}

/* Colonne des horaires fixe (fixée à gauche dans le scroll) */
.time-column-fixed {
    width: 85px;
    flex-shrink: 0;
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
    border-right: 3px solid #667eea;
    z-index: 10;
    overflow: hidden;
    box-shadow: 2px 0 8px rgba(0,0,0,0.06);
    position: sticky;
    left: 0;
    margin-right: 8px;
}

.time-scale {
    position: relative;
    width: 100%;
    height: 100%;
}

.time-marker {
    display: flex;
    align-items: flex-start;
    justify-content: center;
    padding-top: 0.25rem;
}

.time-label {
    font-size: 0.9rem;
    font-weight: 700;
    color: #5568d3;
    background: linear-gradient(135deg, #ffffff, #f8f9fa);
    padding: 4px 10px;
    border-radius: 6px;
    box-shadow: 0 2px 6px rgba(102, 126, 234, 0.2);
    border: 1px solid rgba(102, 126, 234, 0.2);
}

/* Container des gymnases OU des journées selon le mode */
.venues-container,
.weeks-container {
    display: flex !important;
    flex-direction: row !important; /* Force horizontal */
    flex-wrap: nowrap !important;
    flex: 1;
    overflow-x: auto !important; /* Scroll horizontal si nécessaire */
    overflow-y: visible;
    align-items: flex-start;
    background: #ffffff;
    padding: 0.5rem;
    gap: 0; /* Pas de gap, on utilise border-right + margin */
    min-width: 0; /* Permet le shrink si nécessaire */
}

/* Fallback pour conteneur sans classe correcte */
.agenda-grid-container > div:not(.time-column-fixed) {
    display: flex !important;
    flex-direction: row !important;
    flex: 1;
    overflow-x: auto !important;
    gap: 0;
    padding: 0.5rem;
    background: #ffffff;
}

/* Scrollbar personnalisée */
.venues-container::-webkit-scrollbar,
.weeks-container::-webkit-scrollbar {
    width: 12px;
    height: 12px;
}

.venues-container::-webkit-scrollbar-track,
.weeks-container::-webkit-scrollbar-track {
    background: rgba(233, 236, 239, 0.5);
    border-radius: 6px;
}

.venues-container::-webkit-scrollbar-thumb,
.weeks-container::-webkit-scrollbar-thumb {
    background: linear-gradient(135deg, var(--primary-color, #667eea), var(--primary-dark, #5568d3));
    border-radius: 6px;
    border: 2px solid rgba(233, 236, 239, 0.5);
}

.venues-container::-webkit-scrollbar-thumb:hover,
.weeks-container::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(135deg, var(--primary-dark, #5568d3), var(--primary-color, #667eea));
}

/* Colonne de gymnase OU de journée selon le mode */
.venue-column,
.week-column {
    display: flex;
    flex-direction: column;
    flex-shrink: 0; /* Ne pas réduire les colonnes */
    border-radius: 8px;
    background: linear-gradient(180deg, #ffffff 0%, #f8f9fa 100%);
    min-height: 100%;
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    overflow: visible;
    transition: all 0.3s ease;
    border-right: 2px solid #e9ecef;
    margin-right: 8px;
}

.venue-column:last-child,
.week-column:last-child {
    border-right: none;
    margin-right: 0;
}

.venue-column:hover,
.week-column:hover {
    box-shadow: 0 4px 16px rgba(102, 126, 234, 0.15);
    transform: translateY(-1px);
}

.venue-header,
.week-header {
    padding: 0;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border-bottom: 3px solid rgba(255, 255, 255, 0.2);
    position: sticky;
    top: 0;
    z-index: 5;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    display: flex;
    flex-direction: column;
}

.venue-name,
.week-name {
    font-size: 1.2rem;
    font-weight: 800;
    text-transform: uppercase;
    letter-spacing: 1.5px;
    text-shadow: 0 2px 4px rgba(0,0,0,0.3);
    background: rgba(0, 0, 0, 0.15);
    padding: 0.8rem 1rem;
    border-bottom: 2px solid rgba(255, 255, 255, 0.15);
    text-align: center;
}

.venue-info,
.week-info {
    display: flex;
    gap: 0.75rem;
    font-size: 0.8rem;
    opacity: 0.95;
    font-weight: 600;
    padding: 0.6rem 1rem;
    justify-content: center;
    flex-wrap: wrap;
}

.venue-capacity,
.venue-matches,
.venue-simultaneous,
.week-matches,
.week-simultaneous {
    display: flex;
    align-items: center;
    gap: 0.3rem;
    background: rgba(255, 255, 255, 0.25);
    padding: 0.3rem 0.7rem;
    border-radius: 12px;
    font-size: 0.75rem;
    white-space: nowrap;
}

.venue-simultaneous,
.week-simultaneous {
    background: rgba(255, 215, 0, 0.4);
    font-weight: 700;
}

.venue-body,
.week-body {
    position: relative;
    flex: 1;
    min-height: 800px;
    background: linear-gradient(to bottom, #ffffff 0%, #f8f9fa 100%);
}

.venue-body::after,
.week-body::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: repeating-linear-gradient(
        to bottom,
        transparent 0,
        transparent 119px,
        rgba(102, 126, 234, 0.1) 119px,
        rgba(102, 126, 234, 0.1) 120px
    );
    pointer-events: none;
    z-index: 0;
}

/* Match wrapper */
.match-wrapper {
    position: absolute;
    z-index: 2;
    transition: all 0.3s ease;
}

.match-wrapper:hover {
    z-index: 20;
}

/* Match card */
.match-card {
    height: 100%;
    padding: 14px;
    background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
    border-radius: 10px;
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.12);
    cursor: grab;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    display: flex;
    flex-direction: column;
    gap: 10px;
    position: relative;
    overflow: hidden;
    border: 2px solid transparent;
    border-left: 5px solid var(--primary-color, #667eea);
}

.match-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, rgba(102, 126, 234, 0.05) 0%, rgba(85, 104, 211, 0.05) 100%);
    opacity: 0;
    transition: opacity 0.3s ease;
    pointer-events: none;
}

.match-card:hover {
    transform: translateY(-4px) scale(1.02);
    box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
    border-left-color: var(--primary-dark, #5568d3);
    border-right: 2px solid rgba(102, 126, 234, 0.3);
    border-top: 2px solid rgba(102, 126, 234, 0.3);
    border-bottom: 2px solid rgba(102, 126, 234, 0.3);
}

.match-card:hover::before {
    opacity: 1;
}

.match-card:active {
    cursor: grabbing;
    transform: scale(0.98);
}

.match-card.match-fixed {
    background: linear-gradient(135deg, #e9ecef 0%, #dee2e6 100%);
    border-left-color: #adb5bd;
    cursor: not-allowed;
    opacity: 0.8;
}

.match-card.match-male {
    border-left-color: #4dabf7;
}

.match-card.match-male:hover {
    box-shadow: 0 8px 25px rgba(77, 171, 247, 0.3);
}

.match-card.match-female {
    border-left-color: #ff6b9d;
}

.match-card.match-female:hover {
    box-shadow: 0 8px 25px rgba(255, 107, 157, 0.3);
}

/* Match content */
.match-card-content {
    display: flex;
    flex-direction: column;
    gap: 10px;
    height: 100%;
    position: relative;
    z-index: 1;
}

.match-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: 10px;
}

.match-header-left,
.match-header-right {
    display: flex;
    align-items: center;
    gap: 8px;
}

.match-time {
    font-size: 0.9rem;
    font-weight: 800;
    color: white;
    background: linear-gradient(135deg, var(--primary-color, #667eea) 0%, var(--primary-dark, #5568d3) 100%);
    padding: 5px 12px;
    border-radius: 8px;
    box-shadow: 0 2px 6px rgba(102, 126, 234, 0.3);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.match-badges {
    display: flex;
    gap: 6px;
}

.match-badge {
    padding: 4px 10px;
    border-radius: 6px;
    font-size: 0.8rem;
    font-weight: 700;
    background: linear-gradient(135deg, rgba(108, 117, 125, 0.15), rgba(108, 117, 125, 0.1));
    color: var(--text-secondary, #6c757d);
    text-transform: uppercase;
    letter-spacing: 0.3px;
}

.genre-indicator {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 28px;
    height: 28px;
    border-radius: 50%;
    font-size: 0.85rem;
    font-weight: 800;
    color: white;
    box-shadow: 0 2px 8px rgba(0,0,0,0.15);
}

.genre-indicator.male {
    background: linear-gradient(135deg, #4dabf7 0%, #339af0 100%);
}

.genre-indicator.female {
    background: linear-gradient(135deg, #ff6b9d 0%, #f06595 100%);
}

.match-teams {
    display: flex;
    flex-direction: column;
    gap: 8px;
    flex: 1;
}

.match-team {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 0.4rem;
    background: rgba(102, 126, 234, 0.04);
    border-radius: 6px;
    transition: all 0.2s ease;
}

.match-team:hover {
    background: rgba(102, 126, 234, 0.08);
}

.team-name {
    font-weight: 700;
    font-size: 0.95rem;
    color: var(--text-primary, #212529);
    flex: 1;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.team-num {
    font-size: 0.8rem;
    color: var(--primary-color, #667eea);
    background: rgba(102, 126, 234, 0.12);
    padding: 4px 8px;
    border-radius: 5px;
    font-weight: 700;
}

.match-vs {
    text-align: center;
    font-size: 0.85rem;
    color: var(--text-muted, #adb5bd);
    font-weight: 800;
    text-transform: uppercase;
    letter-spacing: 1px;
}

/* States */
.empty-state,
.error-state {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100%;
    padding: 3rem;
    text-align: center;
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
    border-radius: 12px;
}

.empty-state {
    font-size: 1.2rem;
    font-weight: 600;
    color: var(--text-secondary, #6c757d);
}

.error-state h3 {
    color: #dc3545;
    margin-bottom: 1rem;
    font-size: 1.5rem;
    font-weight: 800;
}

.error-state pre {
    background: white;
    padding: 1.5rem;
    border-radius: 10px;
    max-width: 100%;
    max-height: 300px;
    overflow: auto;
    font-size: 0.85rem;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.error-state button {
    margin-top: 1.5rem;
    padding: 0.8rem 2rem;
    background: linear-gradient(135deg, var(--primary-color, #667eea), var(--primary-dark, #5568d3));
    color: white;
    border: none;
    border-radius: 10px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s ease;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
}

.error-state button:hover {
    background: linear-gradient(135deg, var(--primary-dark, #5568d3), var(--primary-color, #667eea));
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
}


/* styles/views/pools-view.css */
/**
 * PyCalendar Interface - Pools View (Functional)
 * Complete functional styles for pools display with ranking tables
 */

/* ==================== POOLS CONTAINER ==================== */

.pools-view-container {
    display: flex;
    flex-direction: column;
    height: 100%;
    overflow: hidden;
    background: var(--bg-primary);
}

.pools-view-header {
    padding: var(--spacing-lg) var(--spacing-xl);
    background: var(--bg-secondary);
    border-bottom: 2px solid var(--border-color);
}

.pools-view-title {
    font-size: var(--text-2xl);
    font-weight: 700;
    color: var(--text-primary);
    margin: 0;
    display: flex;
    align-items: center;
    gap: var(--spacing-md);
}

.pools-view-stats {
    display: flex;
    gap: var(--spacing-lg);
    margin-top: var(--spacing-md);
}

.pool-stat {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    padding: var(--spacing-sm) var(--spacing-md);
    background: var(--bg-primary);
    border-radius: var(--radius-md);
    border: 1px solid var(--border-color);
}

.pool-stat-value {
    font-size: var(--text-xl);
    font-weight: 700;
    color: var(--primary);
}

.pool-stat-label {
    font-size: var(--text-sm);
    color: var(--text-secondary);
}

.pools-view-content {
    flex: 1;
    overflow-y: auto;
    padding: var(--spacing-xl);
}

/* ==================== POOLS GRID LAYOUT ==================== */

.pools-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(380px, 1fr));
    gap: var(--spacing-xl);
    margin-bottom: var(--spacing-xl);
}

/* Single column for narrow screens */
@media (max-width: 768px) {
    .pools-grid {
        grid-template-columns: 1fr;
    }
}

/* ==================== POOL CARD ==================== */

.pool-card {
    background: white;
    border: 2px solid var(--border-color);
    border-radius: var(--radius-lg);
    overflow: hidden;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    transition: all 0.3s;
}

.pool-card:hover {
    border-color: var(--primary);
    box-shadow: 0 4px 12px rgba(0, 85, 164, 0.1);
    transform: translateY(-2px);
}

/* ==================== POOL HEADER ==================== */

.pool-header {
    padding: var(--spacing-lg);
    background: linear-gradient(135deg, var(--primary) 0%, rgba(0, 85, 164, 0.85) 100%);
    color: white;
    position: relative;
    overflow: hidden;
}

.pool-header::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, #0055A4 0%, #FFFFFF 50%, #EF4135 100%);
}

.pool-title {
    font-size: var(--text-xl);
    font-weight: 700;
    margin: 0 0 var(--spacing-xs) 0;
    color: white;
}

.pool-subtitle {
    font-size: var(--text-sm);
    color: rgba(255, 255, 255, 0.9);
    margin: 0;
    font-weight: 400;
}

.pool-info {
    display: flex;
    gap: var(--spacing-lg);
    margin-top: var(--spacing-md);
    padding-top: var(--spacing-md);
    border-top: 1px solid rgba(255, 255, 255, 0.3);
}

.pool-info-item {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-xs);
}

.pool-info-label {
    font-size: var(--text-xs);
    color: rgba(255, 255, 255, 0.8);
    text-transform: uppercase;
    font-weight: 600;
}

.pool-info-value {
    font-size: var(--text-base);
    font-weight: 700;
    color: white;
}

/* ==================== POOL CONTENT ==================== */

.pool-content {
    padding: var(--spacing-lg);
}

/* ==================== POOL RANKING TABLE ==================== */

.pool-table-container {
    overflow-x: auto;
    margin-bottom: var(--spacing-lg);
}

.pool-table {
    width: 100%;
    border-collapse: collapse;
    font-size: var(--text-sm);
}

.pool-table thead {
    background: var(--bg-secondary);
    border-bottom: 2px solid var(--border-color);
}

.pool-table th {
    padding: var(--spacing-sm) var(--spacing-xs);
    text-align: left;
    font-size: var(--text-xs);
    font-weight: 700;
    color: var(--text-secondary);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    white-space: nowrap;
}

.pool-table th:first-child {
    padding-left: var(--spacing-md);
}

.pool-table th:last-child {
    padding-right: var(--spacing-md);
}

/* Column alignments */
.pool-table th.rank-col,
.pool-table td.rank-col {
    text-align: center;
    width: 50px;
}

.pool-table th.team-col,
.pool-table td.team-col {
    text-align: left;
}

.pool-table th.stat-col,
.pool-table td.stat-col {
    text-align: center;
    width: 50px;
}

.pool-table tbody tr {
    border-bottom: 1px solid var(--border-color);
    transition: background-color 0.2s;
}

.pool-table tbody tr:hover {
    background: var(--bg-secondary);
}

.pool-table tbody tr:last-child {
    border-bottom: none;
}

.pool-table td {
    padding: var(--spacing-md) var(--spacing-xs);
    color: var(--text-primary);
}

.pool-table td:first-child {
    padding-left: var(--spacing-md);
}

.pool-table td:last-child {
    padding-right: var(--spacing-md);
}

/* Rank styling */
.team-rank {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    background: var(--primary);
    color: white;
    font-weight: 700;
    font-size: var(--text-sm);
}

.team-rank.rank-1 {
    background: #FFD700;
    color: #1F2937;
}

.team-rank.rank-2 {
    background: #C0C0C0;
    color: #1F2937;
}

.team-rank.rank-3 {
    background: #CD7F32;
    color: white;
}

/* Team name styling */
.team-name {
    font-weight: 600;
    color: var(--text-primary);
}

.team-name:hover {
    color: var(--primary);
    cursor: pointer;
}

/* Stats columns */
.stat-col {
    font-weight: 600;
}

.stat-col.wins {
    color: var(--success);
}

.stat-col.losses {
    color: var(--danger);
}

.stat-col.points {
    font-weight: 700;
    color: var(--primary);
    font-size: var(--text-base);
}

/* ==================== POOL MATCHES SECTION ==================== */

.pool-matches {
    margin-top: var(--spacing-lg);
    padding-top: var(--spacing-lg);
    border-top: 2px solid var(--border-color);
}

.pool-matches-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--spacing-md);
}

.pool-matches-title {
    font-size: var(--text-base);
    font-weight: 700;
    color: var(--text-primary);
    margin: 0;
}

.pool-matches-count {
    font-size: var(--text-sm);
    color: var(--text-secondary);
    background: var(--bg-secondary);
    padding: var(--spacing-xs) var(--spacing-sm);
    border-radius: var(--radius-full);
    font-weight: 600;
}

.pool-match-list {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-sm);
}

/* ==================== POOL MATCH ITEM ==================== */

.pool-match {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--spacing-md);
    background: var(--bg-secondary);
    border: 1px solid var(--border-color);
    border-left: 4px solid var(--primary);
    border-radius: var(--radius-md);
    transition: all 0.2s;
    cursor: pointer;
}

.pool-match:hover {
    background: white;
    border-color: var(--primary);
    box-shadow: 0 2px 8px rgba(0, 85, 164, 0.1);
    transform: translateX(4px);
}

.pool-match-teams {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: var(--spacing-xs);
}

.pool-match-teams-row {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    font-size: var(--text-sm);
    font-weight: 600;
    color: var(--text-primary);
}

.pool-match-vs {
    color: var(--text-secondary);
    font-weight: 400;
    font-size: var(--text-xs);
}

.pool-match-info {
    font-size: var(--text-xs);
    color: var(--text-secondary);
    display: flex;
    gap: var(--spacing-md);
}

.pool-match-time,
.pool-match-venue {
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
}

.pool-match-score {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    padding: var(--spacing-sm) var(--spacing-md);
    background: white;
    border: 1px solid var(--border-color);
    border-radius: var(--radius-md);
    font-weight: 700;
    color: var(--primary);
    font-size: var(--text-base);
    min-width: 80px;
    justify-content: center;
}

.pool-match-score.played {
    background: var(--success);
    color: white;
    border-color: var(--success);
}

.pool-match-score.scheduled {
    background: var(--bg-secondary);
    color: var(--text-secondary);
    font-weight: 600;
    font-size: var(--text-sm);
}

/* Match status indicators */
.pool-match.played {
    opacity: 0.85;
    border-left-color: var(--success);
}

.pool-match.upcoming {
    border-left-color: var(--warning);
}

.pool-match.modified {
    border-left-color: var(--warning);
    background: linear-gradient(to right, rgba(251, 191, 36, 0.05), var(--bg-secondary));
}

/* ==================== EMPTY STATE ==================== */

.pool-empty {
    padding: var(--spacing-2xl);
    text-align: center;
    color: var(--text-secondary);
}

.pool-empty-icon {
    font-size: 3em;
    margin-bottom: var(--spacing-md);
    opacity: 0.3;
}

.pool-empty-text {
    font-size: var(--text-base);
    font-style: italic;
}

/* ==================== RESPONSIVE ==================== */

@media (max-width: 1024px) {
    .pools-grid {
        grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    }
    
    .pool-info {
        flex-direction: column;
        gap: var(--spacing-sm);
    }
}

@media (max-width: 768px) {
    .pools-view-header {
        padding: var(--spacing-md);
    }
    
    .pools-view-content {
        padding: var(--spacing-md);
    }
    
    .pools-grid {
        grid-template-columns: 1fr;
        gap: var(--spacing-md);
    }
    
    .pool-table {
        font-size: var(--text-xs);
    }
    
    .pool-table th,
    .pool-table td {
        padding: var(--spacing-xs);
    }
    
    .team-rank {
        width: 24px;
        height: 24px;
        font-size: var(--text-xs);
    }
    
    .pool-match {
        flex-direction: column;
        align-items: stretch;
        gap: var(--spacing-sm);
    }
    
    .pool-match-score {
        width: 100%;
    }
}

@media (max-width: 480px) {
    .pool-table th.stat-col,
    .pool-table td.stat-col {
        width: 40px;
        padding: var(--spacing-xs) 4px;
    }
    
    .pool-match-info {
        flex-direction: column;
        gap: var(--spacing-xs);
    }
}


/* styles/themes/default-light.css */
/**
 * PyCalendar Interface - Default Light Theme
 * Main color scheme and theme-specific overrides
 */

[data-theme="light"],
:root {
    /* Already defined in 00-variables.css */
    /* This file can override or extend variables if needed */
    
    /* Additional theme-specific variables */
    --page-background: #F8FAFC;
    --card-background: #FFFFFF;
    --text-primary: #1E293B;
    --text-secondary: #64748B;
    --text-tertiary: #94A3B8;
}

/* Theme-specific component overrides can go here */

body[data-theme="light"] {
    background: var(--page-background);
    color: var(--text-primary);
}


/* styles/themes/dark.css */
/**/**

 * PyCalendar Interface - Dark Theme * PyCalendar Interface - Thème France

 * Additional styles and overrides for dark mode * Styles spécifiques pour le thème tricolore français

 */ */



[data-theme="dark"] {[data-theme="tricolore"] {

    /* ==================== CUSTOM DARK THEME ADJUSTMENTS ==================== */    /* ==================== DRAPEAU FRANÇAIS ==================== */

        

    /* Enhanced shadows for dark mode */    /* Gradient tricolore pour les headers */

    .match-card {    .header-france-gradient {

        box-shadow: var(--shadow-lg);        background: linear-gradient(

        background: var(--bg-secondary);            to right,

    }            #0055A4 0%,

                #0055A4 33.33%,

    .match-card:hover {            #FFFFFF 33.33%,

        box-shadow: var(--shadow-xl);            #FFFFFF 66.66%,

        background: var(--bg-tertiary);            #EF4135 66.66%,

    }            #EF4135 100%

            );

    /* Glassmorphism adjustments for dark */        height: 4px;

    .glass {        width: 100%;

        background: var(--glass-bg-dark);    }

        border: 1px solid var(--glass-border-dark);    

    }    /* Bordure tricolore */

        .border-france {

    .glass-strong {        border-top: 3px solid #0055A4;

        background: var(--glass-bg-dark-strong);        border-right: 3px solid #FFFFFF;

    }        border-bottom: 3px solid #EF4135;

        }

    /* Button adjustments */    

    .btn-primary {    /* Cards avec accent tricolore */

        box-shadow: var(--shadow-primary-lg);    .stat-card {

    }        border-left: 4px solid #0055A4;

            background: linear-gradient(135deg, rgba(0, 85, 164, 0.05) 0%, rgba(255, 255, 255, 1) 100%);

    .btn-primary:hover {    }

        box-shadow: var(--shadow-primary-lg), var(--primary-glow);    

    }    .stat-card:nth-child(2n) {

            border-left: 4px solid #EF4135;

    /* Filter panel adjustments */        background: linear-gradient(135deg, rgba(239, 65, 53, 0.05) 0%, rgba(255, 255, 255, 1) 100%);

    .filter-section {    }

        background: var(--bg-tertiary);    

        border-color: var(--border-hover);    /* Buttons avec style tricolore */

    }    .btn-primary {

            background: linear-gradient(135deg, #0055A4 0%, #002654 100%);

    /* Modal backdrop for dark mode */        border: none;

    .modal-backdrop {        color: white;

        background: rgba(0, 0, 0, 0.8);        box-shadow: 0 4px 14px 0 rgba(0, 85, 164, 0.35);

    }    }

        

    .modal-content {    .btn-primary:hover {

        background: var(--bg-secondary);        background: linear-gradient(135deg, #002654 0%, #0055A4 100%);

        box-shadow: var(--shadow-2xl);        box-shadow: 0 6px 20px 0 rgba(0, 85, 164, 0.45);

    }    }

        

    /* Header enhancement */    .btn-danger {

    .main-header {        background: linear-gradient(135deg, #EF4135 0%, #C1172C 100%);

        background: var(--bg-primary);        border: none;

        border-bottom: 1px solid var(--border-hover);        color: white;

        box-shadow: var(--shadow-lg);        box-shadow: 0 4px 14px 0 rgba(239, 65, 53, 0.35);

    }    }

        

    /* Sidebar enhancements */    .btn-danger:hover {

    .sidebar {        background: linear-gradient(135deg, #C1172C 0%, #EF4135 100%);

        background: var(--bg-primary);        box-shadow: 0 6px 20px 0 rgba(239, 65, 53, 0.45);

        border-color: var(--border-hover);    }

    }    

        /* Tabs avec style tricolore */

    .sidebar-header {    .tab-button.active {

        background: var(--bg-tertiary);        background: linear-gradient(135deg, #0055A4 0%, #4A90E2 100%);

        border-bottom: 1px solid var(--border-hover);        color: white;

    }        border-bottom: 3px solid #EF4135;

        }

    /* Empty state adjustments */    

    .empty-state {    /* Header avec touches tricolores */

        background: var(--bg-secondary);    .header {

        border: 2px dashed var(--border-hover);        position: relative;

    }        overflow: hidden;

        }

    /* Table enhancements for dark */    

    .table-row:hover {    .header::before {

        background: var(--bg-tertiary);        content: '';

    }        position: absolute;

            top: 0;

    /* Badge adjustments */        left: 0;

    .badge {        right: 0;

        filter: brightness(1.1);        height: 4px;

    }        background: linear-gradient(

                to right,

    /* Input fields */            #0055A4 0%,

    .form-input,            #0055A4 33.33%,

    .form-select,            #FFFFFF 33.33%,

    .form-textarea {            #FFFFFF 66.66%,

        background: var(--bg-tertiary);            #EF4135 66.66%,

        border-color: var(--border-hover);            #EF4135 100%

        color: var(--text-primary);        );

    }    }

        

    .form-input:focus,    /* Sidebar avec accent bleu France */

    .form-select:focus,    .sidebar-left,

    .form-textarea:focus {    .sidebar-right {

        background: var(--bg-quaternary);        border-top: 3px solid #0055A4;

        border-color: var(--primary);    }

    }    

        /* Match cards avec bordures tricolores selon l'état */

    /* Scrollbar styling for dark theme */    .match-card {

    ::-webkit-scrollbar-track {        border-left: 4px solid #0055A4;

        background: var(--bg-secondary);    }

    }    

        .match-card.conflict-warning {

    ::-webkit-scrollbar-thumb {        border-left: 4px solid #F59E0B;

        background: var(--bg-quaternary);        border-top: 2px solid #EF4135;

    }    }

        

    ::-webkit-scrollbar-thumb:hover {    .match-card.conflict-critical {

        background: var(--text-tertiary);        border-left: 4px solid #EF4135;

    }        border-top: 2px solid #EF4135;

}        background: linear-gradient(135deg, rgba(239, 65, 53, 0.08) 0%, rgba(255, 255, 255, 1) 100%);

    }
    
    /* Liens avec style France */
    a {
        color: #0055A4;
        transition: color var(--transition-base);
    }
    
    a:hover {
        color: #EF4135;
    }
    
    /* Badges et tags */
    .badge-primary {
        background: #0055A4;
        color: white;
    }
    
    .badge-danger {
        background: #EF4135;
        color: white;
    }
    
    /* Focus states avec couleurs France */
    *:focus-visible {
        outline: 2px solid #0055A4;
        outline-offset: 2px;
    }
    
    button:focus-visible,
    .btn:focus-visible {
        outline: 2px solid #EF4135;
    }
    
    /* Scrollbar personnalisée (Chrome/Edge) */
    ::-webkit-scrollbar {
        width: 10px;
        height: 10px;
    }
    
    ::-webkit-scrollbar-track {
        background: rgba(0, 85, 164, 0.05);
    }
    
    ::-webkit-scrollbar-thumb {
        background: linear-gradient(135deg, #0055A4 0%, #EF4135 100%);
        border-radius: 5px;
    }
    
    ::-webkit-scrollbar-thumb:hover {
        background: linear-gradient(135deg, #002654 0%, #C1172C 100%);
    }
    
    /* Loading spinner tricolore */
    .spinner::after {
        border: 3px solid rgba(0, 85, 164, 0.2);
        border-top-color: #0055A4;
        border-right-color: #FFFFFF;
        border-bottom-color: #EF4135;
    }
    
    /* Tooltips */
    .tooltip {
        background: linear-gradient(135deg, #0055A4 0%, #002654 100%);
        color: white;
        border: 1px solid #EF4135;
    }
    
    /* Modal headers */
    .modal-header {
        border-bottom: 3px solid transparent;
        border-image: linear-gradient(to right, #0055A4, #EF4135) 1;
    }
    
    /* Progress bars */
    .progress-bar {
        background: linear-gradient(to right, #0055A4, #FFFFFF, #EF4135);
    }
    
    /* Selection */
    ::selection {
        background: rgba(0, 85, 164, 0.3);
        color: #002654;
    }
}


</style>
</head>
<body data-animation-level="1">
    <div class="app-wrapper">
        <!-- ==================== HEADER PRINCIPAL ==================== -->
        <header class="main-header">
            <div class="header-content">
                <div class="header-left">
                    <div class="header-logo">
                        <div class="logo-icon">🏐</div>
                        <div class="logo-text">
                            <h1 class="logo-title">PyCalendar FFSU</h1>
                            <p class="logo-subtitle">Fédération Française du Sport Universitaire</p>
                        </div>
                    </div>
                </div>
                
                <div class="header-center">
                    <div class="header-stats">
                        <div class="header-stat">
                            <span class="stat-icon">📋</span>
                            <span class="stat-value" id="stat-scheduled">-</span>
                            <span class="stat-label">Planifiés</span>
                        </div>
                        <div class="header-stat">
                            <span class="stat-icon">⚠️</span>
                            <span class="stat-value" id="stat-unscheduled">-</span>
                            <span class="stat-label">À planifier</span>
                        </div>
                        <div class="header-stat">
                            <span class="stat-icon">🏟️</span>
                            <span class="stat-value" id="stat-venues">-</span>
                            <span class="stat-label">Gymnases</span>
                        </div>
                        <div class="header-stat">
                            <span class="stat-icon">✏️</span>
                            <span class="stat-value warning" id="stat-modifications">0</span>
                            <span class="stat-label">Modifications</span>
                        </div>
                    </div>
                </div>
                
                <div class="header-right">
                    <div class="palette-selector">
                        <button class="palette-btn active" data-palette="purple" title="Purple Dream"></button>
                        <button class="palette-btn" data-palette="ocean" title="Ocean Blue"></button>
                        <button class="palette-btn" data-palette="sunset" title="Sunset Fire"></button>
                        <button class="palette-btn" data-palette="forest" title="Forest Energy"></button>
                    </div>
                    <div class="theme-selector">
                        <button class="theme-btn active" data-theme="light" title="Thème Clair">
                            <span class="theme-icon">☀️</span>
                        </button>
                        <button class="theme-btn" data-theme="dark" title="Thème Sombre">
                            <span class="theme-icon">🌙</span>
                        </button>
                    </div>
                    <button class="btn-icon" id="btn-help" title="Aide">
                        <span>❓</span>
                    </button>
                </div>
            </div>
        </header>
        
        <!-- ==================== LAYOUT PRINCIPAL (3 COLONNES) ==================== -->
        <div class="main-layout">
            
            <!-- ==================== SIDEBAR GAUCHE - OPTIONS D'AFFICHAGE ==================== -->
            <aside class="sidebar sidebar-left">
                <div class="sidebar-header">
                    <h2 class="sidebar-title">
                        <span class="sidebar-icon">⚙️</span>
                        Affichage
                    </h2>
                    <button class="btn-collapse" id="btn-collapse-left" title="Réduire">
                        <span>◀</span>
                    </button>
                </div>
                
                <div class="sidebar-content">
                    <!-- Section Vue -->
                    <div class="control-section">
                        <h3 class="control-section-title">Vue</h3>
                        <div class="view-selector">
                            <button class="view-btn active" data-view="agenda">
                                <span class="view-icon">📋</span>
                                <span class="view-name">Agenda</span>
                            </button>
                            <button class="view-btn" data-view="pools">
                                <span class="view-icon">🎯</span>
                                <span class="view-name">Poules</span>
                            </button>
                            <button class="view-btn" data-view="matches">
                                <span class="view-icon">🏐</span>
                                <span class="view-name">Matchs</span>
                            </button>
                            <button class="view-btn" data-view="penalties">
                                <span class="view-icon">⚖️</span>
                                <span class="view-name">Pénalités</span>
                            </button>
                            <button class="view-btn" data-view="calendar">
                                <span class="view-icon">�</span>
                                <span class="view-name">Calendrier</span>
                            </button>
                            <button class="view-btn" data-view="stats">
                                <span class="view-icon">📊</span>
                                <span class="view-name">Statistiques</span>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Conteneur dynamique pour les options spécifiques à chaque vue -->
                    <div id="view-options-container"></div>
                    
                    <!-- Section Options Agenda -->
                    <div class="control-section" id="agenda-options-section" style="display: none;">
                        <h3 class="control-section-title">Options Agenda</h3>
                        <div class="option-group">
                            <!-- Mode d'affichage -->
                            <div class="option-item">
                                <label class="option-label-full">Mode d'affichage</label>
                                <select id="agenda-display-mode" class="form-select-sidebar">
                                    <option value="venues">🏟️ Par gymnase</option>
                                    <option value="weeks">📅 Par semaine</option>
                                </select>
                            </div>
                            
                            <!-- Créneaux disponibles -->
                            <label class="option-item">
                                <input type="checkbox" id="agenda-show-available">
                                <span class="option-label">Créneaux disponibles</span>
                            </label>
                            
                            <!-- Filtre genre -->
                            <div class="option-item">
                                <label class="option-label-full">Genre</label>
                                <select id="agenda-filter-gender" class="form-select-sidebar">
                                    <option value="">Tous</option>
                                    <option value="M">♂️ Masculin</option>
                                    <option value="F">♀️ Féminin</option>
                                </select>
                            </div>
                            
                            <!-- Recherche équipe -->
                            <div class="option-item">
                                <label class="option-label-full">Rechercher équipe</label>
                                <input type="text" id="agenda-filter-team" 
                                       class="form-input-sidebar" 
                                       placeholder="Nom d'équipe...">
                            </div>
                        </div>
                    </div>
                    
                    <!-- Section Options d'affichage -->
                    <div class="control-section">
                        <h3 class="control-section-title">Options</h3>
                        <div class="option-group">
                            <label class="option-item">
                                <input type="checkbox" id="opt-show-conflicts" checked>
                                <span class="option-label">Afficher les conflits</span>
                            </label>
                            <label class="option-item">
                                <input type="checkbox" id="opt-show-unscheduled">
                                <span class="option-label">Inclure non planifiés</span>
                            </label>
                            <label class="option-item">
                                <input type="checkbox" id="opt-show-details" checked>
                                <span class="option-label">Détails complets</span>
                            </label>
                            <label class="option-item">
                                <input type="checkbox" id="opt-compact-mode">
                                <span class="option-label">Mode compact</span>
                            </label>
                            <label class="option-item">
                                <input type="checkbox" id="opt-animations" checked>
                                <span class="option-label">Animations</span>
                            </label>
                        </div>
                    </div>
                    
                    <!-- Section Actions -->
                    <div class="control-section">
                        <h3 class="control-section-title">Actions</h3>
                        <div class="action-buttons">
                            <button class="btn btn-primary" id="btn-export-modifications">
                                <span class="btn-icon">💾</span>
                                <span class="btn-text">Exporter</span>
                            </button>
                            <button class="btn btn-secondary" id="btn-reset-modifications">
                                <span class="btn-icon">🔄</span>
                                <span class="btn-text">Réinitialiser</span>
                            </button>
                            <button class="btn btn-secondary" id="btn-print">
                                <span class="btn-icon">🖨️</span>
                                <span class="btn-text">Imprimer</span>
                            </button>
                        </div>
                    </div>
                </div>
            </aside>
            
            <!-- Bouton pour réafficher la sidebar gauche quand elle est masquée -->
            <button class="btn-show-sidebar btn-show-left" id="btn-show-left" title="Afficher les options">
                <span>▶</span>
            </button>
            
            <!-- Poignée de redimensionnement gauche -->
            <div class="resize-handle resize-handle-left" id="resize-handle-left"></div>
            
            <!-- ==================== CONTENU CENTRAL - VUES ==================== -->
            <main class="main-content">
                <div class="content-views">
                    <!-- Vue Agenda -->
                    <div class="view-container active" data-view-content="agenda">
                        <div id="agenda-view">
                            <!-- Content will be generated by agenda-view.js -->
                        </div>
                    </div>
                    
                    <!-- Vue Poules -->
                    <div class="view-container" data-view-content="pools">
                        <div id="pools-view">
                            <!-- Content will be generated by pools-view.js -->
                        </div>
                    </div>
                    
                    <!-- Vue Matchs -->
                    <div class="view-container" data-view-content="matches">
                        <div id="matches-view">
                            <!-- Content will be generated by matches-view.js -->
                        </div>
                    </div>
                    
                    <!-- Vue Pénalités -->
                    <div class="view-container" data-view-content="penalties">
                        <div id="penalties-view">
                            <!-- Content will be generated by penalties-view.js -->
                        </div>
                    </div>
                    
                    <!-- Vue Calendrier -->
                    <div class="view-container" data-view-content="calendar">
                        <div id="calendar-view">
                            <div class="empty-state">
                                <div class="empty-state-icon">📅</div>
                                <h3 class="empty-state-title">Vue Calendrier</h3>
                                <p class="empty-state-message">Vue en développement</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Vue Statistiques -->
                    <div class="view-container" data-view-content="stats">
                        <div id="stats-view">
                            <div class="empty-state">
                                <div class="empty-state-icon">📊</div>
                                <h3 class="empty-state-title">Statistiques</h3>
                                <p class="empty-state-message">Vue en développement</p>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
            
            <!-- Poignée de redimensionnement droite -->
            <div class="resize-handle resize-handle-right" id="resize-handle-right"></div>
            
            <!-- ==================== SIDEBAR DROITE - FILTRES ==================== -->
            <aside class="sidebar sidebar-right">
                <div class="sidebar-header">
                    <button class="btn-collapse" id="btn-collapse-right" title="Réduire">
                        <span>▶</span>
                    </button>
                    <h2 class="sidebar-title">
                        <span class="sidebar-icon">🔍</span>
                        Filtres
                    </h2>
                </div>
                
                <div class="sidebar-content">
                    <!-- Résumé des filtres actifs -->
                    <div class="filter-summary" id="filter-summary" style="margin-bottom: 1.5rem; padding: 1rem; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 12px; box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);">
                        <div class="summary-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.75rem;">
                            <span class="summary-title" style="font-size: 0.875rem; font-weight: 700; color: white; text-transform: uppercase; letter-spacing: 0.5px;">Filtres actifs</span>
                            <button class="btn-clear-filters" id="btn-clear-filters" style="background: rgba(255, 255, 255, 0.2); color: white; border: 1px solid rgba(255, 255, 255, 0.3); border-radius: 6px; padding: 0.375rem 0.75rem; font-size: 0.75rem; font-weight: 600; cursor: pointer; transition: all 0.2s ease;">Effacer tout</button>
                        </div>
                        <div class="summary-tags" id="summary-tags" style="display: flex; flex-wrap: wrap; gap: 0.5rem;">
                            <!-- Les tags de filtres actifs seront ajoutés ici -->
                        </div>
                    </div>
                    
                    <!-- Filtre Genre -->
                    <div class="filter-section" style="margin-bottom: 1.5rem; padding: 1rem; background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); border-radius: 12px; border: 1px solid rgba(226, 232, 240, 0.8); transition: all 0.3s ease;">
                        <h3 class="filter-section-title" style="font-size: 0.875rem; font-weight: 700; color: #1e293b; margin-bottom: 0.75rem; padding-bottom: 0.75rem; border-bottom: 2px solid #e2e8f0; display: flex; align-items: center; gap: 0.5rem; text-transform: uppercase; letter-spacing: 0.5px;">
                            <span style="display: block; width: 3px; height: 14px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 2px;"></span>
                            Genre
                        </h3>
                        <div class="filter-options" style="display: flex; flex-direction: column; gap: 0.5rem;">
                            <label class="filter-option" style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem 1rem; border-radius: 8px; cursor: pointer; transition: all 0.2s ease; background: white; border: 1.5px solid transparent; position: relative; overflow: hidden;">
                                <input type="radio" name="filter-gender" value="" checked style="width: 18px; height: 18px; cursor: pointer; accent-color: #667eea; transition: transform 0.2s ease; flex-shrink: 0;">
                                <span class="filter-option-label" style="flex: 1; font-size: 0.875rem; font-weight: 500; color: #334155; cursor: pointer; transition: color 0.2s ease; line-height: 1.4; display: flex; align-items: center; gap: 0.5rem;">
                                    <span class="option-icon">⚪</span>
                                    <span>Tous</span>
                                </span>
                            </label>
                            <label class="filter-option" style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem 1rem; border-radius: 8px; cursor: pointer; transition: all 0.2s ease; background: white; border: 1.5px solid transparent; position: relative; overflow: hidden;">
                                <input type="radio" name="filter-gender" value="M" style="width: 18px; height: 18px; cursor: pointer; accent-color: #667eea; transition: transform 0.2s ease; flex-shrink: 0;">
                                <span class="filter-option-label" style="flex: 1; font-size: 0.875rem; font-weight: 500; color: #334155; cursor: pointer; transition: color 0.2s ease; line-height: 1.4; display: flex; align-items: center; gap: 0.5rem;">
                                    <span class="option-icon">🔵</span>
                                    <span>Masculin</span>
                                </span>
                            </label>
                            <label class="filter-option" style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem 1rem; border-radius: 8px; cursor: pointer; transition: all 0.2s ease; background: white; border: 1.5px solid transparent; position: relative; overflow: hidden;">
                                <input type="radio" name="filter-gender" value="F" style="width: 18px; height: 18px; cursor: pointer; accent-color: #667eea; transition: transform 0.2s ease; flex-shrink: 0;">
                                <span class="filter-option-label" style="flex: 1; font-size: 0.875rem; font-weight: 500; color: #334155; cursor: pointer; transition: color 0.2s ease; line-height: 1.4; display: flex; align-items: center; gap: 0.5rem;">
                                    <span class="option-icon">🔴</span>
                                    <span>Féminin</span>
                                </span>
                            </label>
                            <label class="filter-option" style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem 1rem; border-radius: 8px; cursor: pointer; transition: all 0.2s ease; background: white; border: 1.5px solid transparent; position: relative; overflow: hidden;">
                                <input type="radio" name="filter-gender" value="X" style="width: 18px; height: 18px; cursor: pointer; accent-color: #667eea; transition: transform 0.2s ease; flex-shrink: 0;">
                                <span class="filter-option-label" style="flex: 1; font-size: 0.875rem; font-weight: 500; color: #334155; cursor: pointer; transition: color 0.2s ease; line-height: 1.4; display: flex; align-items: center; gap: 0.5rem;">
                                    <span class="option-icon">🟣</span>
                                    <span>Mixte</span>
                                </span>
                            </label>
                        </div>
                    </div>
                    
                    <!-- Filtre Semaine -->
                    <div class="filter-section" style="margin-bottom: 1.5rem; padding: 1rem; background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); border-radius: 12px; border: 1px solid rgba(226, 232, 240, 0.8); transition: all 0.3s ease;">
                        <h3 class="filter-section-title" style="font-size: 0.875rem; font-weight: 700; color: #1e293b; margin-bottom: 0.75rem; padding-bottom: 0.75rem; border-bottom: 2px solid #e2e8f0; display: flex; align-items: center; gap: 0.5rem; text-transform: uppercase; letter-spacing: 0.5px;">
                            <span style="display: block; width: 3px; height: 14px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 2px;"></span>
                            Semaine
                        </h3>
                        <select class="filter-select" id="filter-week" style="width: 100%; padding: 0.75rem 1rem; border: 1.5px solid #e2e8f0; border-radius: 8px; background: white; font-size: 0.875rem; font-weight: 500; cursor: pointer; transition: all 0.2s ease; outline: none; color: #334155;">
                            <option value="">Toutes les semaines</option>
                            <!-- Options will be populated by JS -->
                        </select>
                    </div>
                    
                    <!-- Filtre Poule -->
                    <div class="filter-section" style="margin-bottom: 1.5rem; padding: 1rem; background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); border-radius: 12px; border: 1px solid rgba(226, 232, 240, 0.8); transition: all 0.3s ease;">
                        <h3 class="filter-section-title" style="font-size: 0.875rem; font-weight: 700; color: #1e293b; margin-bottom: 0.75rem; padding-bottom: 0.75rem; border-bottom: 2px solid #e2e8f0; display: flex; align-items: center; gap: 0.5rem; text-transform: uppercase; letter-spacing: 0.5px;">
                            <span style="display: block; width: 3px; height: 14px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 2px;"></span>
                            Poule
                        </h3>
                        <select class="filter-select" id="filter-pool" style="width: 100%; padding: 0.75rem 1rem; border: 1.5px solid #e2e8f0; border-radius: 8px; background: white; font-size: 0.875rem; font-weight: 500; cursor: pointer; transition: all 0.2s ease; outline: none; color: #334155;">
                            <option value="">Toutes les poules</option>
                            <!-- Options will be populated by JS -->
                        </select>
                    </div>
                    
                    <!-- Filtre Institution -->
                    <div class="filter-section" style="margin-bottom: 1.5rem; padding: 1rem; background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); border-radius: 12px; border: 1px solid rgba(226, 232, 240, 0.8); transition: all 0.3s ease;">
                        <h3 class="filter-section-title" style="font-size: 0.875rem; font-weight: 700; color: #1e293b; margin-bottom: 0.75rem; padding-bottom: 0.75rem; border-bottom: 2px solid #e2e8f0; display: flex; align-items: center; gap: 0.5rem; text-transform: uppercase; letter-spacing: 0.5px;">
                            <span style="display: block; width: 3px; height: 14px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 2px;"></span>
                            Institution
                        </h3>
                        <select class="filter-select" id="filter-institution" style="width: 100%; padding: 0.75rem 1rem; border: 1.5px solid #e2e8f0; border-radius: 8px; background: white; font-size: 0.875rem; font-weight: 500; cursor: pointer; transition: all 0.2s ease; outline: none; color: #334155;">
                            <option value="">Toutes les institutions</option>
                            <!-- Options will be populated by JS -->
                        </select>
                    </div>
                    
                    <!-- Filtre Gymnase -->
                    <div class="filter-section" style="margin-bottom: 1.5rem; padding: 1rem; background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); border-radius: 12px; border: 1px solid rgba(226, 232, 240, 0.8); transition: all 0.3s ease;">
                        <h3 class="filter-section-title" style="font-size: 0.875rem; font-weight: 700; color: #1e293b; margin-bottom: 0.75rem; padding-bottom: 0.75rem; border-bottom: 2px solid #e2e8f0; display: flex; align-items: center; gap: 0.5rem; text-transform: uppercase; letter-spacing: 0.5px;">
                            <span style="display: block; width: 3px; height: 14px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 2px;"></span>
                            Gymnase
                        </h3>
                        <select class="filter-select" id="filter-venue" style="width: 100%; padding: 0.75rem 1rem; border: 1.5px solid #e2e8f0; border-radius: 8px; background: white; font-size: 0.875rem; font-weight: 500; cursor: pointer; transition: all 0.2s ease; outline: none; color: #334155;">
                            <option value="">Tous les gymnases</option>
                            <!-- Options will be populated by JS -->
                        </select>
                    </div>
                    
                    <!-- Filtre Jour de la semaine -->
                    <div class="filter-section" style="margin-bottom: 1.5rem; padding: 1rem; background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); border-radius: 12px; border: 1px solid rgba(226, 232, 240, 0.8); transition: all 0.3s ease;">
                        <h3 class="filter-section-title" style="font-size: 0.875rem; font-weight: 700; color: #1e293b; margin-bottom: 0.75rem; padding-bottom: 0.75rem; border-bottom: 2px solid #e2e8f0; display: flex; align-items: center; gap: 0.5rem; text-transform: uppercase; letter-spacing: 0.5px;">
                            <span style="display: block; width: 3px; height: 14px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 2px;"></span>
                            Jour
                        </h3>
                        <div class="filter-days" style="display: grid; grid-template-columns: repeat(7, 1fr); gap: 0.5rem;">
                            <label class="day-option" style="position: relative; cursor: pointer;">
                                <input type="checkbox" name="filter-day" value="1" style="display: none;">
                                <span class="day-label" style="display: block; padding: 0.75rem 0; text-align: center; font-size: 0.75rem; font-weight: 700; color: #64748b; background: rgba(226, 232, 240, 0.5); backdrop-filter: blur(10px); border: 1.5px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.2s ease; text-transform: uppercase; letter-spacing: 0.3px;">L</span>
                            </label>
                            <label class="day-option" style="position: relative; cursor: pointer;">
                                <input type="checkbox" name="filter-day" value="2" style="display: none;">
                                <span class="day-label" style="display: block; padding: 0.75rem 0; text-align: center; font-size: 0.75rem; font-weight: 700; color: #64748b; background: rgba(226, 232, 240, 0.5); backdrop-filter: blur(10px); border: 1.5px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.2s ease; text-transform: uppercase; letter-spacing: 0.3px;">M</span>
                            </label>
                            <label class="day-option" style="position: relative; cursor: pointer;">
                                <input type="checkbox" name="filter-day" value="3" style="display: none;">
                                <span class="day-label" style="display: block; padding: 0.75rem 0; text-align: center; font-size: 0.75rem; font-weight: 700; color: #64748b; background: rgba(226, 232, 240, 0.5); backdrop-filter: blur(10px); border: 1.5px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.2s ease; text-transform: uppercase; letter-spacing: 0.3px;">M</span>
                            </label>
                            <label class="day-option" style="position: relative; cursor: pointer;">
                                <input type="checkbox" name="filter-day" value="4" style="display: none;">
                                <span class="day-label" style="display: block; padding: 0.75rem 0; text-align: center; font-size: 0.75rem; font-weight: 700; color: #64748b; background: rgba(226, 232, 240, 0.5); backdrop-filter: blur(10px); border: 1.5px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.2s ease; text-transform: uppercase; letter-spacing: 0.3px;">J</span>
                            </label>
                            <label class="day-option" style="position: relative; cursor: pointer;">
                                <input type="checkbox" name="filter-day" value="5" style="display: none;">
                                <span class="day-label" style="display: block; padding: 0.75rem 0; text-align: center; font-size: 0.75rem; font-weight: 700; color: #64748b; background: rgba(226, 232, 240, 0.5); backdrop-filter: blur(10px); border: 1.5px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.2s ease; text-transform: uppercase; letter-spacing: 0.3px;">V</span>
                            </label>
                            <label class="day-option" style="position: relative; cursor: pointer;">
                                <input type="checkbox" name="filter-day" value="6" style="display: none;">
                                <span class="day-label" style="display: block; padding: 0.75rem 0; text-align: center; font-size: 0.75rem; font-weight: 700; color: #64748b; background: rgba(226, 232, 240, 0.5); backdrop-filter: blur(10px); border: 1.5px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.2s ease; text-transform: uppercase; letter-spacing: 0.3px;">S</span>
                            </label>
                            <label class="day-option" style="position: relative; cursor: pointer;">
                                <input type="checkbox" name="filter-day" value="0" style="display: none;">
                                <span class="day-label" style="display: block; padding: 0.75rem 0; text-align: center; font-size: 0.75rem; font-weight: 700; color: #64748b; background: rgba(226, 232, 240, 0.5); backdrop-filter: blur(10px); border: 1.5px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.2s ease; text-transform: uppercase; letter-spacing: 0.3px;">D</span>
                            </label>
                        </div>
                    </div>
                    
                    <!-- Filtre Heure -->
                    <div class="filter-section" style="margin-bottom: 1.5rem; padding: 1rem; background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); border-radius: 12px; border: 1px solid rgba(226, 232, 240, 0.8); transition: all 0.3s ease;">
                        <h3 class="filter-section-title" style="font-size: 0.875rem; font-weight: 700; color: #1e293b; margin-bottom: 0.75rem; padding-bottom: 0.75rem; border-bottom: 2px solid #e2e8f0; display: flex; align-items: center; gap: 0.5rem; text-transform: uppercase; letter-spacing: 0.5px;">
                            <span style="display: block; width: 3px; height: 14px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 2px;"></span>
                            Horaires
                        </h3>
                        <div class="time-range-filter" style="display: flex; gap: 0.75rem;">
                            <div class="time-input-group" style="flex: 1;">
                                <label class="time-label" style="display: block; font-size: 0.75rem; font-weight: 700; color: #1e293b; margin-bottom: 0.5rem; text-transform: uppercase; letter-spacing: 0.5px;">De</label>
                                <input type="time" class="time-input" id="filter-time-start" value="08:00" style="width: 100%; padding: 0.75rem; border: 2px solid #e2e8f0; border-radius: 8px; background: white; font-size: 0.875rem; font-family: 'Inter', monospace; font-weight: 600; transition: all 0.2s ease; outline: none; color: #334155;">
                            </div>
                            <div class="time-input-group" style="flex: 1;">
                                <label class="time-label" style="display: block; font-size: 0.75rem; font-weight: 700; color: #1e293b; margin-bottom: 0.5rem; text-transform: uppercase; letter-spacing: 0.5px;">À</label>
                                <input type="time" class="time-input" id="filter-time-end" value="20:00" style="width: 100%; padding: 0.75rem; border: 2px solid #e2e8f0; border-radius: 8px; background: white; font-size: 0.875rem; font-family: 'Inter', monospace; font-weight: 600; transition: all 0.2s ease; outline: none; color: #334155;">
                            </div>
                        </div>
                    </div>
                    
                    <!-- Filtre Statut (pour la vue Matchs) -->
                    <div class="filter-section" id="filter-section-status" style="margin-bottom: 1.5rem; padding: 1rem; background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); border-radius: 12px; border: 1px solid rgba(226, 232, 240, 0.8); transition: all 0.3s ease; display: none;">
                        <h3 class="filter-section-title" style="font-size: 0.875rem; font-weight: 700; color: #1e293b; margin-bottom: 0.75rem; padding-bottom: 0.75rem; border-bottom: 2px solid #e2e8f0; display: flex; align-items: center; gap: 0.5rem; text-transform: uppercase; letter-spacing: 0.5px;">
                            <span style="display: block; width: 3px; height: 14px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 2px;"></span>
                            Statut des matchs
                        </h3>
                        <div class="filter-options" style="display: flex; flex-direction: column; gap: 0.5rem;">
                            <label class="filter-option" style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem 1rem; border-radius: 8px; cursor: pointer; transition: all 0.2s ease; background: white; border: 1.5px solid transparent; position: relative; overflow: hidden;">
                                <input type="radio" name="filter-status" value="all" checked style="width: 18px; height: 18px; cursor: pointer; accent-color: #667eea; transition: transform 0.2s ease; flex-shrink: 0;">
                                <span class="filter-option-label" style="flex: 1; font-size: 0.875rem; font-weight: 500; color: #334155; cursor: pointer; transition: color 0.2s ease; line-height: 1.4; display: flex; align-items: center; gap: 0.5rem;">
                                    <span class="option-icon">⚪</span>
                                    <span>Tous les matchs</span>
                                </span>
                            </label>
                            <label class="filter-option" style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem 1rem; border-radius: 8px; cursor: pointer; transition: all 0.2s ease; background: white; border: 1.5px solid transparent; position: relative; overflow: hidden;">
                                <input type="radio" name="filter-status" value="fixed" style="width: 18px; height: 18px; cursor: pointer; accent-color: #667eea; transition: transform 0.2s ease; flex-shrink: 0;">
                                <span class="filter-option-label" style="flex: 1; font-size: 0.875rem; font-weight: 500; color: #334155; cursor: pointer; transition: color 0.2s ease; line-height: 1.4; display: flex; align-items: center; gap: 0.5rem;">
                                    <span class="option-icon">🔒</span>
                                    <span>Fixés</span>
                                </span>
                            </label>
                            <label class="filter-option" style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem 1rem; border-radius: 8px; cursor: pointer; transition: all 0.2s ease; background: white; border: 1.5px solid transparent; position: relative; overflow: hidden;">
                                <input type="radio" name="filter-status" value="scheduled" style="width: 18px; height: 18px; cursor: pointer; accent-color: #667eea; transition: transform 0.2s ease; flex-shrink: 0;">
                                <span class="filter-option-label" style="flex: 1; font-size: 0.875rem; font-weight: 500; color: #334155; cursor: pointer; transition: color 0.2s ease; line-height: 1.4; display: flex; align-items: center; gap: 0.5rem;">
                                    <span class="option-icon">✅</span>
                                    <span>Planifiés</span>
                                </span>
                            </label>
                            <label class="filter-option" style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem 1rem; border-radius: 8px; cursor: pointer; transition: all 0.2s ease; background: white; border: 1.5px solid transparent; position: relative; overflow: hidden;">
                                <input type="radio" name="filter-status" value="unscheduled" style="width: 18px; height: 18px; cursor: pointer; accent-color: #667eea; transition: transform 0.2s ease; flex-shrink: 0;">
                                <span class="filter-option-label" style="flex: 1; font-size: 0.875rem; font-weight: 500; color: #334155; cursor: pointer; transition: color 0.2s ease; line-height: 1.4; display: flex; align-items: center; gap: 0.5rem;">
                                    <span class="option-icon">❌</span>
                                    <span>Non planifiés</span>
                                </span>
                            </label>
                            <label class="filter-option" style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem 1rem; border-radius: 8px; cursor: pointer; transition: all 0.2s ease; background: white; border: 1.5px solid transparent; position: relative; overflow: hidden;">
                                <input type="radio" name="filter-status" value="entente" style="width: 18px; height: 18px; cursor: pointer; accent-color: #667eea; transition: transform 0.2s ease; flex-shrink: 0;">
                                <span class="filter-option-label" style="flex: 1; font-size: 0.875rem; font-weight: 500; color: #334155; cursor: pointer; transition: color 0.2s ease; line-height: 1.4; display: flex; align-items: center; gap: 0.5rem;">
                                    <span class="option-icon">🤝</span>
                                    <span>Ententes</span>
                                </span>
                            </label>
                        </div>
                    </div>
                    
                    <!-- Filtre Conflits -->
                    <div class="filter-section" style="margin-bottom: 1.5rem; padding: 1rem; background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); border-radius: 12px; border: 1px solid rgba(226, 232, 240, 0.8); transition: all 0.3s ease;">
                        <h3 class="filter-section-title" style="font-size: 0.875rem; font-weight: 700; color: #1e293b; margin-bottom: 0.75rem; padding-bottom: 0.75rem; border-bottom: 2px solid #e2e8f0; display: flex; align-items: center; gap: 0.5rem; text-transform: uppercase; letter-spacing: 0.5px;">
                            <span style="display: block; width: 3px; height: 14px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 2px;"></span>
                            État
                        </h3>
                        <div class="filter-options" style="display: flex; flex-direction: column; gap: 0.5rem;">
                            <label class="filter-option" style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem 1rem; border-radius: 8px; cursor: pointer; transition: all 0.2s ease; background: white; border: 1.5px solid transparent; position: relative; overflow: hidden;">
                                <input type="checkbox" name="filter-state" value="conflict" style="width: 18px; height: 18px; cursor: pointer; accent-color: #667eea; transition: transform 0.2s ease; flex-shrink: 0;">
                                <span class="filter-option-label" style="flex: 1; font-size: 0.875rem; font-weight: 500; color: #334155; cursor: pointer; transition: color 0.2s ease; line-height: 1.4; display: flex; align-items: center; gap: 0.5rem;">
                                    <span class="option-icon">⚠️</span>
                                    <span>Avec conflits</span>
                                </span>
                            </label>
                            <label class="filter-option" style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem 1rem; border-radius: 8px; cursor: pointer; transition: all 0.2s ease; background: white; border: 1.5px solid transparent; position: relative; overflow: hidden;">
                                <input type="checkbox" name="filter-state" value="modified" style="width: 18px; height: 18px; cursor: pointer; accent-color: #667eea; transition: transform 0.2s ease; flex-shrink: 0;">
                                <span class="filter-option-label" style="flex: 1; font-size: 0.875rem; font-weight: 500; color: #334155; cursor: pointer; transition: color 0.2s ease; line-height: 1.4; display: flex; align-items: center; gap: 0.5rem;">
                                    <span class="option-icon">✏️</span>
                                    <span>Modifiés</span>
                                </span>
                            </label>
                        </div>
                    </div>
                    
                    <!-- Recherche textuelle -->
                    <div class="filter-section" style="margin-bottom: 1.5rem; padding: 1rem; background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); border-radius: 12px; border: 1px solid rgba(226, 232, 240, 0.8); transition: all 0.3s ease;">
                        <h3 class="filter-section-title" style="font-size: 0.875rem; font-weight: 700; color: #1e293b; margin-bottom: 0.75rem; padding-bottom: 0.75rem; border-bottom: 2px solid #e2e8f0; display: flex; align-items: center; gap: 0.5rem; text-transform: uppercase; letter-spacing: 0.5px;">
                            <span style="display: block; width: 3px; height: 14px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 2px;"></span>
                            Recherche
                        </h3>
                        <div class="search-box" style="position: relative;">
                            <input type="text" class="search-input" id="filter-search" placeholder="Rechercher..." style="width: 100%; padding: 0.75rem 1rem; padding-right: 2.5rem; border: 1.5px solid #e2e8f0; border-radius: 8px; background: white; font-size: 0.875rem; font-weight: 500; transition: all 0.2s ease; outline: none; color: #334155;">
                            <span class="search-icon" style="position: absolute; right: 1rem; top: 50%; transform: translateY(-50%); font-size: 1rem; pointer-events: none;">🔍</span>
                        </div>
                    </div>
                </div>
            </aside>
            
            <!-- Bouton pour réafficher la sidebar droite quand elle est masquée -->
            <button class="btn-show-sidebar btn-show-right" id="btn-show-right" title="Afficher les filtres">
                <span>◀</span>
            </button>
        </div>
    </div>
    
    <!-- ==================== MODALS ==================== -->
    
    <!-- Modal d'export -->
    <div class="modal-overlay hidden" id="modal-export">
        <div class="modal modal-md">
            <div class="modal-header">
                <h2 class="modal-title">💾 Exporter les Modifications</h2>
                <button class="modal-close" onclick="closeExportModal()">×</button>
            </div>
            <div class="modal-body">
                <p>Exporter <strong id="export-count">0</strong> modification(s) au format JSON.</p>
                <div class="input-group">
                    <label class="input-label">Nom du fichier</label>
                    <input type="text" class="input-field" id="export-filename" placeholder="modifications_2025-10-27.json">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeExportModal()">Annuler</button>
                <button class="btn btn-primary" onclick="exportModifications()">Télécharger</button>
            </div>
        </div>
    </div>
    
    <!-- Modal d'aide -->
    <div class="modal-overlay hidden" id="modal-help">
        <div class="modal modal-lg">
            <div class="modal-header">
                <h2 class="modal-title">❓ Aide - PyCalendar FFSU</h2>
                <button class="modal-close" onclick="closeHelpModal()">×</button>
            </div>
            <div class="modal-body">
                <div class="help-content">
                    <section class="help-section">
                        <h3>🎯 Interface</h3>
                        <p>L'interface est divisée en 3 zones principales :</p>
                        <ul>
                            <li><strong>Sidebar gauche</strong> : Options d'affichage et actions</li>
                            <li><strong>Zone centrale</strong> : Visualisation des matchs</li>
                            <li><strong>Sidebar droite</strong> : Filtres avancés</li>
                        </ul>
                    </section>
                    
                    <section class="help-section">
                        <h3>🎨 Thèmes</h3>
                        <p>Deux thèmes sont disponibles :</p>
                        <ul>
                            <li><strong>Clair ☀️</strong> : Thème moderne et lumineux (par défaut)</li>
                            <li><strong>Sombre 🌙</strong> : Réduit la fatigue oculaire en environnement peu éclairé</li>
                        </ul>
                    </section>
                    
                    <section class="help-section">
                        <h3>📋 Vues</h3>
                        <ul>
                            <li><strong>Agenda</strong> : Vue chronologique par semaine</li>
                            <li><strong>Poules</strong> : Organisation par poules</li>
                            <li><strong>Cartes</strong> : Vue en grille de cartes</li>
                        </ul>
                    </section>
                    
                    <section class="help-section">
                        <h3>🔍 Filtres</h3>
                        <p>Utilisez les filtres pour affiner l'affichage :</p>
                        <ul>
                            <li>Genre (M/F/Mixte)</li>
                            <li>Semaine et jour</li>
                            <li>Institution et gymnase</li>
                            <li>Horaires</li>
                            <li>Recherche textuelle</li>
                        </ul>
                    </section>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" onclick="closeHelpModal()">Fermer</button>
            </div>
        </div>
    </div>
    
    
<script id="solution-data" type="application/json">
{
  "version": "2.0",
  "generated_at": "2025-11-06T19:42:07.720114",
  "metadata": {
    "solution_name": "unknown",
    "solver": "cpsat",
    "status": "OPTIMAL",
    "score": 1103678.0,
    "execution_time_seconds": 0.0,
    "date": "2025-11-06T19:42:07.720135"
  },
  "config": {
    "hash": "bae68dc1af07052c80262cfe881d4a0f",
    "nb_semaines": 13,
    "semaine_min": 5,
    "strategie": "cpsat",
    "temps_max_secondes": 1200,
    "constraints": {
      "poids_indisponibilite": 1000.0,
      "poids_capacite_gymnase": 1500.0,
      "poids_equilibrage_charge": 50.0,
      "penalites_espacement_repos": [
        5.0,
        2.0,
        1.0
      ],
      "penalite_apres_horaire_min": 1.0,
      "penalite_avant_horaire_min": 6.0,
      "penalite_avant_horaire_min_deux": 15.0,
      "penalite_horaire_diviseur": 60.0,
      "penalite_horaire_tolerance": 30.0
    }
  },
  "entities": {
    "equipes": [
      {
        "id": "LYON 1 (1)|F",
        "nom": "LYON 1 (1)",
        "nom_complet": "LYON 1 (1)",
        "institution": "LYON 1",
        "numero_equipe": "1",
        "genre": "F",
        "poule": "VBFA1PA",
        "horaires_preferes": [
          "14:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "5": [
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "INSA (2)|F",
        "nom": "INSA (2)",
        "nom_complet": "INSA (2)",
        "institution": "INSA",
        "numero_equipe": "2",
        "genre": "F",
        "poule": "VBFA1PA",
        "horaires_preferes": [
          "14:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {}
      },
      {
        "id": "ENTPE (1)|F",
        "nom": "ENTPE (1)",
        "nom_complet": "ENTPE (1)",
        "institution": "ENTPE",
        "numero_equipe": "1",
        "genre": "F",
        "poule": "VBFA1PA",
        "horaires_preferes": [
          "14:00"
        ],
        "lieux_preferes": [],
        "semaines_indisponibles": {}
      },
      {
        "id": "INSA (1)|F",
        "nom": "INSA (1)",
        "nom_complet": "INSA (1)",
        "institution": "INSA",
        "numero_equipe": "1",
        "genre": "F",
        "poule": "VBFA1PA",
        "horaires_preferes": [
          "14:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {}
      },
      {
        "id": "LYON 1 (11)|F",
        "nom": "LYON 1 (11)",
        "nom_complet": "LYON 1 (11)",
        "institution": "LYON 1",
        "numero_equipe": "11",
        "genre": "F",
        "poule": "VBFA1PA",
        "horaires_preferes": [
          "14:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "5": [
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "EML (1)|F",
        "nom": "EML (1)",
        "nom_complet": "EML (1)",
        "institution": "EML",
        "numero_equipe": "1",
        "genre": "F",
        "poule": "VBFA1PB",
        "horaires_preferes": [
          "18:00"
        ],
        "lieux_preferes": [],
        "semaines_indisponibles": {}
      },
      {
        "id": "LYON 2 (1)|F",
        "nom": "LYON 2 (1)",
        "nom_complet": "LYON 2 (1)",
        "institution": "LYON 2",
        "numero_equipe": "1",
        "genre": "F",
        "poule": "VBFA1PB",
        "horaires_preferes": [
          "18:00"
        ],
        "lieux_preferes": [
          "LYON 2 HC"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "LYON 3 (1)|F",
        "nom": "LYON 3 (1)",
        "nom_complet": "LYON 3 (1)",
        "institution": "LYON 3",
        "numero_equipe": "1",
        "genre": "F",
        "poule": "VBFA1PB",
        "horaires_preferes": [
          "20:00"
        ],
        "lieux_preferes": [
          "LAENNEC"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "LYON 2 (2)|F",
        "nom": "LYON 2 (2)",
        "nom_complet": "LYON 2 (2)",
        "institution": "LYON 2",
        "numero_equipe": "2",
        "genre": "F",
        "poule": "VBFA1PB",
        "horaires_preferes": [
          "20:00"
        ],
        "lieux_preferes": [
          "LYON 2 HC"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "INSA (1)|M",
        "nom": "INSA (1)",
        "nom_complet": "INSA (1)",
        "institution": "INSA",
        "numero_equipe": "1",
        "genre": "M",
        "poule": "VBMA1PA",
        "horaires_preferes": [
          "14:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {}
      },
      {
        "id": "LYON 1 (2)|M",
        "nom": "LYON 1 (2)",
        "nom_complet": "LYON 1 (2)",
        "institution": "LYON 1",
        "numero_equipe": "2",
        "genre": "M",
        "poule": "VBMA1PA",
        "horaires_preferes": [
          "14:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "5": [
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "LYON 1 (1)|M",
        "nom": "LYON 1 (1)",
        "nom_complet": "LYON 1 (1)",
        "institution": "LYON 1",
        "numero_equipe": "1",
        "genre": "M",
        "poule": "VBMA1PA",
        "horaires_preferes": [
          "14:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "5": [
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "ENTPE (1)|M",
        "nom": "ENTPE (1)",
        "nom_complet": "ENTPE (1)",
        "institution": "ENTPE",
        "numero_equipe": "1",
        "genre": "M",
        "poule": "VBMA1PA",
        "horaires_preferes": [
          "14:00"
        ],
        "lieux_preferes": [],
        "semaines_indisponibles": {}
      },
      {
        "id": "ECL (1)|M",
        "nom": "ECL (1)",
        "nom_complet": "ECL (1)",
        "institution": "ECL",
        "numero_equipe": "1",
        "genre": "M",
        "poule": "VBMA1PB",
        "horaires_preferes": [
          "14:00"
        ],
        "lieux_preferes": [
          "ECL"
        ],
        "semaines_indisponibles": {}
      },
      {
        "id": "LYON 1 (26)|M",
        "nom": "LYON 1 (26)",
        "nom_complet": "LYON 1 (26)",
        "institution": "LYON 1",
        "numero_equipe": "26",
        "genre": "M",
        "poule": "VBMA1PB",
        "horaires_preferes": [
          "14:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "5": [
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "INSA (2)|M",
        "nom": "INSA (2)",
        "nom_complet": "INSA (2)",
        "institution": "INSA",
        "numero_equipe": "2",
        "genre": "M",
        "poule": "VBMA1PB",
        "horaires_preferes": [
          "14:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {}
      },
      {
        "id": "LYON 2 (1)|M",
        "nom": "LYON 2 (1)",
        "nom_complet": "LYON 2 (1)",
        "institution": "LYON 2",
        "numero_equipe": "1",
        "genre": "M",
        "poule": "VBMA1PB",
        "horaires_preferes": [
          "18:00"
        ],
        "lieux_preferes": [
          "LYON 2 HC"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "ENS (1)|M",
        "nom": "ENS (1)",
        "nom_complet": "ENS (1)",
        "institution": "ENS",
        "numero_equipe": "1",
        "genre": "M",
        "poule": "VBMA1PC",
        "horaires_preferes": [
          "20:00"
        ],
        "lieux_preferes": [
          "DESCARTES"
        ],
        "semaines_indisponibles": {}
      },
      {
        "id": "ECAM (1)|M",
        "nom": "ECAM (1)",
        "nom_complet": "ECAM (1)",
        "institution": "ECAM",
        "numero_equipe": "1",
        "genre": "M",
        "poule": "VBMA1PC",
        "horaires_preferes": [
          "20:00"
        ],
        "lieux_preferes": [],
        "semaines_indisponibles": {}
      },
      {
        "id": "EML (1)|M",
        "nom": "EML (1)",
        "nom_complet": "EML (1)",
        "institution": "EML",
        "numero_equipe": "1",
        "genre": "M",
        "poule": "VBMA1PC",
        "horaires_preferes": [
          "20:00"
        ],
        "lieux_preferes": [],
        "semaines_indisponibles": {}
      },
      {
        "id": "LYON 3 (1)|M",
        "nom": "LYON 3 (1)",
        "nom_complet": "LYON 3 (1)",
        "institution": "LYON 3",
        "numero_equipe": "1",
        "genre": "M",
        "poule": "VBMA1PC",
        "horaires_preferes": [
          "20:00"
        ],
        "lieux_preferes": [
          "LAENNEC"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "ECL (1)|F",
        "nom": "ECL (1)",
        "nom_complet": "ECL (1)",
        "institution": "ECL",
        "numero_equipe": "1",
        "genre": "F",
        "poule": "VBFA2PA",
        "horaires_preferes": [
          "14:00"
        ],
        "lieux_preferes": [
          "ECL"
        ],
        "semaines_indisponibles": {}
      },
      {
        "id": "LYON 1 (5)|F",
        "nom": "LYON 1 (5)",
        "nom_complet": "LYON 1 (5)",
        "institution": "LYON 1",
        "numero_equipe": "5",
        "genre": "F",
        "poule": "VBFA2PA",
        "horaires_preferes": [
          "14:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "5": [
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "INSA (3)|F",
        "nom": "INSA (3)",
        "nom_complet": "INSA (3)",
        "institution": "INSA",
        "numero_equipe": "3",
        "genre": "F",
        "poule": "VBFA2PA",
        "horaires_preferes": [
          "16:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {}
      },
      {
        "id": "LYON 1 (4)|F",
        "nom": "LYON 1 (4)",
        "nom_complet": "LYON 1 (4)",
        "institution": "LYON 1",
        "numero_equipe": "4",
        "genre": "F",
        "poule": "VBFA2PA",
        "horaires_preferes": [
          "20:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "5": [
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "LYON 1 (3)|F",
        "nom": "LYON 1 (3)",
        "nom_complet": "LYON 1 (3)",
        "institution": "LYON 1",
        "numero_equipe": "3",
        "genre": "F",
        "poule": "VBFA2PB",
        "horaires_preferes": [
          "20:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "5": [
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "LYON 1 (2)|F",
        "nom": "LYON 1 (2)",
        "nom_complet": "LYON 1 (2)",
        "institution": "LYON 1",
        "numero_equipe": "2",
        "genre": "F",
        "poule": "VBFA2PB",
        "horaires_preferes": [
          "20:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "5": [
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "ENS (1)|F",
        "nom": "ENS (1)",
        "nom_complet": "ENS (1)",
        "institution": "ENS",
        "numero_equipe": "1",
        "genre": "F",
        "poule": "VBFA2PB",
        "horaires_preferes": [
          "18:00"
        ],
        "lieux_preferes": [
          "DESCARTES"
        ],
        "semaines_indisponibles": {}
      },
      {
        "id": "SANTE (1)|F",
        "nom": "SANTE (1)",
        "nom_complet": "SANTE (1)",
        "institution": "SANTE",
        "numero_equipe": "1",
        "genre": "F",
        "poule": "VBFA2PB",
        "horaires_preferes": [
          "20:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "LYON 3 (3)|F",
        "nom": "LYON 3 (3)",
        "nom_complet": "LYON 3 (3)",
        "institution": "LYON 3",
        "numero_equipe": "3",
        "genre": "F",
        "poule": "VBFA2PC",
        "horaires_preferes": [
          "20:00"
        ],
        "lieux_preferes": [
          "LAENNEC"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "LYON 3 (2)|F",
        "nom": "LYON 3 (2)",
        "nom_complet": "LYON 3 (2)",
        "institution": "LYON 3",
        "numero_equipe": "2",
        "genre": "F",
        "poule": "VBFA2PC",
        "horaires_preferes": [
          "20:00"
        ],
        "lieux_preferes": [
          "LAENNEC"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "LYON 2 (3)|F",
        "nom": "LYON 2 (3)",
        "nom_complet": "LYON 2 (3)",
        "institution": "LYON 2",
        "numero_equipe": "3",
        "genre": "F",
        "poule": "VBFA2PC",
        "horaires_preferes": [
          "20:00"
        ],
        "lieux_preferes": [
          "LYON 2 HC"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "SANTE (2)|F",
        "nom": "SANTE (2)",
        "nom_complet": "SANTE (2)",
        "institution": "SANTE",
        "numero_equipe": "2",
        "genre": "F",
        "poule": "VBFA2PC",
        "horaires_preferes": [
          "20:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "VETO (1)|F",
        "nom": "VETO (1)",
        "nom_complet": "VETO (1)",
        "institution": "VETO",
        "numero_equipe": "1",
        "genre": "F",
        "poule": "VBFA2PC",
        "horaires_preferes": [
          "20:00"
        ],
        "lieux_preferes": [],
        "semaines_indisponibles": {}
      },
      {
        "id": "INSA (4)|M",
        "nom": "INSA (4)",
        "nom_complet": "INSA (4)",
        "institution": "INSA",
        "numero_equipe": "4",
        "genre": "M",
        "poule": "VBMA2PA",
        "horaires_preferes": [
          "14:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {}
      },
      {
        "id": "ENTPE (2)|M",
        "nom": "ENTPE (2)",
        "nom_complet": "ENTPE (2)",
        "institution": "ENTPE",
        "numero_equipe": "2",
        "genre": "M",
        "poule": "VBMA2PA",
        "horaires_preferes": [
          "14:00"
        ],
        "lieux_preferes": [],
        "semaines_indisponibles": {}
      },
      {
        "id": "LYON 1 (8)|M",
        "nom": "LYON 1 (8)",
        "nom_complet": "LYON 1 (8)",
        "institution": "LYON 1",
        "numero_equipe": "8",
        "genre": "M",
        "poule": "VBMA2PA",
        "horaires_preferes": [
          "14:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "5": [
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "LYON 1 (5)|M",
        "nom": "LYON 1 (5)",
        "nom_complet": "LYON 1 (5)",
        "institution": "LYON 1",
        "numero_equipe": "5",
        "genre": "M",
        "poule": "VBMA2PA",
        "horaires_preferes": [
          "18:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "5": [
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "ECL (2)|M",
        "nom": "ECL (2)",
        "nom_complet": "ECL (2)",
        "institution": "ECL",
        "numero_equipe": "2",
        "genre": "M",
        "poule": "VBMA2PB",
        "horaires_preferes": [
          "14:00"
        ],
        "lieux_preferes": [
          "ECL"
        ],
        "semaines_indisponibles": {}
      },
      {
        "id": "INSA (3)|M",
        "nom": "INSA (3)",
        "nom_complet": "INSA (3)",
        "institution": "INSA",
        "numero_equipe": "3",
        "genre": "M",
        "poule": "VBMA2PB",
        "horaires_preferes": [
          "14:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {}
      },
      {
        "id": "ISARA (1)|M",
        "nom": "ISARA (1)",
        "nom_complet": "ISARA (1)",
        "institution": "ISARA",
        "numero_equipe": "1",
        "genre": "M",
        "poule": "VBMA2PB",
        "horaires_preferes": [
          "16:00"
        ],
        "lieux_preferes": [],
        "semaines_indisponibles": {}
      },
      {
        "id": "LYON 1 (3)|M",
        "nom": "LYON 1 (3)",
        "nom_complet": "LYON 1 (3)",
        "institution": "LYON 1",
        "numero_equipe": "3",
        "genre": "M",
        "poule": "VBMA2PB",
        "horaires_preferes": [
          "16:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "5": [
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "LYON 1 (6)|M",
        "nom": "LYON 1 (6)",
        "nom_complet": "LYON 1 (6)",
        "institution": "LYON 1",
        "numero_equipe": "6",
        "genre": "M",
        "poule": "VBMA2PD",
        "horaires_preferes": [
          "18:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "5": [
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "ESME (1)|M",
        "nom": "ESME (1)",
        "nom_complet": "ESME (1)",
        "institution": "ESME",
        "numero_equipe": "1",
        "genre": "M",
        "poule": "VBMA2PD",
        "horaires_preferes": [
          "18:00"
        ],
        "lieux_preferes": [],
        "semaines_indisponibles": {}
      },
      {
        "id": "EML (2)|M",
        "nom": "EML (2)",
        "nom_complet": "EML (2)",
        "institution": "EML",
        "numero_equipe": "2",
        "genre": "M",
        "poule": "VBMA2PD",
        "horaires_preferes": [
          "18:00"
        ],
        "lieux_preferes": [],
        "semaines_indisponibles": {}
      },
      {
        "id": "LYON 1 (4)|M",
        "nom": "LYON 1 (4)",
        "nom_complet": "LYON 1 (4)",
        "institution": "LYON 1",
        "numero_equipe": "4",
        "genre": "M",
        "poule": "VBMA2PD",
        "horaires_preferes": [
          "18:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "5": [
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "LYON 2 (2)|M",
        "nom": "LYON 2 (2)",
        "nom_complet": "LYON 2 (2)",
        "institution": "LYON 2",
        "numero_equipe": "2",
        "genre": "M",
        "poule": "VBMA2PD",
        "horaires_preferes": [
          "18:00"
        ],
        "lieux_preferes": [
          "LYON 2 HC"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "ENS (2)|M",
        "nom": "ENS (2)",
        "nom_complet": "ENS (2)",
        "institution": "ENS",
        "numero_equipe": "2",
        "genre": "M",
        "poule": "VBMA2PE",
        "horaires_preferes": [
          "18:00"
        ],
        "lieux_preferes": [
          "DESCARTES"
        ],
        "semaines_indisponibles": {}
      },
      {
        "id": "LYON 1 (21)|M",
        "nom": "LYON 1 (21)",
        "nom_complet": "LYON 1 (21)",
        "institution": "LYON 1",
        "numero_equipe": "21",
        "genre": "M",
        "poule": "VBMA2PE",
        "horaires_preferes": [
          "20:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "5": [
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "LYON 3 (3)|M",
        "nom": "LYON 3 (3)",
        "nom_complet": "LYON 3 (3)",
        "institution": "LYON 3",
        "numero_equipe": "3",
        "genre": "M",
        "poule": "VBMA2PE",
        "horaires_preferes": [
          "20:00"
        ],
        "lieux_preferes": [
          "LAENNEC"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "SANTE (2)|M",
        "nom": "SANTE (2)",
        "nom_complet": "SANTE (2)",
        "institution": "SANTE",
        "numero_equipe": "2",
        "genre": "M",
        "poule": "VBMA2PE",
        "horaires_preferes": [
          "20:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "LYON 3 (2)|M",
        "nom": "LYON 3 (2)",
        "nom_complet": "LYON 3 (2)",
        "institution": "LYON 3",
        "numero_equipe": "2",
        "genre": "M",
        "poule": "VBMA2PC",
        "horaires_preferes": [
          "20:00"
        ],
        "lieux_preferes": [
          "LAENNEC"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "SANTE (1)|M",
        "nom": "SANTE (1)",
        "nom_complet": "SANTE (1)",
        "institution": "SANTE",
        "numero_equipe": "1",
        "genre": "M",
        "poule": "VBMA2PC",
        "horaires_preferes": [
          "20:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "ESA (1)|M",
        "nom": "ESA (1)",
        "nom_complet": "ESA (1)",
        "institution": "ESA",
        "numero_equipe": "1",
        "genre": "M",
        "poule": "VBMA2PC",
        "horaires_preferes": [
          "20:00"
        ],
        "lieux_preferes": [
          "ESA"
        ],
        "semaines_indisponibles": {}
      },
      {
        "id": "CPE (1)|M",
        "nom": "CPE (1)",
        "nom_complet": "CPE (1)",
        "institution": "CPE",
        "numero_equipe": "1",
        "genre": "M",
        "poule": "VBMA2PC",
        "horaires_preferes": [
          "20:00"
        ],
        "lieux_preferes": [],
        "semaines_indisponibles": {}
      },
      {
        "id": "ENTPE (2)|F",
        "nom": "ENTPE (2)",
        "nom_complet": "ENTPE (2)",
        "institution": "ENTPE",
        "numero_equipe": "2",
        "genre": "F",
        "poule": "VBFA3PA",
        "horaires_preferes": [
          "14:00"
        ],
        "lieux_preferes": [],
        "semaines_indisponibles": {}
      },
      {
        "id": "ECAM (1)|F",
        "nom": "ECAM (1)",
        "nom_complet": "ECAM (1)",
        "institution": "ECAM",
        "numero_equipe": "1",
        "genre": "F",
        "poule": "VBFA3PA",
        "horaires_preferes": [
          "16:00"
        ],
        "lieux_preferes": [],
        "semaines_indisponibles": {}
      },
      {
        "id": "LYON 1 (9)|F",
        "nom": "LYON 1 (9)",
        "nom_complet": "LYON 1 (9)",
        "institution": "LYON 1",
        "numero_equipe": "9",
        "genre": "F",
        "poule": "VBFA3PA",
        "horaires_preferes": [
          "18:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "5": [
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "LYON 2 (5)|F",
        "nom": "LYON 2 (5)",
        "nom_complet": "LYON 2 (5)",
        "institution": "LYON 2",
        "numero_equipe": "5",
        "genre": "F",
        "poule": "VBFA3PA",
        "horaires_preferes": [
          "18:00"
        ],
        "lieux_preferes": [
          "LYON 2 HC"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "LYON 2 (6)|F",
        "nom": "LYON 2 (6)",
        "nom_complet": "LYON 2 (6)",
        "institution": "LYON 2",
        "numero_equipe": "6",
        "genre": "F",
        "poule": "VBFA3PA",
        "horaires_preferes": [
          "18:00"
        ],
        "lieux_preferes": [
          "LYON 2 HC"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "SANTE (4)|F",
        "nom": "SANTE (4)",
        "nom_complet": "SANTE (4)",
        "institution": "SANTE",
        "numero_equipe": "4",
        "genre": "F",
        "poule": "VBFA3PB",
        "horaires_preferes": [
          "20:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "LYON 3 (4)|F",
        "nom": "LYON 3 (4)",
        "nom_complet": "LYON 3 (4)",
        "institution": "LYON 3",
        "numero_equipe": "4",
        "genre": "F",
        "poule": "VBFA3PB",
        "horaires_preferes": [
          "20:00"
        ],
        "lieux_preferes": [
          "LAENNEC"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "ESA (1)|F",
        "nom": "ESA (1)",
        "nom_complet": "ESA (1)",
        "institution": "ESA",
        "numero_equipe": "1",
        "genre": "F",
        "poule": "VBFA3PB",
        "horaires_preferes": [
          "20:00"
        ],
        "lieux_preferes": [
          "ESA"
        ],
        "semaines_indisponibles": {}
      },
      {
        "id": "CPE (1)|F",
        "nom": "CPE (1)",
        "nom_complet": "CPE (1)",
        "institution": "CPE",
        "numero_equipe": "1",
        "genre": "F",
        "poule": "VBFA3PB",
        "horaires_preferes": [
          "20:00"
        ],
        "lieux_preferes": [],
        "semaines_indisponibles": {}
      },
      {
        "id": "LYON 1 (6)|F",
        "nom": "LYON 1 (6)",
        "nom_complet": "LYON 1 (6)",
        "institution": "LYON 1",
        "numero_equipe": "6",
        "genre": "F",
        "poule": "VBFA3PB",
        "horaires_preferes": [
          "20:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "5": [
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "SANTE (3)|F",
        "nom": "SANTE (3)",
        "nom_complet": "SANTE (3)",
        "institution": "SANTE",
        "numero_equipe": "3",
        "genre": "F",
        "poule": "VBFA3PC",
        "horaires_preferes": [
          "20:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "EML (2)|F",
        "nom": "EML (2)",
        "nom_complet": "EML (2)",
        "institution": "EML",
        "numero_equipe": "2",
        "genre": "F",
        "poule": "VBFA3PC",
        "horaires_preferes": [
          "20:00"
        ],
        "lieux_preferes": [],
        "semaines_indisponibles": {}
      },
      {
        "id": "CATHO (1)|F",
        "nom": "CATHO (1)",
        "nom_complet": "CATHO (1)",
        "institution": "CATHO",
        "numero_equipe": "1",
        "genre": "F",
        "poule": "VBFA3PC",
        "horaires_preferes": [
          "20:00"
        ],
        "lieux_preferes": [],
        "semaines_indisponibles": {}
      },
      {
        "id": "LYON 2 (7)|F",
        "nom": "LYON 2 (7)",
        "nom_complet": "LYON 2 (7)",
        "institution": "LYON 2",
        "numero_equipe": "7",
        "genre": "F",
        "poule": "VBFA3PC",
        "horaires_preferes": [
          "20:00"
        ],
        "lieux_preferes": [
          "LYON 2 HC"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "LYON 2 IEP (4)|F",
        "nom": "LYON 2 IEP (4)",
        "nom_complet": "LYON 2 IEP (4)",
        "institution": "LYON 2 IEP",
        "numero_equipe": "4",
        "genre": "F",
        "poule": "VBFA3PC",
        "horaires_preferes": [
          "20:00"
        ],
        "lieux_preferes": [
          "LYON 2 HC"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "LYON 1 (24)|M",
        "nom": "LYON 1 (24)",
        "nom_complet": "LYON 1 (24)",
        "institution": "LYON 1",
        "numero_equipe": "24",
        "genre": "M",
        "poule": "VBMA3PA",
        "horaires_preferes": [
          "16:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "5": [
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "INSA (5)|M",
        "nom": "INSA (5)",
        "nom_complet": "INSA (5)",
        "institution": "INSA",
        "numero_equipe": "5",
        "genre": "M",
        "poule": "VBMA3PA",
        "horaires_preferes": [
          "14:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {}
      },
      {
        "id": "LYON 1 (13)|M",
        "nom": "LYON 1 (13)",
        "nom_complet": "LYON 1 (13)",
        "institution": "LYON 1",
        "numero_equipe": "13",
        "genre": "M",
        "poule": "VBMA3PA",
        "horaires_preferes": [
          "14:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "5": [
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "INSA (6)|M",
        "nom": "INSA (6)",
        "nom_complet": "INSA (6)",
        "institution": "INSA",
        "numero_equipe": "6",
        "genre": "M",
        "poule": "VBMA3PB",
        "horaires_preferes": [
          "14:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {}
      },
      {
        "id": "LYON 1 (10)|M",
        "nom": "LYON 1 (10)",
        "nom_complet": "LYON 1 (10)",
        "institution": "LYON 1",
        "numero_equipe": "10",
        "genre": "M",
        "poule": "VBMA3PB",
        "horaires_preferes": [
          "14:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "5": [
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "ECL (3)|M",
        "nom": "ECL (3)",
        "nom_complet": "ECL (3)",
        "institution": "ECL",
        "numero_equipe": "3",
        "genre": "M",
        "poule": "VBMA3PB",
        "horaires_preferes": [
          "14:00"
        ],
        "lieux_preferes": [
          "ECL"
        ],
        "semaines_indisponibles": {}
      },
      {
        "id": "LYON 1 (9)|M",
        "nom": "LYON 1 (9)",
        "nom_complet": "LYON 1 (9)",
        "institution": "LYON 1",
        "numero_equipe": "9",
        "genre": "M",
        "poule": "VBMA3PB",
        "horaires_preferes": [
          "14:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "5": [
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "ISARA (2)|M",
        "nom": "ISARA (2)",
        "nom_complet": "ISARA (2)",
        "institution": "ISARA",
        "numero_equipe": "2",
        "genre": "M",
        "poule": "VBMA3PC",
        "horaires_preferes": [
          "16:00"
        ],
        "lieux_preferes": [],
        "semaines_indisponibles": {}
      },
      {
        "id": "CPE (2)|M",
        "nom": "CPE (2)",
        "nom_complet": "CPE (2)",
        "institution": "CPE",
        "numero_equipe": "2",
        "genre": "M",
        "poule": "VBMA3PC",
        "horaires_preferes": [
          "16:00"
        ],
        "lieux_preferes": [],
        "semaines_indisponibles": {}
      },
      {
        "id": "LYON 1 (22)|M",
        "nom": "LYON 1 (22)",
        "nom_complet": "LYON 1 (22)",
        "institution": "LYON 1",
        "numero_equipe": "22",
        "genre": "M",
        "poule": "VBMA3PC",
        "horaires_preferes": [
          "18:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "5": [
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "LYON 2 (3)|M",
        "nom": "LYON 2 (3)",
        "nom_complet": "LYON 2 (3)",
        "institution": "LYON 2",
        "numero_equipe": "3",
        "genre": "M",
        "poule": "VBMA3PD",
        "horaires_preferes": [
          "18:00"
        ],
        "lieux_preferes": [
          "LYON 2 HC"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "LYON 1 (15)|M",
        "nom": "LYON 1 (15)",
        "nom_complet": "LYON 1 (15)",
        "institution": "LYON 1",
        "numero_equipe": "15",
        "genre": "M",
        "poule": "VBMA3PD",
        "horaires_preferes": [
          "18:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "5": [
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "CATHO (1)|M",
        "nom": "CATHO (1)",
        "nom_complet": "CATHO (1)",
        "institution": "CATHO",
        "numero_equipe": "1",
        "genre": "M",
        "poule": "VBMA3PD",
        "horaires_preferes": [
          "18:00"
        ],
        "lieux_preferes": [],
        "semaines_indisponibles": {}
      },
      {
        "id": "LYON 1 (7)|M",
        "nom": "LYON 1 (7)",
        "nom_complet": "LYON 1 (7)",
        "institution": "LYON 1",
        "numero_equipe": "7",
        "genre": "M",
        "poule": "VBMA3PE",
        "horaires_preferes": [
          "18:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "5": [
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "LYON 1 (12)|M",
        "nom": "LYON 1 (12)",
        "nom_complet": "LYON 1 (12)",
        "institution": "LYON 1",
        "numero_equipe": "12",
        "genre": "M",
        "poule": "VBMA3PE",
        "horaires_preferes": [
          "18:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "5": [
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "ENS (3)|M",
        "nom": "ENS (3)",
        "nom_complet": "ENS (3)",
        "institution": "ENS",
        "numero_equipe": "3",
        "genre": "M",
        "poule": "VBMA3PE",
        "horaires_preferes": [
          "18:00"
        ],
        "lieux_preferes": [
          "DESCARTES"
        ],
        "semaines_indisponibles": {}
      },
      {
        "id": "LYON 1 (16)|M",
        "nom": "LYON 1 (16)",
        "nom_complet": "LYON 1 (16)",
        "institution": "LYON 1",
        "numero_equipe": "16",
        "genre": "M",
        "poule": "VBMA3PF",
        "horaires_preferes": [
          "20:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "5": [
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "LYON 3 (4)|M",
        "nom": "LYON 3 (4)",
        "nom_complet": "LYON 3 (4)",
        "institution": "LYON 3",
        "numero_equipe": "4",
        "genre": "M",
        "poule": "VBMA3PF",
        "horaires_preferes": [
          "20:00"
        ],
        "lieux_preferes": [
          "LAENNEC"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "CATHO (2)|M",
        "nom": "CATHO (2)",
        "nom_complet": "CATHO (2)",
        "institution": "CATHO",
        "numero_equipe": "2",
        "genre": "M",
        "poule": "VBMA3PF",
        "horaires_preferes": [
          "20:00"
        ],
        "lieux_preferes": [],
        "semaines_indisponibles": {}
      },
      {
        "id": "SANTE (4)|M",
        "nom": "SANTE (4)",
        "nom_complet": "SANTE (4)",
        "institution": "SANTE",
        "numero_equipe": "4",
        "genre": "M",
        "poule": "VBMA3PF",
        "horaires_preferes": [
          "20:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "LYON 2 (IEP) (4)|M",
        "nom": "LYON 2 (IEP) (4)",
        "nom_complet": "LYON 2 (IEP) (4)",
        "institution": "LYON 2 (IEP)",
        "numero_equipe": "4",
        "genre": "M",
        "poule": "VBMA3PG",
        "horaires_preferes": [
          "20:00"
        ],
        "lieux_preferes": [],
        "semaines_indisponibles": {}
      },
      {
        "id": "ECAM (2)|M",
        "nom": "ECAM (2)",
        "nom_complet": "ECAM (2)",
        "institution": "ECAM",
        "numero_equipe": "2",
        "genre": "M",
        "poule": "VBMA3PG",
        "horaires_preferes": [
          "20:00"
        ],
        "lieux_preferes": [],
        "semaines_indisponibles": {}
      },
      {
        "id": "VETO (1)|M",
        "nom": "VETO (1)",
        "nom_complet": "VETO (1)",
        "institution": "VETO",
        "numero_equipe": "1",
        "genre": "M",
        "poule": "VBMA3PG",
        "horaires_preferes": [
          "20:00"
        ],
        "lieux_preferes": [],
        "semaines_indisponibles": {}
      },
      {
        "id": "SANTE (3)|M",
        "nom": "SANTE (3)",
        "nom_complet": "SANTE (3)",
        "institution": "SANTE",
        "numero_equipe": "3",
        "genre": "M",
        "poule": "VBMA3PG",
        "horaires_preferes": [
          "20:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "LYON 1 (10)|F",
        "nom": "LYON 1 (10)",
        "nom_complet": "LYON 1 (10)",
        "institution": "LYON 1",
        "numero_equipe": "10",
        "genre": "F",
        "poule": "VBFA4PA",
        "horaires_preferes": [
          "14:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "5": [
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "ECL (2)|F",
        "nom": "ECL (2)",
        "nom_complet": "ECL (2)",
        "institution": "ECL",
        "numero_equipe": "2",
        "genre": "F",
        "poule": "VBFA4PA",
        "horaires_preferes": [
          "14:00"
        ],
        "lieux_preferes": [
          "ECL"
        ],
        "semaines_indisponibles": {}
      },
      {
        "id": "LYON 1 (12)|F",
        "nom": "LYON 1 (12)",
        "nom_complet": "LYON 1 (12)",
        "institution": "LYON 1",
        "numero_equipe": "12",
        "genre": "F",
        "poule": "VBFA4PA",
        "horaires_preferes": [
          "14:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "5": [
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "LYON 1 (13)|F",
        "nom": "LYON 1 (13)",
        "nom_complet": "LYON 1 (13)",
        "institution": "LYON 1",
        "numero_equipe": "13",
        "genre": "F",
        "poule": "VBFA4PA",
        "horaires_preferes": [
          "14:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "5": [
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "LYON 1 (7)|F",
        "nom": "LYON 1 (7)",
        "nom_complet": "LYON 1 (7)",
        "institution": "LYON 1",
        "numero_equipe": "7",
        "genre": "F",
        "poule": "VBFA4PA",
        "horaires_preferes": [
          "14:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "5": [
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "ESSCA (1)|F",
        "nom": "ESSCA (1)",
        "nom_complet": "ESSCA (1)",
        "institution": "ESSCA",
        "numero_equipe": "1",
        "genre": "F",
        "poule": "VBFA4PB",
        "horaires_preferes": [
          "16:00"
        ],
        "lieux_preferes": [],
        "semaines_indisponibles": {}
      },
      {
        "id": "ESME (2)|F",
        "nom": "ESME (2)",
        "nom_complet": "ESME (2)",
        "institution": "ESME",
        "numero_equipe": "2",
        "genre": "F",
        "poule": "VBFA4PB",
        "horaires_preferes": [
          "16:00"
        ],
        "lieux_preferes": [],
        "semaines_indisponibles": {}
      },
      {
        "id": "LYON 2 (8)|F",
        "nom": "LYON 2 (8)",
        "nom_complet": "LYON 2 (8)",
        "institution": "LYON 2",
        "numero_equipe": "8",
        "genre": "F",
        "poule": "VBFA4PB",
        "horaires_preferes": [
          "18:00"
        ],
        "lieux_preferes": [
          "LYON 2 HC"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "ENS (2)|F",
        "nom": "ENS (2)",
        "nom_complet": "ENS (2)",
        "institution": "ENS",
        "numero_equipe": "2",
        "genre": "F",
        "poule": "VBFA4PB",
        "horaires_preferes": [
          "18:00"
        ],
        "lieux_preferes": [
          "DESCARTES"
        ],
        "semaines_indisponibles": {}
      },
      {
        "id": "LYON 1 (8)|F",
        "nom": "LYON 1 (8)",
        "nom_complet": "LYON 1 (8)",
        "institution": "LYON 1",
        "numero_equipe": "8",
        "genre": "F",
        "poule": "VBFA4PB",
        "horaires_preferes": [
          "18:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "5": [
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "LYON 3 (6)|F",
        "nom": "LYON 3 (6)",
        "nom_complet": "LYON 3 (6)",
        "institution": "LYON 3",
        "numero_equipe": "6",
        "genre": "F",
        "poule": "VBFA4PC",
        "horaires_preferes": [
          "20:00"
        ],
        "lieux_preferes": [
          "LAENNEC"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "SANTE (5)|F",
        "nom": "SANTE (5)",
        "nom_complet": "SANTE (5)",
        "institution": "SANTE",
        "numero_equipe": "5",
        "genre": "F",
        "poule": "VBFA4PC",
        "horaires_preferes": [
          "20:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "ESA (2)|F",
        "nom": "ESA (2)",
        "nom_complet": "ESA (2)",
        "institution": "ESA",
        "numero_equipe": "2",
        "genre": "F",
        "poule": "VBFA4PC",
        "horaires_preferes": [
          "20:00"
        ],
        "lieux_preferes": [
          "ESA"
        ],
        "semaines_indisponibles": {}
      },
      {
        "id": "SANTE (6)|F",
        "nom": "SANTE (6)",
        "nom_complet": "SANTE (6)",
        "institution": "SANTE",
        "numero_equipe": "6",
        "genre": "F",
        "poule": "VBFA4PC",
        "horaires_preferes": [
          "20:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "LYON 3 (5)|F",
        "nom": "LYON 3 (5)",
        "nom_complet": "LYON 3 (5)",
        "institution": "LYON 3",
        "numero_equipe": "5",
        "genre": "F",
        "poule": "VBFA4PC",
        "horaires_preferes": [
          "20:00"
        ],
        "lieux_preferes": [
          "LAENNEC"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "LYON 1 (14)|M",
        "nom": "LYON 1 (14)",
        "nom_complet": "LYON 1 (14)",
        "institution": "LYON 1",
        "numero_equipe": "14",
        "genre": "M",
        "poule": "VBMA4PA",
        "horaires_preferes": [
          "14:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "5": [
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "LYON 1 (20)|M",
        "nom": "LYON 1 (20)",
        "nom_complet": "LYON 1 (20)",
        "institution": "LYON 1",
        "numero_equipe": "20",
        "genre": "M",
        "poule": "VBMA4PA",
        "horaires_preferes": [
          "14:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "5": [
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "LYON 1 (18)|M",
        "nom": "LYON 1 (18)",
        "nom_complet": "LYON 1 (18)",
        "institution": "LYON 1",
        "numero_equipe": "18",
        "genre": "M",
        "poule": "VBMA4PA",
        "horaires_preferes": [
          "14:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "5": [
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "ESSCA (1)|M",
        "nom": "ESSCA (1)",
        "nom_complet": "ESSCA (1)",
        "institution": "ESSCA",
        "numero_equipe": "1",
        "genre": "M",
        "poule": "VBMA4PB",
        "horaires_preferes": [
          "16:00"
        ],
        "lieux_preferes": [],
        "semaines_indisponibles": {}
      },
      {
        "id": "ESME (2)|M",
        "nom": "ESME (2)",
        "nom_complet": "ESME (2)",
        "institution": "ESME",
        "numero_equipe": "2",
        "genre": "M",
        "poule": "VBMA4PB",
        "horaires_preferes": [
          "16:00"
        ],
        "lieux_preferes": [],
        "semaines_indisponibles": {}
      },
      {
        "id": "LYON 1 (11)|M",
        "nom": "LYON 1 (11)",
        "nom_complet": "LYON 1 (11)",
        "institution": "LYON 1",
        "numero_equipe": "11",
        "genre": "M",
        "poule": "VBMA4PB",
        "horaires_preferes": [
          "16:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "5": [
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "LYON 2 (5)|M",
        "nom": "LYON 2 (5)",
        "nom_complet": "LYON 2 (5)",
        "institution": "LYON 2",
        "numero_equipe": "5",
        "genre": "M",
        "poule": "VBMA4PB",
        "horaires_preferes": [
          "18:00"
        ],
        "lieux_preferes": [
          "LYON 2 HC"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "LYON 2 (6)|M",
        "nom": "LYON 2 (6)",
        "nom_complet": "LYON 2 (6)",
        "institution": "LYON 2",
        "numero_equipe": "6",
        "genre": "M",
        "poule": "VBMA4PC",
        "horaires_preferes": [
          "18:00"
        ],
        "lieux_preferes": [
          "LYON 2 HC"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "CESI (1)|M",
        "nom": "CESI (1)",
        "nom_complet": "CESI (1)",
        "institution": "CESI",
        "numero_equipe": "1",
        "genre": "M",
        "poule": "VBMA4PC",
        "horaires_preferes": [
          "18:00"
        ],
        "lieux_preferes": [],
        "semaines_indisponibles": {}
      },
      {
        "id": "LYON 1 (25)|M",
        "nom": "LYON 1 (25)",
        "nom_complet": "LYON 1 (25)",
        "institution": "LYON 1",
        "numero_equipe": "25",
        "genre": "M",
        "poule": "VBMA4PC",
        "horaires_preferes": [
          "18:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "5": [
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "LYON 1 (23)|M",
        "nom": "LYON 1 (23)",
        "nom_complet": "LYON 1 (23)",
        "institution": "LYON 1",
        "numero_equipe": "23",
        "genre": "M",
        "poule": "VBMA4PC",
        "horaires_preferes": [
          "18:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "5": [
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "LYON 1 (19)|M",
        "nom": "LYON 1 (19)",
        "nom_complet": "LYON 1 (19)",
        "institution": "LYON 1",
        "numero_equipe": "19",
        "genre": "M",
        "poule": "VBMA4PC",
        "horaires_preferes": [
          "18:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "5": [
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "LYON 3 (5)|M",
        "nom": "LYON 3 (5)",
        "nom_complet": "LYON 3 (5)",
        "institution": "LYON 3",
        "numero_equipe": "5",
        "genre": "M",
        "poule": "VBMA4PD",
        "horaires_preferes": [
          "20:00"
        ],
        "lieux_preferes": [
          "LAENNEC"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "CESI (2)|M",
        "nom": "CESI (2)",
        "nom_complet": "CESI (2)",
        "institution": "CESI",
        "numero_equipe": "2",
        "genre": "M",
        "poule": "VBMA4PD",
        "horaires_preferes": [
          "20:00"
        ],
        "lieux_preferes": [],
        "semaines_indisponibles": {
          "1": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "2": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "LYON 3 (6)|M",
        "nom": "LYON 3 (6)",
        "nom_complet": "LYON 3 (6)",
        "institution": "LYON 3",
        "numero_equipe": "6",
        "genre": "M",
        "poule": "VBMA4PD",
        "horaires_preferes": [
          "20:00"
        ],
        "lieux_preferes": [
          "LAENNEC"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "SANTE (5)|M",
        "nom": "SANTE (5)",
        "nom_complet": "SANTE (5)",
        "institution": "SANTE",
        "numero_equipe": "5",
        "genre": "M",
        "poule": "VBMA4PD",
        "horaires_preferes": [
          "20:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ]
        }
      },
      {
        "id": "LYON 1 (17)|M",
        "nom": "LYON 1 (17)",
        "nom_complet": "LYON 1 (17)",
        "institution": "LYON 1",
        "numero_equipe": "17",
        "genre": "M",
        "poule": "VBMA4PD",
        "horaires_preferes": [
          "20:00"
        ],
        "lieux_preferes": [
          "BESSON"
        ],
        "semaines_indisponibles": {
          "9": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "14": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "5": [
            "18:00",
            "20:00"
          ]
        }
      }
    ],
    "gymnases": [
      {
        "id": "DESCARTES",
        "nom": "DESCARTES",
        "capacite": 1,
        "horaires_disponibles": [
          "14:00",
          "16:00",
          "18:00",
          "20:00"
        ],
        "semaines_indisponibles": {
          "7": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ],
          "13": [
            "14:00",
            "16:00",
            "18:00",
            "20:00"
          ]
        },
        "capacite_reduite": {}
      },
      {
        "id": "ECL",
        "nom": "ECL",
        "capacite": 2,
        "horaires_disponibles": [
          "14:00",
          "16:00",
          "18:00"
        ],
        "semaines_indisponibles": {
          "6": [
            "14:00",
            "16:00"
          ],
          "7": [
            "16:00"
          ]
        },
        "capacite_reduite": {}
      },
      {
        "id": "ESA",
        "nom": "ESA",
        "capacite": 1,
        "horaires_disponibles": [
          "20:00"
        ],
        "semaines_indisponibles": {
          "2": [
            "20:00"
          ],
          "4": [
            "20:00"
          ],
          "6": [
            "20:00"
          ],
          "7": [
            "20:00"
          ]
        },
        "capacite_reduite": {}
      },
      {
        "id": "LYON 2 HC",
        "nom": "LYON 2 HC",
        "capacite": 3,
        "horaires_disponibles": [
          "18:00",
          "20:00"
        ],
        "semaines_indisponibles": {
          "3": [
            "18:00",
            "20:00"
          ],
          "4": [
            "18:00",
            "20:00"
          ],
          "5": [
            "18:00",
            "20:00"
          ],
          "6": [
            "18:00",
            "20:00"
          ],
          "8": [
            "18:00",
            "20:00"
          ]
        },
        "capacite_reduite": {}
      },
      {
        "id": "LAENNEC",
        "nom": "LAENNEC",
        "capacite": 3,
        "horaires_disponibles": [
          "16:00",
          "18:00",
          "20:00"
        ],
        "semaines_indisponibles": {},
        "capacite_reduite": {}
      },
      {
        "id": "BESSON",
        "nom": "BESSON",
        "capacite": 3,
        "horaires_disponibles": [
          "14:00",
          "16:00",
          "18:00",
          "20:00"
        ],
        "semaines_indisponibles": {},
        "capacite_reduite": {}
      },
      {
        "id": "L. J. HAUT",
        "nom": "L. J. HAUT",
        "capacite": 1,
        "horaires_disponibles": [
          "14:00",
          "16:00",
          "18:00",
          "20:00"
        ],
        "semaines_indisponibles": {},
        "capacite_reduite": {}
      },
      {
        "id": "ENTPE",
        "nom": "ENTPE",
        "capacite": 1,
        "horaires_disponibles": [],
        "semaines_indisponibles": {},
        "capacite_reduite": {}
      },
      {
        "id": "GRENOBLE",
        "nom": "GRENOBLE",
        "capacite": 1,
        "horaires_disponibles": [],
        "semaines_indisponibles": {},
        "capacite_reduite": {}
      }
    ],
    "poules": [
      {
        "id": "VBFA1PA",
        "nom": "VBFA1PA",
        "genre": "F",
        "niveau": "A1",
        "equipes_ids": [
          "LYON 1 (1)|F",
          "INSA (2)|F",
          "ENTPE (1)|F",
          "INSA (1)|F",
          "LYON 1 (11)|F"
        ],
        "nb_equipes": 5,
        "nb_matchs_planifies": 8,
        "nb_matchs_non_planifies": 0
      },
      {
        "id": "VBFA1PB",
        "nom": "VBFA1PB",
        "genre": "F",
        "niveau": "A1",
        "equipes_ids": [
          "EML (1)|F",
          "LYON 2 (1)|F",
          "LYON 3 (1)|F",
          "LYON 2 (2)|F"
        ],
        "nb_equipes": 4,
        "nb_matchs_planifies": 4,
        "nb_matchs_non_planifies": 2
      },
      {
        "id": "VBMA1PA",
        "nom": "VBMA1PA",
        "genre": "M",
        "niveau": "A1",
        "equipes_ids": [
          "INSA (1)|M",
          "LYON 1 (2)|M",
          "LYON 1 (1)|M",
          "ENTPE (1)|M"
        ],
        "nb_equipes": 4,
        "nb_matchs_planifies": 6,
        "nb_matchs_non_planifies": 2
      },
      {
        "id": "VBMA1PB",
        "nom": "VBMA1PB",
        "genre": "M",
        "niveau": "A1",
        "equipes_ids": [
          "ECL (1)|M",
          "LYON 1 (26)|M",
          "INSA (2)|M",
          "LYON 2 (1)|M"
        ],
        "nb_equipes": 4,
        "nb_matchs_planifies": 8,
        "nb_matchs_non_planifies": 1
      },
      {
        "id": "VBMA1PC",
        "nom": "VBMA1PC",
        "genre": "M",
        "niveau": "A1",
        "equipes_ids": [
          "ENS (1)|M",
          "ECAM (1)|M",
          "EML (1)|M",
          "LYON 3 (1)|M"
        ],
        "nb_equipes": 4,
        "nb_matchs_planifies": 5,
        "nb_matchs_non_planifies": 0
      },
      {
        "id": "VBFA2PA",
        "nom": "VBFA2PA",
        "genre": "F",
        "niveau": "A2",
        "equipes_ids": [
          "ECL (1)|F",
          "LYON 1 (5)|F",
          "INSA (3)|F",
          "LYON 1 (4)|F"
        ],
        "nb_equipes": 4,
        "nb_matchs_planifies": 6,
        "nb_matchs_non_planifies": 3
      },
      {
        "id": "VBFA2PB",
        "nom": "VBFA2PB",
        "genre": "F",
        "niveau": "A2",
        "equipes_ids": [
          "LYON 1 (3)|F",
          "LYON 1 (2)|F",
          "ENS (1)|F",
          "SANTE (1)|F"
        ],
        "nb_equipes": 4,
        "nb_matchs_planifies": 3,
        "nb_matchs_non_planifies": 3
      },
      {
        "id": "VBFA2PC",
        "nom": "VBFA2PC",
        "genre": "F",
        "niveau": "A2",
        "equipes_ids": [
          "LYON 3 (3)|F",
          "LYON 3 (2)|F",
          "LYON 2 (3)|F",
          "SANTE (2)|F",
          "VETO (1)|F"
        ],
        "nb_equipes": 5,
        "nb_matchs_planifies": 8,
        "nb_matchs_non_planifies": 2
      },
      {
        "id": "VBMA2PA",
        "nom": "VBMA2PA",
        "genre": "M",
        "niveau": "A2",
        "equipes_ids": [
          "INSA (4)|M",
          "ENTPE (2)|M",
          "LYON 1 (8)|M",
          "LYON 1 (5)|M"
        ],
        "nb_equipes": 4,
        "nb_matchs_planifies": 7,
        "nb_matchs_non_planifies": 2
      },
      {
        "id": "VBMA2PB",
        "nom": "VBMA2PB",
        "genre": "M",
        "niveau": "A2",
        "equipes_ids": [
          "ECL (2)|M",
          "INSA (3)|M",
          "ISARA (1)|M",
          "LYON 1 (3)|M"
        ],
        "nb_equipes": 4,
        "nb_matchs_planifies": 9,
        "nb_matchs_non_planifies": 0
      },
      {
        "id": "VBMA2PD",
        "nom": "VBMA2PD",
        "genre": "M",
        "niveau": "A2",
        "equipes_ids": [
          "LYON 1 (6)|M",
          "ESME (1)|M",
          "EML (2)|M",
          "LYON 1 (4)|M",
          "LYON 2 (2)|M"
        ],
        "nb_equipes": 5,
        "nb_matchs_planifies": 9,
        "nb_matchs_non_planifies": 1
      },
      {
        "id": "VBMA2PE",
        "nom": "VBMA2PE",
        "genre": "M",
        "niveau": "A2",
        "equipes_ids": [
          "ENS (2)|M",
          "LYON 1 (21)|M",
          "LYON 3 (3)|M",
          "SANTE (2)|M"
        ],
        "nb_equipes": 4,
        "nb_matchs_planifies": 6,
        "nb_matchs_non_planifies": 0
      },
      {
        "id": "VBMA2PC",
        "nom": "VBMA2PC",
        "genre": "M",
        "niveau": "A2",
        "equipes_ids": [
          "LYON 3 (2)|M",
          "SANTE (1)|M",
          "ESA (1)|M",
          "CPE (1)|M"
        ],
        "nb_equipes": 4,
        "nb_matchs_planifies": 5,
        "nb_matchs_non_planifies": 0
      },
      {
        "id": "VBFA3PA",
        "nom": "VBFA3PA",
        "genre": "F",
        "niveau": "A3",
        "equipes_ids": [
          "ENTPE (2)|F",
          "ECAM (1)|F",
          "LYON 1 (9)|F",
          "LYON 2 (5)|F",
          "LYON 2 (6)|F"
        ],
        "nb_equipes": 5,
        "nb_matchs_planifies": 15,
        "nb_matchs_non_planifies": 0
      },
      {
        "id": "VBFA3PB",
        "nom": "VBFA3PB",
        "genre": "F",
        "niveau": "A3",
        "equipes_ids": [
          "SANTE (4)|F",
          "LYON 3 (4)|F",
          "ESA (1)|F",
          "CPE (1)|F",
          "LYON 1 (6)|F"
        ],
        "nb_equipes": 5,
        "nb_matchs_planifies": 10,
        "nb_matchs_non_planifies": 0
      },
      {
        "id": "VBFA3PC",
        "nom": "VBFA3PC",
        "genre": "F",
        "niveau": "A3",
        "equipes_ids": [
          "SANTE (3)|F",
          "EML (2)|F",
          "CATHO (1)|F",
          "LYON 2 (7)|F",
          "LYON 2 IEP (4)|F"
        ],
        "nb_equipes": 5,
        "nb_matchs_planifies": 6,
        "nb_matchs_non_planifies": 4
      },
      {
        "id": "VBMA3PA",
        "nom": "VBMA3PA",
        "genre": "M",
        "niveau": "A3",
        "equipes_ids": [
          "LYON 1 (24)|M",
          "INSA (5)|M",
          "LYON 1 (13)|M"
        ],
        "nb_equipes": 3,
        "nb_matchs_planifies": 5,
        "nb_matchs_non_planifies": 0
      },
      {
        "id": "VBMA3PB",
        "nom": "VBMA3PB",
        "genre": "M",
        "niveau": "A3",
        "equipes_ids": [
          "INSA (6)|M",
          "LYON 1 (10)|M",
          "ECL (3)|M",
          "LYON 1 (9)|M"
        ],
        "nb_equipes": 4,
        "nb_matchs_planifies": 7,
        "nb_matchs_non_planifies": 2
      },
      {
        "id": "VBMA3PC",
        "nom": "VBMA3PC",
        "genre": "M",
        "niveau": "A3",
        "equipes_ids": [
          "ISARA (2)|M",
          "CPE (2)|M",
          "LYON 1 (22)|M"
        ],
        "nb_equipes": 3,
        "nb_matchs_planifies": 4,
        "nb_matchs_non_planifies": 0
      },
      {
        "id": "VBMA3PD",
        "nom": "VBMA3PD",
        "genre": "M",
        "niveau": "A3",
        "equipes_ids": [
          "LYON 2 (3)|M",
          "LYON 1 (15)|M",
          "CATHO (1)|M"
        ],
        "nb_equipes": 3,
        "nb_matchs_planifies": 3,
        "nb_matchs_non_planifies": 0
      },
      {
        "id": "VBMA3PE",
        "nom": "VBMA3PE",
        "genre": "M",
        "niveau": "A3",
        "equipes_ids": [
          "LYON 1 (7)|M",
          "LYON 1 (12)|M",
          "ENS (3)|M"
        ],
        "nb_equipes": 3,
        "nb_matchs_planifies": 3,
        "nb_matchs_non_planifies": 0
      },
      {
        "id": "VBMA3PF",
        "nom": "VBMA3PF",
        "genre": "M",
        "niveau": "A3",
        "equipes_ids": [
          "LYON 1 (16)|M",
          "LYON 3 (4)|M",
          "CATHO (2)|M",
          "SANTE (4)|M"
        ],
        "nb_equipes": 4,
        "nb_matchs_planifies": 4,
        "nb_matchs_non_planifies": 1
      },
      {
        "id": "VBMA3PG",
        "nom": "VBMA3PG",
        "genre": "M",
        "niveau": "A3",
        "equipes_ids": [
          "LYON 2 (IEP) (4)|M",
          "ECAM (2)|M",
          "VETO (1)|M",
          "SANTE (3)|M"
        ],
        "nb_equipes": 4,
        "nb_matchs_planifies": 6,
        "nb_matchs_non_planifies": 0
      },
      {
        "id": "VBFA4PA",
        "nom": "VBFA4PA",
        "genre": "F",
        "niveau": "A4",
        "equipes_ids": [
          "LYON 1 (10)|F",
          "ECL (2)|F",
          "LYON 1 (12)|F",
          "LYON 1 (13)|F",
          "LYON 1 (7)|F"
        ],
        "nb_equipes": 5,
        "nb_matchs_planifies": 6,
        "nb_matchs_non_planifies": 3
      },
      {
        "id": "VBFA4PB",
        "nom": "VBFA4PB",
        "genre": "F",
        "niveau": "A4",
        "equipes_ids": [
          "ESSCA (1)|F",
          "ESME (2)|F",
          "LYON 2 (8)|F",
          "ENS (2)|F",
          "LYON 1 (8)|F"
        ],
        "nb_equipes": 5,
        "nb_matchs_planifies": 9,
        "nb_matchs_non_planifies": 0
      },
      {
        "id": "VBFA4PC",
        "nom": "VBFA4PC",
        "genre": "F",
        "niveau": "A4",
        "equipes_ids": [
          "LYON 3 (6)|F",
          "SANTE (5)|F",
          "ESA (2)|F",
          "SANTE (6)|F",
          "LYON 3 (5)|F"
        ],
        "nb_equipes": 5,
        "nb_matchs_planifies": 8,
        "nb_matchs_non_planifies": 2
      },
      {
        "id": "VBMA4PA",
        "nom": "VBMA4PA",
        "genre": "M",
        "niveau": "A4",
        "equipes_ids": [
          "LYON 1 (14)|M",
          "LYON 1 (20)|M",
          "LYON 1 (18)|M"
        ],
        "nb_equipes": 3,
        "nb_matchs_planifies": 2,
        "nb_matchs_non_planifies": 3
      },
      {
        "id": "VBMA4PB",
        "nom": "VBMA4PB",
        "genre": "M",
        "niveau": "A4",
        "equipes_ids": [
          "ESSCA (1)|M",
          "ESME (2)|M",
          "LYON 1 (11)|M",
          "LYON 2 (5)|M"
        ],
        "nb_equipes": 4,
        "nb_matchs_planifies": 8,
        "nb_matchs_non_planifies": 0
      },
      {
        "id": "VBMA4PC",
        "nom": "VBMA4PC",
        "genre": "M",
        "niveau": "A4",
        "equipes_ids": [
          "LYON 2 (6)|M",
          "CESI (1)|M",
          "LYON 1 (25)|M",
          "LYON 1 (23)|M",
          "LYON 1 (19)|M"
        ],
        "nb_equipes": 5,
        "nb_matchs_planifies": 8,
        "nb_matchs_non_planifies": 2
      },
      {
        "id": "VBMA4PD",
        "nom": "VBMA4PD",
        "genre": "M",
        "niveau": "A4",
        "equipes_ids": [
          "LYON 3 (5)|M",
          "CESI (2)|M",
          "LYON 3 (6)|M",
          "SANTE (5)|M",
          "LYON 1 (17)|M"
        ],
        "nb_equipes": 5,
        "nb_matchs_planifies": 5,
        "nb_matchs_non_planifies": 3
      }
    ]
  },
  "matches": {
    "scheduled": [
      {
        "match_id": "M_0000",
        "equipe1_id": "ECL (2)|F",
        "equipe1_nom": "ECL (2)",
        "equipe1_nom_complet": "ECL (2)",
        "equipe1_institution": "ECL",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "LYON 1 (12)|F",
        "equipe2_nom": "LYON 1 (12)",
        "equipe2_nom_complet": "LYON 1 (12)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBFA4PA",
        "priorite": 0,
        "genre": "F",
        "semaine": 1,
        "horaire": "14:00",
        "gymnase": "ECL",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": 1,
          "equipe2": 3,
          "has_score": true
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0001",
        "equipe1_id": "INSA (6)|M",
        "equipe1_nom": "INSA (6)",
        "equipe1_nom_complet": "INSA (6)",
        "equipe1_institution": "INSA",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "LYON 1 (9)|M",
        "equipe2_nom": "LYON 1 (9)",
        "equipe2_nom_complet": "LYON 1 (9)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBMA3PB",
        "priorite": 0,
        "genre": "M",
        "semaine": 1,
        "horaire": "14:00",
        "gymnase": "BESSON",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": 1,
          "equipe2": 3,
          "has_score": true
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0002",
        "equipe1_id": "INSA (1)|F",
        "equipe1_nom": "INSA (1)",
        "equipe1_nom_complet": "INSA (1)",
        "equipe1_institution": "INSA",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "LYON 1 (11)|F",
        "equipe2_nom": "LYON 1 (11)",
        "equipe2_nom_complet": "LYON 1 (11)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBFA1PA",
        "priorite": 0,
        "genre": "F",
        "semaine": 1,
        "horaire": "16:00",
        "gymnase": "BESSON",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": 3,
          "equipe2": 0,
          "has_score": true
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0003",
        "equipe1_id": "LYON 1 (9)|F",
        "equipe1_nom": "LYON 1 (9)",
        "equipe1_nom_complet": "LYON 1 (9)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "ECAM (1)|F",
        "equipe2_nom": "ECAM (1)",
        "equipe2_nom_complet": "ECAM (1)",
        "equipe2_institution": "ECAM",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "16:00"
        ],
        "poule": "VBFA3PA",
        "priorite": 0,
        "genre": "F",
        "semaine": 1,
        "horaire": "16:00",
        "gymnase": "LAENNEC",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": 0,
          "equipe2": 3,
          "has_score": true
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0004",
        "equipe1_id": "INSA (2)|M",
        "equipe1_nom": "INSA (2)",
        "equipe1_nom_complet": "INSA (2)",
        "equipe1_institution": "INSA",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "LYON 1 (26)|M",
        "equipe2_nom": "LYON 1 (26)",
        "equipe2_nom_complet": "LYON 1 (26)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBMA1PB",
        "priorite": 0,
        "genre": "M",
        "semaine": 1,
        "horaire": "16:00",
        "gymnase": "BESSON",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": 3,
          "equipe2": 1,
          "has_score": true
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0005",
        "equipe1_id": "INSA (3)|M",
        "equipe1_nom": "INSA (3)",
        "equipe1_nom_complet": "INSA (3)",
        "equipe1_institution": "INSA",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "LYON 1 (3)|M",
        "equipe2_nom": "LYON 1 (3)",
        "equipe2_nom_complet": "LYON 1 (3)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "16:00"
        ],
        "poule": "VBMA2PB",
        "priorite": 0,
        "genre": "M",
        "semaine": 1,
        "horaire": "16:00",
        "gymnase": "BESSON",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": 1,
          "equipe2": 3,
          "has_score": true
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0006",
        "equipe1_id": "LYON 1 (15)|M",
        "equipe1_nom": "LYON 1 (15)",
        "equipe1_nom_complet": "LYON 1 (15)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "CPE (2)|M",
        "equipe2_nom": "CPE (2)",
        "equipe2_nom_complet": "CPE (2)",
        "equipe2_institution": "CPE",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "16:00"
        ],
        "poule": "",
        "priorite": 0,
        "genre": "M",
        "semaine": 1,
        "horaire": "16:00",
        "gymnase": "LAENNEC",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": 3,
          "equipe2": 0,
          "has_score": true
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0007",
        "equipe1_id": "LYON 1 (11)|M",
        "equipe1_nom": "LYON 1 (11)",
        "equipe1_nom_complet": "LYON 1 (11)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "16:00"
        ],
        "equipe2_id": "ESME (2)|M",
        "equipe2_nom": "ESME (2)",
        "equipe2_nom_complet": "ESME (2)",
        "equipe2_institution": "ESME",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "16:00"
        ],
        "poule": "VBMA4PB",
        "priorite": 0,
        "genre": "M",
        "semaine": 1,
        "horaire": "16:00",
        "gymnase": "L. J. HAUT",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": 0,
          "equipe2": 3,
          "has_score": true
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0008",
        "equipe1_id": "LYON 1 (4)|F",
        "equipe1_nom": "LYON 1 (4)",
        "equipe1_nom_complet": "LYON 1 (4)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "INSA (3)|F",
        "equipe2_nom": "INSA (3)",
        "equipe2_nom_complet": "INSA (3)",
        "equipe2_institution": "INSA",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "16:00"
        ],
        "poule": "VBFA2PA",
        "priorite": 0,
        "genre": "F",
        "semaine": 1,
        "horaire": "18:00",
        "gymnase": "BESSON",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": 3,
          "equipe2": 0,
          "has_score": true
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0009",
        "equipe1_id": "LYON 1 (2)|F",
        "equipe1_nom": "LYON 1 (2)",
        "equipe1_nom_complet": "LYON 1 (2)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "ENS (1)|F",
        "equipe2_nom": "ENS (1)",
        "equipe2_nom_complet": "ENS (1)",
        "equipe2_institution": "ENS",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "VBFA2PB",
        "priorite": 0,
        "genre": "F",
        "semaine": 1,
        "horaire": "18:00",
        "gymnase": "BESSON",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": 3,
          "equipe2": 1,
          "has_score": true
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0010",
        "equipe1_id": "LYON 2 (5)|F",
        "equipe1_nom": "LYON 2 (5)",
        "equipe1_nom_complet": "LYON 2 (5)",
        "equipe1_institution": "LYON 2",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "LYON 2 (6)|F",
        "equipe2_nom": "LYON 2 (6)",
        "equipe2_nom_complet": "LYON 2 (6)",
        "equipe2_institution": "LYON 2",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "VBFA3PA",
        "priorite": 0,
        "genre": "F",
        "semaine": 1,
        "horaire": "18:00",
        "gymnase": "LYON 2 HC",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": 0,
          "equipe2": 3,
          "has_score": true
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0011",
        "equipe1_id": "ENS (3)|M",
        "equipe1_nom": "ENS (3)",
        "equipe1_nom_complet": "ENS (3)",
        "equipe1_institution": "ENS",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "LYON 1 (12)|M",
        "equipe2_nom": "LYON 1 (12)",
        "equipe2_nom_complet": "LYON 1 (12)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "VBMA3PE",
        "priorite": 0,
        "genre": "M",
        "semaine": 1,
        "horaire": "18:00",
        "gymnase": "DESCARTES",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": 3,
          "equipe2": 2,
          "has_score": true
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0012",
        "equipe1_id": "LYON 2 (3)|M",
        "equipe1_nom": "LYON 2 (3)",
        "equipe1_nom_complet": "LYON 2 (3)",
        "equipe1_institution": "LYON 2",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "CATHO (1)|M",
        "equipe2_nom": "CATHO (1)",
        "equipe2_nom_complet": "CATHO (1)",
        "equipe2_institution": "CATHO",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "VBMA3PD",
        "priorite": 0,
        "genre": "M",
        "semaine": 1,
        "horaire": "18:00",
        "gymnase": "LAENNEC",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": 3,
          "equipe2": 0,
          "has_score": true
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0013",
        "equipe1_id": "LYON 1 (25)|M",
        "equipe1_nom": "LYON 1 (25)",
        "equipe1_nom_complet": "LYON 1 (25)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "LYON 2 (5)|M",
        "equipe2_nom": "LYON 2 (5)",
        "equipe2_nom_complet": "LYON 2 (5)",
        "equipe2_institution": "LYON 2",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "",
        "priorite": 0,
        "genre": "M",
        "semaine": 1,
        "horaire": "18:00",
        "gymnase": "BESSON",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": 0,
          "equipe2": 3,
          "has_score": true
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0014",
        "equipe1_id": "LYON 2 (6)|M",
        "equipe1_nom": "LYON 2 (6)",
        "equipe1_nom_complet": "LYON 2 (6)",
        "equipe1_institution": "LYON 2",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "CESI (1)|M",
        "equipe2_nom": "CESI (1)",
        "equipe2_nom_complet": "CESI (1)",
        "equipe2_institution": "CESI",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "VBMA4PC",
        "priorite": 0,
        "genre": "M",
        "semaine": 1,
        "horaire": "18:00",
        "gymnase": "LYON 2 HC",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": 0,
          "equipe2": 3,
          "has_score": true
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0015",
        "equipe1_id": "EML (1)|F",
        "equipe1_nom": "EML (1)",
        "equipe1_nom_complet": "EML (1)",
        "equipe1_institution": "EML",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "LYON 3 (1)|F",
        "equipe2_nom": "LYON 3 (1)",
        "equipe2_nom_complet": "LYON 3 (1)",
        "equipe2_institution": "LYON 3",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBFA1PB",
        "priorite": 0,
        "genre": "F",
        "semaine": 1,
        "horaire": "20:00",
        "gymnase": "LAENNEC",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": 1,
          "equipe2": 3,
          "has_score": true
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0016",
        "equipe1_id": "SANTE (4)|F",
        "equipe1_nom": "SANTE (4)",
        "equipe1_nom_complet": "SANTE (4)",
        "equipe1_institution": "SANTE",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "LYON 1 (6)|F",
        "equipe2_nom": "LYON 1 (6)",
        "equipe2_nom_complet": "LYON 1 (6)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBFA3PB",
        "priorite": 0,
        "genre": "F",
        "semaine": 1,
        "horaire": "20:00",
        "gymnase": "BESSON",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": 3,
          "equipe2": 0,
          "has_score": true
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0017",
        "equipe1_id": "CATHO (1)|F",
        "equipe1_nom": "CATHO (1)",
        "equipe1_nom_complet": "CATHO (1)",
        "equipe1_institution": "CATHO",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "LYON 2 (7)|F",
        "equipe2_nom": "LYON 2 (7)",
        "equipe2_nom_complet": "LYON 2 (7)",
        "equipe2_institution": "LYON 2",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBFA3PC",
        "priorite": 0,
        "genre": "F",
        "semaine": 1,
        "horaire": "20:00",
        "gymnase": "LYON 2 HC",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": 2,
          "equipe2": 3,
          "has_score": true
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0018",
        "equipe1_id": "LYON 3 (6)|F",
        "equipe1_nom": "LYON 3 (6)",
        "equipe1_nom_complet": "LYON 3 (6)",
        "equipe1_institution": "LYON 3",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "ESA (2)|F",
        "equipe2_nom": "ESA (2)",
        "equipe2_nom_complet": "ESA (2)",
        "equipe2_institution": "ESA",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBFA4PC",
        "priorite": 0,
        "genre": "F",
        "semaine": 1,
        "horaire": "20:00",
        "gymnase": "ESA",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": 0,
          "equipe2": 3,
          "has_score": true
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0019",
        "equipe1_id": "ECAM (1)|M",
        "equipe1_nom": "ECAM (1)",
        "equipe1_nom_complet": "ECAM (1)",
        "equipe1_institution": "ECAM",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "LYON 3 (1)|M",
        "equipe2_nom": "LYON 3 (1)",
        "equipe2_nom_complet": "LYON 3 (1)",
        "equipe2_institution": "LYON 3",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBMA1PC",
        "priorite": 0,
        "genre": "M",
        "semaine": 1,
        "horaire": "20:00",
        "gymnase": "LAENNEC",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": 1,
          "equipe2": 3,
          "has_score": true
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0020",
        "equipe1_id": "LYON 1 (21)|M",
        "equipe1_nom": "LYON 1 (21)",
        "equipe1_nom_complet": "LYON 1 (21)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "SANTE (2)|M",
        "equipe2_nom": "SANTE (2)",
        "equipe2_nom_complet": "SANTE (2)",
        "equipe2_institution": "SANTE",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBMA2PE",
        "priorite": 0,
        "genre": "M",
        "semaine": 1,
        "horaire": "20:00",
        "gymnase": "BESSON",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": 1,
          "equipe2": 3,
          "has_score": true
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0021",
        "equipe1_id": "ENS (2)|M",
        "equipe1_nom": "ENS (2)",
        "equipe1_nom_complet": "ENS (2)",
        "equipe1_institution": "ENS",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "LYON 3 (3)|M",
        "equipe2_nom": "LYON 3 (3)",
        "equipe2_nom_complet": "LYON 3 (3)",
        "equipe2_institution": "LYON 3",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBMA2PE",
        "priorite": 0,
        "genre": "M",
        "semaine": 1,
        "horaire": "20:00",
        "gymnase": "DESCARTES",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": 2,
          "equipe2": 3,
          "has_score": true
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0022",
        "equipe1_id": "LYON 3 (2)|M",
        "equipe1_nom": "LYON 3 (2)",
        "equipe1_nom_complet": "LYON 3 (2)",
        "equipe1_institution": "LYON 3",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "CPE (1)|M",
        "equipe2_nom": "CPE (1)",
        "equipe2_nom_complet": "CPE (1)",
        "equipe2_institution": "CPE",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBMA2PC",
        "priorite": 0,
        "genre": "M",
        "semaine": 1,
        "horaire": "20:00",
        "gymnase": "BESSON",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": 3,
          "equipe2": 1,
          "has_score": true
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0023",
        "equipe1_id": "LYON 3 (4)|M",
        "equipe1_nom": "LYON 3 (4)",
        "equipe1_nom_complet": "LYON 3 (4)",
        "equipe1_institution": "LYON 3",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "CATHO (2)|M",
        "equipe2_nom": "CATHO (2)",
        "equipe2_nom_complet": "CATHO (2)",
        "equipe2_institution": "CATHO",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBMA3PF",
        "priorite": 0,
        "genre": "M",
        "semaine": 1,
        "horaire": "20:00",
        "gymnase": "LAENNEC",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": 3,
          "equipe2": 2,
          "has_score": true
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0024",
        "equipe1_id": "LYON 2 (IEP) (4)|M",
        "equipe1_nom": "LYON 2 (IEP) (4)",
        "equipe1_nom_complet": "LYON 2 (IEP) (4)",
        "equipe1_institution": "LYON 2 (IEP)",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "ECAM (2)|M",
        "equipe2_nom": "ECAM (2)",
        "equipe2_nom_complet": "ECAM (2)",
        "equipe2_institution": "ECAM",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBMA3PG",
        "priorite": 0,
        "genre": "M",
        "semaine": 1,
        "horaire": "20:00",
        "gymnase": "LYON 2 HC",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": 3,
          "equipe2": 1,
          "has_score": true
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0025",
        "equipe1_id": "LYON 1 (1)|F",
        "equipe1_nom": "LYON 1 (1)",
        "equipe1_nom_complet": "LYON 1 (1)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "INSA (2)|F",
        "equipe2_nom": "INSA (2)",
        "equipe2_nom_complet": "INSA (2)",
        "equipe2_institution": "INSA",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBFA1PA",
        "priorite": 0,
        "genre": "F",
        "semaine": 2,
        "horaire": "14:00",
        "gymnase": "BESSON",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": 3,
          "equipe2": 0,
          "has_score": true
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0026",
        "equipe1_id": "ENTPE (1)|F",
        "equipe1_nom": "ENTPE (1)",
        "equipe1_nom_complet": "ENTPE (1)",
        "equipe1_institution": "ENTPE",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "LYON 1 (11)|F",
        "equipe2_nom": "LYON 1 (11)",
        "equipe2_nom_complet": "LYON 1 (11)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBFA1PA",
        "priorite": 0,
        "genre": "F",
        "semaine": 2,
        "horaire": "14:00",
        "gymnase": "BESSON",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": 1,
          "equipe2": 3,
          "has_score": true
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0027",
        "equipe1_id": "LYON 1 (5)|F",
        "equipe1_nom": "LYON 1 (5)",
        "equipe1_nom_complet": "LYON 1 (5)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "ECL (1)|F",
        "equipe2_nom": "ECL (1)",
        "equipe2_nom_complet": "ECL (1)",
        "equipe2_institution": "ECL",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBFA2PA",
        "priorite": 0,
        "genre": "F",
        "semaine": 2,
        "horaire": "14:00",
        "gymnase": "ECL",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0028",
        "equipe1_id": "LYON 1 (10)|F",
        "equipe1_nom": "LYON 1 (10)",
        "equipe1_nom_complet": "LYON 1 (10)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "ECL (2)|F",
        "equipe2_nom": "ECL (2)",
        "equipe2_nom_complet": "ECL (2)",
        "equipe2_institution": "ECL",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBFA4PA",
        "priorite": 0,
        "genre": "F",
        "semaine": 2,
        "horaire": "14:00",
        "gymnase": "ECL",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0029",
        "equipe1_id": "LYON 1 (13)|F",
        "equipe1_nom": "LYON 1 (13)",
        "equipe1_nom_complet": "LYON 1 (13)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "LYON 1 (7)|F",
        "equipe2_nom": "LYON 1 (7)",
        "equipe2_nom_complet": "LYON 1 (7)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBFA4PA",
        "priorite": 0,
        "genre": "F",
        "semaine": 2,
        "horaire": "14:00",
        "gymnase": "L. J. HAUT",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0030",
        "equipe1_id": "INSA (1)|M",
        "equipe1_nom": "INSA (1)",
        "equipe1_nom_complet": "INSA (1)",
        "equipe1_institution": "INSA",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "LYON 1 (2)|M",
        "equipe2_nom": "LYON 1 (2)",
        "equipe2_nom_complet": "LYON 1 (2)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBMA1PA",
        "priorite": 0,
        "genre": "M",
        "semaine": 2,
        "horaire": "14:00",
        "gymnase": "BESSON",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": 3,
          "equipe2": 0,
          "has_score": true
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0031",
        "equipe1_id": "ENTPE (2)|F",
        "equipe1_nom": "ENTPE (2)",
        "equipe1_nom_complet": "ENTPE (2)",
        "equipe1_institution": "ENTPE",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "LYON 1 (9)|F",
        "equipe2_nom": "LYON 1 (9)",
        "equipe2_nom_complet": "LYON 1 (9)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "VBFA3PA",
        "priorite": 0,
        "genre": "F",
        "semaine": 2,
        "horaire": "16:00",
        "gymnase": "ENTPE",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": 3,
          "equipe2": 1,
          "has_score": true
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0032",
        "equipe1_id": "LYON 1 (1)|M",
        "equipe1_nom": "LYON 1 (1)",
        "equipe1_nom_complet": "LYON 1 (1)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "ENTPE (1)|M",
        "equipe2_nom": "ENTPE (1)",
        "equipe2_nom_complet": "ENTPE (1)",
        "equipe2_institution": "ENTPE",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBMA1PA",
        "priorite": 0,
        "genre": "M",
        "semaine": 2,
        "horaire": "16:00",
        "gymnase": "ENTPE",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": 3,
          "equipe2": 0,
          "has_score": true
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0033",
        "equipe1_id": "INSA (4)|M",
        "equipe1_nom": "INSA (4)",
        "equipe1_nom_complet": "INSA (4)",
        "equipe1_institution": "INSA",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "LYON 1 (8)|M",
        "equipe2_nom": "LYON 1 (8)",
        "equipe2_nom_complet": "LYON 1 (8)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBMA2PA",
        "priorite": 0,
        "genre": "M",
        "semaine": 2,
        "horaire": "16:00",
        "gymnase": "BESSON",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": 3,
          "equipe2": 2,
          "has_score": true
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0034",
        "equipe1_id": "ECL (2)|M",
        "equipe1_nom": "ECL (2)",
        "equipe1_nom_complet": "ECL (2)",
        "equipe1_institution": "ECL",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "ISARA (1)|M",
        "equipe2_nom": "ISARA (1)",
        "equipe2_nom_complet": "ISARA (1)",
        "equipe2_institution": "ISARA",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "16:00"
        ],
        "poule": "VBMA2PB",
        "priorite": 0,
        "genre": "M",
        "semaine": 2,
        "horaire": "16:00",
        "gymnase": "ECL",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0035",
        "equipe1_id": "LYON 1 (13)|M",
        "equipe1_nom": "LYON 1 (13)",
        "equipe1_nom_complet": "LYON 1 (13)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "LYON 1 (24)|M",
        "equipe2_nom": "LYON 1 (24)",
        "equipe2_nom_complet": "LYON 1 (24)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "16:00"
        ],
        "poule": "VBMA3PA",
        "priorite": 0,
        "genre": "M",
        "semaine": 2,
        "horaire": "16:00",
        "gymnase": "BESSON",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": 0,
          "equipe2": 3,
          "has_score": true
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0036",
        "equipe1_id": "ECL (3)|M",
        "equipe1_nom": "ECL (3)",
        "equipe1_nom_complet": "ECL (3)",
        "equipe1_institution": "ECL",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "LYON 1 (10)|M",
        "equipe2_nom": "LYON 1 (10)",
        "equipe2_nom_complet": "LYON 1 (10)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBMA3PB",
        "priorite": 0,
        "genre": "M",
        "semaine": 2,
        "horaire": "16:00",
        "gymnase": "ECL",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0037",
        "equipe1_id": "ISARA (2)|M",
        "equipe1_nom": "ISARA (2)",
        "equipe1_nom_complet": "ISARA (2)",
        "equipe1_institution": "ISARA",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "16:00"
        ],
        "equipe2_id": "LYON 1 (22)|M",
        "equipe2_nom": "LYON 1 (22)",
        "equipe2_nom_complet": "LYON 1 (22)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "VBMA3PC",
        "priorite": 0,
        "genre": "M",
        "semaine": 2,
        "horaire": "16:00",
        "gymnase": "LAENNEC",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": 0,
          "equipe2": 3,
          "has_score": true
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0038",
        "equipe1_id": "LYON 1 (14)|M",
        "equipe1_nom": "LYON 1 (14)",
        "equipe1_nom_complet": "LYON 1 (14)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "LYON 1 (20)|M",
        "equipe2_nom": "LYON 1 (20)",
        "equipe2_nom_complet": "LYON 1 (20)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBMA4PA",
        "priorite": 0,
        "genre": "M",
        "semaine": 2,
        "horaire": "16:00",
        "gymnase": "LAENNEC",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": 3,
          "equipe2": 1,
          "has_score": true
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0039",
        "equipe1_id": "ESSCA (1)|M",
        "equipe1_nom": "ESSCA (1)",
        "equipe1_nom_complet": "ESSCA (1)",
        "equipe1_institution": "ESSCA",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "16:00"
        ],
        "equipe2_id": "ESME (2)|M",
        "equipe2_nom": "ESME (2)",
        "equipe2_nom_complet": "ESME (2)",
        "equipe2_institution": "ESME",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "16:00"
        ],
        "poule": "VBMA4PB",
        "priorite": 0,
        "genre": "M",
        "semaine": 2,
        "horaire": "16:00",
        "gymnase": "BESSON",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": 3,
          "equipe2": 1,
          "has_score": true
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0040",
        "equipe1_id": "ESSCA (1)|F",
        "equipe1_nom": "ESSCA (1)",
        "equipe1_nom_complet": "ESSCA (1)",
        "equipe1_institution": "ESSCA",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "16:00"
        ],
        "equipe2_id": "LYON 2 (8)|F",
        "equipe2_nom": "LYON 2 (8)",
        "equipe2_nom_complet": "LYON 2 (8)",
        "equipe2_institution": "LYON 2",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "VBFA4PB",
        "priorite": 0,
        "genre": "F",
        "semaine": 2,
        "horaire": "18:00",
        "gymnase": "L. J. HAUT",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0041",
        "equipe1_id": "ENS (2)|F",
        "equipe1_nom": "ENS (2)",
        "equipe1_nom_complet": "ENS (2)",
        "equipe1_institution": "ENS",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "LYON 1 (8)|F",
        "equipe2_nom": "LYON 1 (8)",
        "equipe2_nom_complet": "LYON 1 (8)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "VBFA4PB",
        "priorite": 0,
        "genre": "F",
        "semaine": 2,
        "horaire": "18:00",
        "gymnase": "BESSON",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": 1,
          "equipe2": 3,
          "has_score": true
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0042",
        "equipe1_id": "ECL (1)|M",
        "equipe1_nom": "ECL (1)",
        "equipe1_nom_complet": "ECL (1)",
        "equipe1_institution": "ECL",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "LYON 2 (1)|M",
        "equipe2_nom": "LYON 2 (1)",
        "equipe2_nom_complet": "LYON 2 (1)",
        "equipe2_institution": "LYON 2",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "VBMA1PB",
        "priorite": 0,
        "genre": "M",
        "semaine": 2,
        "horaire": "18:00",
        "gymnase": "LYON 2 HC",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": 0,
          "equipe2": 3,
          "has_score": true
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0043",
        "equipe1_id": "LYON 1 (6)|M",
        "equipe1_nom": "LYON 1 (6)",
        "equipe1_nom_complet": "LYON 1 (6)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "ESME (1)|M",
        "equipe2_nom": "ESME (1)",
        "equipe2_nom_complet": "ESME (1)",
        "equipe2_institution": "ESME",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "VBMA2PD",
        "priorite": 0,
        "genre": "M",
        "semaine": 2,
        "horaire": "18:00",
        "gymnase": "BESSON",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": 3,
          "equipe2": 0,
          "has_score": true
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0044",
        "equipe1_id": "LYON 1 (4)|M",
        "equipe1_nom": "LYON 1 (4)",
        "equipe1_nom_complet": "LYON 1 (4)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "LYON 2 (2)|M",
        "equipe2_nom": "LYON 2 (2)",
        "equipe2_nom_complet": "LYON 2 (2)",
        "equipe2_institution": "LYON 2",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "VBMA2PD",
        "priorite": 0,
        "genre": "M",
        "semaine": 2,
        "horaire": "18:00",
        "gymnase": "LAENNEC",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": 2,
          "equipe2": 3,
          "has_score": true
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0045",
        "equipe1_id": "LYON 1 (15)|M",
        "equipe1_nom": "LYON 1 (15)",
        "equipe1_nom_complet": "LYON 1 (15)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "LYON 2 (3)|M",
        "equipe2_nom": "LYON 2 (3)",
        "equipe2_nom_complet": "LYON 2 (3)",
        "equipe2_institution": "LYON 2",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "VBMA3PD",
        "priorite": 0,
        "genre": "M",
        "semaine": 2,
        "horaire": "18:00",
        "gymnase": "LYON 2 HC",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": 1,
          "equipe2": 3,
          "has_score": true
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0046",
        "equipe1_id": "LYON 1 (11)|M",
        "equipe1_nom": "LYON 1 (11)",
        "equipe1_nom_complet": "LYON 1 (11)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "16:00"
        ],
        "equipe2_id": "LYON 2 (5)|M",
        "equipe2_nom": "LYON 2 (5)",
        "equipe2_nom_complet": "LYON 2 (5)",
        "equipe2_institution": "LYON 2",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "VBMA4PB",
        "priorite": 0,
        "genre": "M",
        "semaine": 2,
        "horaire": "18:00",
        "gymnase": "LYON 2 HC",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": 0,
          "equipe2": 3,
          "has_score": true
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0047",
        "equipe1_id": "LYON 1 (23)|M",
        "equipe1_nom": "LYON 1 (23)",
        "equipe1_nom_complet": "LYON 1 (23)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "LYON 1 (19)|M",
        "equipe2_nom": "LYON 1 (19)",
        "equipe2_nom_complet": "LYON 1 (19)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "VBMA4PC",
        "priorite": 0,
        "genre": "M",
        "semaine": 2,
        "horaire": "18:00",
        "gymnase": "LAENNEC",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": 1,
          "equipe2": 3,
          "has_score": true
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0048",
        "equipe1_id": "LYON 1 (3)|F",
        "equipe1_nom": "LYON 1 (3)",
        "equipe1_nom_complet": "LYON 1 (3)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "ENS (1)|F",
        "equipe2_nom": "ENS (1)",
        "equipe2_nom_complet": "ENS (1)",
        "equipe2_institution": "ENS",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "VBFA2PB",
        "priorite": 0,
        "genre": "F",
        "semaine": 2,
        "horaire": "19:00",
        "gymnase": "DESCARTES",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": 2,
          "equipe2": 3,
          "has_score": true
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0049",
        "equipe1_id": "LYON 2 (2)|F",
        "equipe1_nom": "LYON 2 (2)",
        "equipe1_nom_complet": "LYON 2 (2)",
        "equipe1_institution": "LYON 2",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "LYON 2 (1)|F",
        "equipe2_nom": "LYON 2 (1)",
        "equipe2_nom_complet": "LYON 2 (1)",
        "equipe2_institution": "LYON 2",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "VBFA1PB",
        "priorite": 0,
        "genre": "F",
        "semaine": 2,
        "horaire": "20:00",
        "gymnase": "LYON 2 HC",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": 3,
          "equipe2": 2,
          "has_score": true
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0050",
        "equipe1_id": "LYON 3 (3)|F",
        "equipe1_nom": "LYON 3 (3)",
        "equipe1_nom_complet": "LYON 3 (3)",
        "equipe1_institution": "LYON 3",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "LYON 2 (3)|F",
        "equipe2_nom": "LYON 2 (3)",
        "equipe2_nom_complet": "LYON 2 (3)",
        "equipe2_institution": "LYON 2",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBFA2PC",
        "priorite": 0,
        "genre": "F",
        "semaine": 2,
        "horaire": "20:00",
        "gymnase": "LYON 2 HC",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": 2,
          "equipe2": 3,
          "has_score": true
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0051",
        "equipe1_id": "LYON 3 (2)|F",
        "equipe1_nom": "LYON 3 (2)",
        "equipe1_nom_complet": "LYON 3 (2)",
        "equipe1_institution": "LYON 3",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "SANTE (2)|F",
        "equipe2_nom": "SANTE (2)",
        "equipe2_nom_complet": "SANTE (2)",
        "equipe2_institution": "SANTE",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBFA2PC",
        "priorite": 0,
        "genre": "F",
        "semaine": 2,
        "horaire": "20:00",
        "gymnase": "LAENNEC",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": 3,
          "equipe2": 0,
          "has_score": true
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0052",
        "equipe1_id": "SANTE (4)|F",
        "equipe1_nom": "SANTE (4)",
        "equipe1_nom_complet": "SANTE (4)",
        "equipe1_institution": "SANTE",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "LYON 3 (4)|F",
        "equipe2_nom": "LYON 3 (4)",
        "equipe2_nom_complet": "LYON 3 (4)",
        "equipe2_institution": "LYON 3",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBFA3PB",
        "priorite": 0,
        "genre": "F",
        "semaine": 2,
        "horaire": "20:00",
        "gymnase": "LAENNEC",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": 1,
          "equipe2": 3,
          "has_score": true
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0053",
        "equipe1_id": "ESA (1)|F",
        "equipe1_nom": "ESA (1)",
        "equipe1_nom_complet": "ESA (1)",
        "equipe1_institution": "ESA",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "CPE (1)|F",
        "equipe2_nom": "CPE (1)",
        "equipe2_nom_complet": "CPE (1)",
        "equipe2_institution": "CPE",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBFA3PB",
        "priorite": 0,
        "genre": "F",
        "semaine": 2,
        "horaire": "20:00",
        "gymnase": "L. J. HAUT",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": 3,
          "equipe2": 0,
          "has_score": true
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0054",
        "equipe1_id": "LYON 3 (6)|F",
        "equipe1_nom": "LYON 3 (6)",
        "equipe1_nom_complet": "LYON 3 (6)",
        "equipe1_institution": "LYON 3",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "SANTE (5)|F",
        "equipe2_nom": "SANTE (5)",
        "equipe2_nom_complet": "SANTE (5)",
        "equipe2_institution": "SANTE",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBFA4PC",
        "priorite": 0,
        "genre": "F",
        "semaine": 2,
        "horaire": "20:00",
        "gymnase": "BESSON",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": 3,
          "equipe2": 1,
          "has_score": true
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0055",
        "equipe1_id": "SANTE (6)|F",
        "equipe1_nom": "SANTE (6)",
        "equipe1_nom_complet": "SANTE (6)",
        "equipe1_institution": "SANTE",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "LYON 3 (5)|F",
        "equipe2_nom": "LYON 3 (5)",
        "equipe2_nom_complet": "LYON 3 (5)",
        "equipe2_institution": "LYON 3",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBFA4PC",
        "priorite": 0,
        "genre": "F",
        "semaine": 2,
        "horaire": "20:00",
        "gymnase": "BESSON",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": 0,
          "equipe2": 3,
          "has_score": true
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0056",
        "equipe1_id": "SANTE (1)|M",
        "equipe1_nom": "SANTE (1)",
        "equipe1_nom_complet": "SANTE (1)",
        "equipe1_institution": "SANTE",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "ESA (1)|M",
        "equipe2_nom": "ESA (1)",
        "equipe2_nom_complet": "ESA (1)",
        "equipe2_institution": "ESA",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBMA2PC",
        "priorite": 0,
        "genre": "M",
        "semaine": 2,
        "horaire": "20:00",
        "gymnase": "LAENNEC",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": 3,
          "equipe2": 2,
          "has_score": true
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0057",
        "equipe1_id": "LYON 1 (7)|M",
        "equipe1_nom": "LYON 1 (7)",
        "equipe1_nom_complet": "LYON 1 (7)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "LYON 1 (12)|M",
        "equipe2_nom": "LYON 1 (12)",
        "equipe2_nom_complet": "LYON 1 (12)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "VBMA3PE",
        "priorite": 0,
        "genre": "M",
        "semaine": 2,
        "horaire": "20:00",
        "gymnase": "BESSON",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": 3,
          "equipe2": 0,
          "has_score": true
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0058",
        "equipe1_id": "ENS (1)|M",
        "equipe1_nom": "ENS (1)",
        "equipe1_nom_complet": "ENS (1)",
        "equipe1_institution": "ENS",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "LYON 3 (1)|M",
        "equipe2_nom": "LYON 3 (1)",
        "equipe2_nom_complet": "LYON 3 (1)",
        "equipe2_institution": "LYON 3",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBMA1PC",
        "priorite": 0,
        "genre": "M",
        "semaine": 2,
        "horaire": "20:30",
        "gymnase": "DESCARTES",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": 3,
          "equipe2": 0,
          "has_score": true
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0059",
        "equipe1_id": "ECL (1)|F",
        "equipe1_nom": "ECL (1)",
        "equipe1_nom_complet": "ECL (1)",
        "equipe1_institution": "ECL",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "EML (1)|F",
        "equipe2_nom": "EML (1)",
        "equipe2_nom_complet": "EML (1)",
        "equipe2_institution": "EML",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "",
        "priorite": 0,
        "genre": "F",
        "semaine": 4,
        "horaire": "14:00",
        "gymnase": "ECL",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0060",
        "equipe1_id": "ENTPE (2)|M",
        "equipe1_nom": "ENTPE (2)",
        "equipe1_nom_complet": "ENTPE (2)",
        "equipe1_institution": "ENTPE",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "LYON 1 (8)|M",
        "equipe2_nom": "LYON 1 (8)",
        "equipe2_nom_complet": "LYON 1 (8)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBMA2PA",
        "priorite": 0,
        "genre": "M",
        "semaine": 4,
        "horaire": "14:00",
        "gymnase": "BESSON",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0061",
        "equipe1_id": "LYON 1 (10)|M",
        "equipe1_nom": "LYON 1 (10)",
        "equipe1_nom_complet": "LYON 1 (10)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "INSA (6)|M",
        "equipe2_nom": "INSA (6)",
        "equipe2_nom_complet": "INSA (6)",
        "equipe2_institution": "INSA",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBMA3PB",
        "priorite": 0,
        "genre": "M",
        "semaine": 4,
        "horaire": "14:00",
        "gymnase": "BESSON",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0062",
        "equipe1_id": "ENS (1)|M",
        "equipe1_nom": "ENS (1)",
        "equipe1_nom_complet": "ENS (1)",
        "equipe1_institution": "ENS",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "INPG (1)|M",
        "equipe2_nom": "INPG (1)",
        "equipe2_nom_complet": "EXTERNE",
        "equipe2_institution": "EXTERNE",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [],
        "poule": "",
        "priorite": 0,
        "genre": "M",
        "semaine": 4,
        "horaire": "15:00",
        "gymnase": "DESCARTES",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0063",
        "equipe1_id": "ENTPE (1)|F",
        "equipe1_nom": "ENTPE (1)",
        "equipe1_nom_complet": "ENTPE (1)",
        "equipe1_institution": "ENTPE",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "INSA (1)|F",
        "equipe2_nom": "INSA (1)",
        "equipe2_nom_complet": "INSA (1)",
        "equipe2_institution": "INSA",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "",
        "priorite": 0,
        "genre": "F",
        "semaine": 4,
        "horaire": "15:30",
        "gymnase": "ENTPE",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0064",
        "equipe1_id": "INSA (2)|F",
        "equipe1_nom": "INSA (2)",
        "equipe1_nom_complet": "INSA (2)",
        "equipe1_institution": "INSA",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "LYON 1 (11)|F",
        "equipe2_nom": "LYON 1 (11)",
        "equipe2_nom_complet": "LYON 1 (11)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBFA1PA",
        "priorite": 0,
        "genre": "F",
        "semaine": 4,
        "horaire": "16:00",
        "gymnase": "BESSON",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0065",
        "equipe1_id": "INSA (3)|F",
        "equipe1_nom": "INSA (3)",
        "equipe1_nom_complet": "INSA (3)",
        "equipe1_institution": "INSA",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "16:00"
        ],
        "equipe2_id": "LYON 1 (5)|F",
        "equipe2_nom": "LYON 1 (5)",
        "equipe2_nom_complet": "LYON 1 (5)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBFA2PA",
        "priorite": 0,
        "genre": "F",
        "semaine": 4,
        "horaire": "16:00",
        "gymnase": "BESSON",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0066",
        "equipe1_id": "ECL (1)|M",
        "equipe1_nom": "ECL (1)",
        "equipe1_nom_complet": "ECL (1)",
        "equipe1_institution": "ECL",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "EML (1)|M",
        "equipe2_nom": "EML (1)",
        "equipe2_nom_complet": "EML (1)",
        "equipe2_institution": "EML",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "",
        "priorite": 0,
        "genre": "M",
        "semaine": 4,
        "horaire": "16:00",
        "gymnase": "ECL",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0067",
        "equipe1_id": "LYON 1 (3)|M",
        "equipe1_nom": "LYON 1 (3)",
        "equipe1_nom_complet": "LYON 1 (3)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "16:00"
        ],
        "equipe2_id": "ISARA (1)|M",
        "equipe2_nom": "ISARA (1)",
        "equipe2_nom_complet": "ISARA (1)",
        "equipe2_institution": "ISARA",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "16:00"
        ],
        "poule": "VBMA2PB",
        "priorite": 0,
        "genre": "M",
        "semaine": 4,
        "horaire": "16:00",
        "gymnase": "BESSON",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0068",
        "equipe1_id": "LYON 1 (22)|M",
        "equipe1_nom": "LYON 1 (22)",
        "equipe1_nom_complet": "LYON 1 (22)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "CPE (2)|M",
        "equipe2_nom": "CPE (2)",
        "equipe2_nom_complet": "CPE (2)",
        "equipe2_institution": "CPE",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "16:00"
        ],
        "poule": "VBMA3PC",
        "priorite": 0,
        "genre": "M",
        "semaine": 4,
        "horaire": "16:00",
        "gymnase": "LAENNEC",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0069",
        "equipe1_id": "LYON 1 (9)|F",
        "equipe1_nom": "LYON 1 (9)",
        "equipe1_nom_complet": "LYON 1 (9)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "LYON 2 (5)|F",
        "equipe2_nom": "LYON 2 (5)",
        "equipe2_nom_complet": "LYON 2 (5)",
        "equipe2_institution": "LYON 2",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "VBFA3PA",
        "priorite": 0,
        "genre": "F",
        "semaine": 4,
        "horaire": "18:00",
        "gymnase": "BESSON",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0070",
        "equipe1_id": "LYON 2 (1)|M",
        "equipe1_nom": "LYON 2 (1)",
        "equipe1_nom_complet": "LYON 2 (1)",
        "equipe1_institution": "LYON 2",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "INSA (2)|M",
        "equipe2_nom": "INSA (2)",
        "equipe2_nom_complet": "INSA (2)",
        "equipe2_institution": "INSA",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBMA1PB",
        "priorite": 0,
        "genre": "M",
        "semaine": 4,
        "horaire": "18:00",
        "gymnase": "BESSON",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0071",
        "equipe1_id": "LYON 1 (5)|M",
        "equipe1_nom": "LYON 1 (5)",
        "equipe1_nom_complet": "LYON 1 (5)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "INSA (4)|M",
        "equipe2_nom": "INSA (4)",
        "equipe2_nom_complet": "INSA (4)",
        "equipe2_institution": "INSA",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBMA2PA",
        "priorite": 0,
        "genre": "M",
        "semaine": 4,
        "horaire": "18:00",
        "gymnase": "BESSON",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0072",
        "equipe1_id": "EML (2)|M",
        "equipe1_nom": "EML (2)",
        "equipe1_nom_complet": "EML (2)",
        "equipe1_institution": "EML",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "LYON 2 (2)|M",
        "equipe2_nom": "LYON 2 (2)",
        "equipe2_nom_complet": "LYON 2 (2)",
        "equipe2_institution": "LYON 2",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "VBMA2PD",
        "priorite": 0,
        "genre": "M",
        "semaine": 4,
        "horaire": "18:00",
        "gymnase": "LAENNEC",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0073",
        "equipe1_id": "LYON 1 (15)|M",
        "equipe1_nom": "LYON 1 (15)",
        "equipe1_nom_complet": "LYON 1 (15)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "CATHO (1)|M",
        "equipe2_nom": "CATHO (1)",
        "equipe2_nom_complet": "CATHO (1)",
        "equipe2_institution": "CATHO",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "VBMA3PD",
        "priorite": 0,
        "genre": "M",
        "semaine": 4,
        "horaire": "18:00",
        "gymnase": "L. J. HAUT",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0074",
        "equipe1_id": "LYON 2 (5)|M",
        "equipe1_nom": "LYON 2 (5)",
        "equipe1_nom_complet": "LYON 2 (5)",
        "equipe1_institution": "LYON 2",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "ESME (2)|M",
        "equipe2_nom": "ESME (2)",
        "equipe2_nom_complet": "ESME (2)",
        "equipe2_institution": "ESME",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "16:00"
        ],
        "poule": "VBMA4PB",
        "priorite": 0,
        "genre": "M",
        "semaine": 4,
        "horaire": "18:00",
        "gymnase": "LAENNEC",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0075",
        "equipe1_id": "CESI (1)|M",
        "equipe1_nom": "CESI (1)",
        "equipe1_nom_complet": "CESI (1)",
        "equipe1_institution": "CESI",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "LYON 1 (23)|M",
        "equipe2_nom": "LYON 1 (23)",
        "equipe2_nom_complet": "LYON 1 (23)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "VBMA4PC",
        "priorite": 0,
        "genre": "M",
        "semaine": 4,
        "horaire": "18:00",
        "gymnase": "LAENNEC",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0076",
        "equipe1_id": "ENS (3)|M",
        "equipe1_nom": "ENS (3)",
        "equipe1_nom_complet": "ENS (3)",
        "equipe1_institution": "ENS",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "LYON 1 (7)|M",
        "equipe2_nom": "LYON 1 (7)",
        "equipe2_nom_complet": "LYON 1 (7)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "VBMA3PE",
        "priorite": 0,
        "genre": "M",
        "semaine": 4,
        "horaire": "18:45",
        "gymnase": "DESCARTES",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0077",
        "equipe1_id": "LYON 3 (2)|F",
        "equipe1_nom": "LYON 3 (2)",
        "equipe1_nom_complet": "LYON 3 (2)",
        "equipe1_institution": "LYON 3",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "VETO (1)|F",
        "equipe2_nom": "VETO (1)",
        "equipe2_nom_complet": "VETO (1)",
        "equipe2_institution": "VETO",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBFA2PC",
        "priorite": 0,
        "genre": "F",
        "semaine": 4,
        "horaire": "20:00",
        "gymnase": "BESSON",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0078",
        "equipe1_id": "LYON 2 (6)|F",
        "equipe1_nom": "LYON 2 (6)",
        "equipe1_nom_complet": "LYON 2 (6)",
        "equipe1_institution": "LYON 2",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "ECAM (1)|F",
        "equipe2_nom": "ECAM (1)",
        "equipe2_nom_complet": "ECAM (1)",
        "equipe2_institution": "ECAM",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "16:00"
        ],
        "poule": "VBFA3PA",
        "priorite": 0,
        "genre": "F",
        "semaine": 4,
        "horaire": "20:00",
        "gymnase": "BESSON",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0079",
        "equipe1_id": "ESA (1)|F",
        "equipe1_nom": "ESA (1)",
        "equipe1_nom_complet": "ESA (1)",
        "equipe1_institution": "ESA",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "LYON 1 (6)|F",
        "equipe2_nom": "LYON 1 (6)",
        "equipe2_nom_complet": "LYON 1 (6)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBFA3PB",
        "priorite": 0,
        "genre": "F",
        "semaine": 4,
        "horaire": "20:00",
        "gymnase": "L. J. HAUT",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0080",
        "equipe1_id": "LYON 3 (4)|F",
        "equipe1_nom": "LYON 3 (4)",
        "equipe1_nom_complet": "LYON 3 (4)",
        "equipe1_institution": "LYON 3",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "CPE (1)|F",
        "equipe2_nom": "CPE (1)",
        "equipe2_nom_complet": "CPE (1)",
        "equipe2_institution": "CPE",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBFA3PB",
        "priorite": 0,
        "genre": "F",
        "semaine": 4,
        "horaire": "20:00",
        "gymnase": "BESSON",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0081",
        "equipe1_id": "LYON 3 (6)|F",
        "equipe1_nom": "LYON 3 (6)",
        "equipe1_nom_complet": "LYON 3 (6)",
        "equipe1_institution": "LYON 3",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "LYON 3 (5)|F",
        "equipe2_nom": "LYON 3 (5)",
        "equipe2_nom_complet": "LYON 3 (5)",
        "equipe2_institution": "LYON 3",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBFA4PC",
        "priorite": 0,
        "genre": "F",
        "semaine": 4,
        "horaire": "20:00",
        "gymnase": "LAENNEC",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0082",
        "equipe1_id": "LYON 3 (2)|M",
        "equipe1_nom": "LYON 3 (2)",
        "equipe1_nom_complet": "LYON 3 (2)",
        "equipe1_institution": "LYON 3",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "ESA (1)|M",
        "equipe2_nom": "ESA (1)",
        "equipe2_nom_complet": "ESA (1)",
        "equipe2_institution": "ESA",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBMA2PC",
        "priorite": 0,
        "genre": "M",
        "semaine": 4,
        "horaire": "20:00",
        "gymnase": "LAENNEC",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0083",
        "equipe1_id": "LYON 2 (IEP) (4)|M",
        "equipe1_nom": "LYON 2 (IEP) (4)",
        "equipe1_nom_complet": "LYON 2 (IEP) (4)",
        "equipe1_institution": "LYON 2 (IEP)",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "SANTE (3)|M",
        "equipe2_nom": "SANTE (3)",
        "equipe2_nom_complet": "SANTE (3)",
        "equipe2_institution": "SANTE",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBMA3PG",
        "priorite": 0,
        "genre": "M",
        "semaine": 4,
        "horaire": "20:00",
        "gymnase": "LAENNEC",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0084",
        "equipe1_id": "ENS (2)|M",
        "equipe1_nom": "ENS (2)",
        "equipe1_nom_complet": "ENS (2)",
        "equipe1_institution": "ENS",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "SANTE (2)|M",
        "equipe2_nom": "SANTE (2)",
        "equipe2_nom_complet": "SANTE (2)",
        "equipe2_institution": "SANTE",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBMA2PE",
        "priorite": 0,
        "genre": "M",
        "semaine": 4,
        "horaire": "20:30",
        "gymnase": "DESCARTES",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0085",
        "equipe1_id": "LYON 1 (26)|M",
        "equipe1_nom": "LYON 1 (26)",
        "equipe1_nom_complet": "LYON 1 (26)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "ECL (1)|M",
        "equipe2_nom": "ECL (1)",
        "equipe2_nom_complet": "ECL (1)",
        "equipe2_institution": "ECL",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBMA1PB",
        "priorite": 0,
        "genre": "M",
        "semaine": 5,
        "horaire": "14:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0086",
        "equipe1_id": "LYON 1 (13)|M",
        "equipe1_nom": "LYON 1 (13)",
        "equipe1_nom_complet": "LYON 1 (13)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "INSA (5)|M",
        "equipe2_nom": "INSA (5)",
        "equipe2_nom_complet": "INSA (5)",
        "equipe2_institution": "INSA",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBMA3PA",
        "priorite": 0,
        "genre": "M",
        "semaine": 5,
        "horaire": "14:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0087",
        "equipe1_id": "LYON 1 (9)|M",
        "equipe1_nom": "LYON 1 (9)",
        "equipe1_nom_complet": "LYON 1 (9)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "ECL (3)|M",
        "equipe2_nom": "ECL (3)",
        "equipe2_nom_complet": "ECL (3)",
        "equipe2_institution": "ECL",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBMA3PB",
        "priorite": 0,
        "genre": "M",
        "semaine": 5,
        "horaire": "14:00",
        "gymnase": "ECL",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0088",
        "equipe1_id": "ECL (2)|F",
        "equipe1_nom": "ECL (2)",
        "equipe1_nom_complet": "ECL (2)",
        "equipe1_institution": "ECL",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "LYON 1 (7)|F",
        "equipe2_nom": "LYON 1 (7)",
        "equipe2_nom_complet": "LYON 1 (7)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBFA4PA",
        "priorite": 0,
        "genre": "F",
        "semaine": 5,
        "horaire": "14:00",
        "gymnase": "ECL",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0089",
        "equipe1_id": "INSA (1)|M",
        "equipe1_nom": "INSA (1)",
        "equipe1_nom_complet": "INSA (1)",
        "equipe1_institution": "INSA",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "EML (1)|M",
        "equipe2_nom": "EML (1)",
        "equipe2_nom_complet": "EML (1)",
        "equipe2_institution": "EML",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "",
        "priorite": 0,
        "genre": "M",
        "semaine": 5,
        "horaire": "14:00",
        "gymnase": "BESSON",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0090",
        "equipe1_id": "INPG (1)|F",
        "equipe1_nom": "INPG (1)",
        "equipe1_nom_complet": "EXTERNE",
        "equipe1_institution": "EXTERNE",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [],
        "equipe2_id": "ENTPE (1)|F",
        "equipe2_nom": "ENTPE (1)",
        "equipe2_nom_complet": "ENTPE (1)",
        "equipe2_institution": "ENTPE",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "",
        "priorite": 0,
        "genre": "F",
        "semaine": 5,
        "horaire": "14:30",
        "gymnase": "GRENOBLE",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0091",
        "equipe1_id": "LYON 1 (3)|M",
        "equipe1_nom": "LYON 1 (3)",
        "equipe1_nom_complet": "LYON 1 (3)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "16:00"
        ],
        "equipe2_id": "ECL (2)|M",
        "equipe2_nom": "ECL (2)",
        "equipe2_nom_complet": "ECL (2)",
        "equipe2_institution": "ECL",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBMA2PB",
        "priorite": 0,
        "genre": "M",
        "semaine": 5,
        "horaire": "16:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0092",
        "equipe1_id": "ISARA (1)|M",
        "equipe1_nom": "ISARA (1)",
        "equipe1_nom_complet": "ISARA (1)",
        "equipe1_institution": "ISARA",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "16:00"
        ],
        "equipe2_id": "INSA (3)|M",
        "equipe2_nom": "INSA (3)",
        "equipe2_nom_complet": "INSA (3)",
        "equipe2_institution": "INSA",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBMA2PB",
        "priorite": 0,
        "genre": "M",
        "semaine": 5,
        "horaire": "16:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0093",
        "equipe1_id": "INSA (1)|F",
        "equipe1_nom": "INSA (1)",
        "equipe1_nom_complet": "INSA (1)",
        "equipe1_institution": "INSA",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "EML (1)|F",
        "equipe2_nom": "EML (1)",
        "equipe2_nom_complet": "EML (1)",
        "equipe2_institution": "EML",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "",
        "priorite": 0,
        "genre": "F",
        "semaine": 5,
        "horaire": "16:00",
        "gymnase": "BESSON",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0094",
        "equipe1_id": "INPG (1)|M",
        "equipe1_nom": "INPG (1)",
        "equipe1_nom_complet": "EXTERNE",
        "equipe1_institution": "EXTERNE",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [],
        "equipe2_id": "ENTPE (1)|M",
        "equipe2_nom": "ENTPE (1)",
        "equipe2_nom_complet": "ENTPE (1)",
        "equipe2_institution": "ENTPE",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "",
        "priorite": 0,
        "genre": "M",
        "semaine": 5,
        "horaire": "16:00",
        "gymnase": "GRENOBLE",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0095",
        "equipe1_id": "ESME (1)|M",
        "equipe1_nom": "ESME (1)",
        "equipe1_nom_complet": "ESME (1)",
        "equipe1_institution": "ESME",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "LYON 2 (2)|M",
        "equipe2_nom": "LYON 2 (2)",
        "equipe2_nom_complet": "LYON 2 (2)",
        "equipe2_institution": "LYON 2",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "VBMA2PD",
        "priorite": 0,
        "genre": "M",
        "semaine": 5,
        "horaire": "18:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0096",
        "equipe1_id": "LYON 2 (6)|F",
        "equipe1_nom": "LYON 2 (6)",
        "equipe1_nom_complet": "LYON 2 (6)",
        "equipe1_institution": "LYON 2",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "ENTPE (2)|F",
        "equipe2_nom": "ENTPE (2)",
        "equipe2_nom_complet": "ENTPE (2)",
        "equipe2_institution": "ENTPE",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBFA3PA",
        "priorite": 0,
        "genre": "F",
        "semaine": 5,
        "horaire": "18:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0097",
        "equipe1_id": "LYON 2 (5)|F",
        "equipe1_nom": "LYON 2 (5)",
        "equipe1_nom_complet": "LYON 2 (5)",
        "equipe1_institution": "LYON 2",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "ECAM (1)|F",
        "equipe2_nom": "ECAM (1)",
        "equipe2_nom_complet": "ECAM (1)",
        "equipe2_institution": "ECAM",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "16:00"
        ],
        "poule": "VBFA3PA",
        "priorite": 0,
        "genre": "F",
        "semaine": 5,
        "horaire": "18:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0098",
        "equipe1_id": "ESSCA (1)|F",
        "equipe1_nom": "ESSCA (1)",
        "equipe1_nom_complet": "ESSCA (1)",
        "equipe1_institution": "ESSCA",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "16:00"
        ],
        "equipe2_id": "ENS (2)|F",
        "equipe2_nom": "ENS (2)",
        "equipe2_nom_complet": "ENS (2)",
        "equipe2_institution": "ENS",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "VBFA4PB",
        "priorite": 0,
        "genre": "F",
        "semaine": 5,
        "horaire": "18:00",
        "gymnase": "DESCARTES",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0099",
        "equipe1_id": "ESME (2)|F",
        "equipe1_nom": "ESME (2)",
        "equipe1_nom_complet": "ESME (2)",
        "equipe1_institution": "ESME",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "16:00"
        ],
        "equipe2_id": "LYON 2 (8)|F",
        "equipe2_nom": "LYON 2 (8)",
        "equipe2_nom_complet": "LYON 2 (8)",
        "equipe2_institution": "LYON 2",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "VBFA4PB",
        "priorite": 0,
        "genre": "F",
        "semaine": 5,
        "horaire": "18:00",
        "gymnase": "LAENNEC",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0100",
        "equipe1_id": "LYON 2 (5)|M",
        "equipe1_nom": "LYON 2 (5)",
        "equipe1_nom_complet": "LYON 2 (5)",
        "equipe1_institution": "LYON 2",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "ESSCA (1)|M",
        "equipe2_nom": "ESSCA (1)",
        "equipe2_nom_complet": "ESSCA (1)",
        "equipe2_institution": "ESSCA",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "16:00"
        ],
        "poule": "VBMA4PB",
        "priorite": 0,
        "genre": "M",
        "semaine": 5,
        "horaire": "18:00",
        "gymnase": "LAENNEC",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0101",
        "equipe1_id": "ENS (1)|M",
        "equipe1_nom": "ENS (1)",
        "equipe1_nom_complet": "ENS (1)",
        "equipe1_institution": "ENS",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "ECAM (1)|M",
        "equipe2_nom": "ECAM (1)",
        "equipe2_nom_complet": "ECAM (1)",
        "equipe2_institution": "ECAM",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBMA1PC",
        "priorite": 0,
        "genre": "M",
        "semaine": 5,
        "horaire": "20:00",
        "gymnase": "DESCARTES",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0102",
        "equipe1_id": "LYON 3 (3)|F",
        "equipe1_nom": "LYON 3 (3)",
        "equipe1_nom_complet": "LYON 3 (3)",
        "equipe1_institution": "LYON 3",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "LYON 3 (2)|F",
        "equipe2_nom": "LYON 3 (2)",
        "equipe2_nom_complet": "LYON 3 (2)",
        "equipe2_institution": "LYON 3",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBFA2PC",
        "priorite": 0,
        "genre": "F",
        "semaine": 5,
        "horaire": "20:00",
        "gymnase": "LAENNEC",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0103",
        "equipe1_id": "SANTE (2)|F",
        "equipe1_nom": "SANTE (2)",
        "equipe1_nom_complet": "SANTE (2)",
        "equipe1_institution": "SANTE",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "VETO (1)|F",
        "equipe2_nom": "VETO (1)",
        "equipe2_nom_complet": "VETO (1)",
        "equipe2_institution": "VETO",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBFA2PC",
        "priorite": 0,
        "genre": "F",
        "semaine": 5,
        "horaire": "20:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0104",
        "equipe1_id": "SANTE (1)|M",
        "equipe1_nom": "SANTE (1)",
        "equipe1_nom_complet": "SANTE (1)",
        "equipe1_institution": "SANTE",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "CPE (1)|M",
        "equipe2_nom": "CPE (1)",
        "equipe2_nom_complet": "CPE (1)",
        "equipe2_institution": "CPE",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBMA2PC",
        "priorite": 0,
        "genre": "M",
        "semaine": 5,
        "horaire": "20:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0105",
        "equipe1_id": "SANTE (4)|F",
        "equipe1_nom": "SANTE (4)",
        "equipe1_nom_complet": "SANTE (4)",
        "equipe1_institution": "SANTE",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "ESA (1)|F",
        "equipe2_nom": "ESA (1)",
        "equipe2_nom_complet": "ESA (1)",
        "equipe2_institution": "ESA",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBFA3PB",
        "priorite": 0,
        "genre": "F",
        "semaine": 5,
        "horaire": "20:00",
        "gymnase": "ESA",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0106",
        "equipe1_id": "EML (2)|F",
        "equipe1_nom": "EML (2)",
        "equipe1_nom_complet": "EML (2)",
        "equipe1_institution": "EML",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "LYON 2 IEP (4)|F",
        "equipe2_nom": "LYON 2 IEP (4)",
        "equipe2_nom_complet": "LYON 2 IEP (4)",
        "equipe2_institution": "LYON 2 IEP",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBFA3PC",
        "priorite": 0,
        "genre": "F",
        "semaine": 5,
        "horaire": "20:00",
        "gymnase": "L. J. HAUT",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0107",
        "equipe1_id": "VETO (1)|M",
        "equipe1_nom": "VETO (1)",
        "equipe1_nom_complet": "VETO (1)",
        "equipe1_institution": "VETO",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "SANTE (3)|M",
        "equipe2_nom": "SANTE (3)",
        "equipe2_nom_complet": "SANTE (3)",
        "equipe2_institution": "SANTE",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBMA3PG",
        "priorite": 0,
        "genre": "M",
        "semaine": 5,
        "horaire": "20:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0108",
        "equipe1_id": "ESA (2)|F",
        "equipe1_nom": "ESA (2)",
        "equipe1_nom_complet": "ESA (2)",
        "equipe1_institution": "ESA",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "LYON 3 (5)|F",
        "equipe2_nom": "LYON 3 (5)",
        "equipe2_nom_complet": "LYON 3 (5)",
        "equipe2_institution": "LYON 3",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBFA4PC",
        "priorite": 0,
        "genre": "F",
        "semaine": 5,
        "horaire": "20:00",
        "gymnase": "LAENNEC",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0109",
        "equipe1_id": "CESI (2)|M",
        "equipe1_nom": "CESI (2)",
        "equipe1_nom_complet": "CESI (2)",
        "equipe1_institution": "CESI",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "LYON 3 (6)|M",
        "equipe2_nom": "LYON 3 (6)",
        "equipe2_nom_complet": "LYON 3 (6)",
        "equipe2_institution": "LYON 3",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBMA4PD",
        "priorite": 0,
        "genre": "M",
        "semaine": 5,
        "horaire": "20:00",
        "gymnase": "LAENNEC",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0110",
        "equipe1_id": "LYON 1 (1)|F",
        "equipe1_nom": "LYON 1 (1)",
        "equipe1_nom_complet": "LYON 1 (1)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "INSA (1)|F",
        "equipe2_nom": "INSA (1)",
        "equipe2_nom_complet": "INSA (1)",
        "equipe2_institution": "INSA",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBFA1PA",
        "priorite": 0,
        "genre": "F",
        "semaine": 6,
        "horaire": "14:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0111",
        "equipe1_id": "LYON 1 (10)|F",
        "equipe1_nom": "LYON 1 (10)",
        "equipe1_nom_complet": "LYON 1 (10)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "LYON 1 (12)|F",
        "equipe2_nom": "LYON 1 (12)",
        "equipe2_nom_complet": "LYON 1 (12)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBFA4PA",
        "priorite": 0,
        "genre": "F",
        "semaine": 6,
        "horaire": "14:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": true,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0112",
        "equipe1_id": "LYON 1 (18)|M",
        "equipe1_nom": "LYON 1 (18)",
        "equipe1_nom_complet": "LYON 1 (18)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "LYON 1 (20)|M",
        "equipe2_nom": "LYON 1 (20)",
        "equipe2_nom_complet": "LYON 1 (20)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBMA4PA",
        "priorite": 0,
        "genre": "M",
        "semaine": 6,
        "horaire": "14:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": true,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0113",
        "equipe1_id": "ECL (1)|F",
        "equipe1_nom": "ECL (1)",
        "equipe1_nom_complet": "ECL (1)",
        "equipe1_institution": "ECL",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "ENTPE (1)|F",
        "equipe2_nom": "ENTPE (1)",
        "equipe2_nom_complet": "ENTPE (1)",
        "equipe2_institution": "ENTPE",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "",
        "priorite": 0,
        "genre": "F",
        "semaine": 6,
        "horaire": "14:00",
        "gymnase": "ECL",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0114",
        "equipe1_id": "INSA (5)|M",
        "equipe1_nom": "INSA (5)",
        "equipe1_nom_complet": "INSA (5)",
        "equipe1_institution": "INSA",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "LYON 1 (24)|M",
        "equipe2_nom": "LYON 1 (24)",
        "equipe2_nom_complet": "LYON 1 (24)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "16:00"
        ],
        "poule": "VBMA3PA",
        "priorite": 0,
        "genre": "M",
        "semaine": 6,
        "horaire": "16:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0115",
        "equipe1_id": "CPE (2)|M",
        "equipe1_nom": "CPE (2)",
        "equipe1_nom_complet": "CPE (2)",
        "equipe1_institution": "CPE",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "16:00"
        ],
        "equipe2_id": "ISARA (2)|M",
        "equipe2_nom": "ISARA (2)",
        "equipe2_nom_complet": "ISARA (2)",
        "equipe2_institution": "ISARA",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "16:00"
        ],
        "poule": "VBMA3PC",
        "priorite": 0,
        "genre": "M",
        "semaine": 6,
        "horaire": "16:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0116",
        "equipe1_id": "LYON 1 (11)|M",
        "equipe1_nom": "LYON 1 (11)",
        "equipe1_nom_complet": "LYON 1 (11)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "16:00"
        ],
        "equipe2_id": "ESSCA (1)|M",
        "equipe2_nom": "ESSCA (1)",
        "equipe2_nom_complet": "ESSCA (1)",
        "equipe2_institution": "ESSCA",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "16:00"
        ],
        "poule": "VBMA4PB",
        "priorite": 0,
        "genre": "M",
        "semaine": 6,
        "horaire": "16:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0117",
        "equipe1_id": "INSA (1)|M",
        "equipe1_nom": "INSA (1)",
        "equipe1_nom_complet": "INSA (1)",
        "equipe1_institution": "INSA",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "ECL (1)|M",
        "equipe2_nom": "ECL (1)",
        "equipe2_nom_complet": "ECL (1)",
        "equipe2_institution": "ECL",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "",
        "priorite": 0,
        "genre": "M",
        "semaine": 6,
        "horaire": "16:00",
        "gymnase": "ECL",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0118",
        "equipe1_id": "ENS (1)|M",
        "equipe1_nom": "ENS (1)",
        "equipe1_nom_complet": "ENS (1)",
        "equipe1_institution": "ENS",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "ENTPE (1)|M",
        "equipe2_nom": "ENTPE (1)",
        "equipe2_nom_complet": "ENTPE (1)",
        "equipe2_institution": "ENTPE",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "",
        "priorite": 0,
        "genre": "M",
        "semaine": 6,
        "horaire": "17:00",
        "gymnase": "DESCARTES",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0119",
        "equipe1_id": "EML (1)|F",
        "equipe1_nom": "EML (1)",
        "equipe1_nom_complet": "EML (1)",
        "equipe1_institution": "EML",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "LYON 2 (1)|F",
        "equipe2_nom": "LYON 2 (1)",
        "equipe2_nom_complet": "LYON 2 (1)",
        "equipe2_institution": "LYON 2",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "VBFA1PB",
        "priorite": 0,
        "genre": "F",
        "semaine": 6,
        "horaire": "18:00",
        "gymnase": "LAENNEC",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0120",
        "equipe1_id": "LYON 1 (5)|M",
        "equipe1_nom": "LYON 1 (5)",
        "equipe1_nom_complet": "LYON 1 (5)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "ENTPE (2)|M",
        "equipe2_nom": "ENTPE (2)",
        "equipe2_nom_complet": "ENTPE (2)",
        "equipe2_institution": "ENTPE",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBMA2PA",
        "priorite": 0,
        "genre": "M",
        "semaine": 6,
        "horaire": "18:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0121",
        "equipe1_id": "EML (2)|M",
        "equipe1_nom": "EML (2)",
        "equipe1_nom_complet": "EML (2)",
        "equipe1_institution": "EML",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "LYON 1 (4)|M",
        "equipe2_nom": "LYON 1 (4)",
        "equipe2_nom_complet": "LYON 1 (4)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "VBMA2PD",
        "priorite": 0,
        "genre": "M",
        "semaine": 6,
        "horaire": "18:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0122",
        "equipe1_id": "LYON 2 (5)|F",
        "equipe1_nom": "LYON 2 (5)",
        "equipe1_nom_complet": "LYON 2 (5)",
        "equipe1_institution": "LYON 2",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "ENTPE (2)|F",
        "equipe2_nom": "ENTPE (2)",
        "equipe2_nom_complet": "ENTPE (2)",
        "equipe2_institution": "ENTPE",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBFA3PA",
        "priorite": 0,
        "genre": "F",
        "semaine": 6,
        "horaire": "18:00",
        "gymnase": "LAENNEC",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0123",
        "equipe1_id": "LYON 2 (6)|F",
        "equipe1_nom": "LYON 2 (6)",
        "equipe1_nom_complet": "LYON 2 (6)",
        "equipe1_institution": "LYON 2",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "LYON 1 (9)|F",
        "equipe2_nom": "LYON 1 (9)",
        "equipe2_nom_complet": "LYON 1 (9)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "VBFA3PA",
        "priorite": 0,
        "genre": "F",
        "semaine": 6,
        "horaire": "18:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0124",
        "equipe1_id": "LYON 2 (8)|F",
        "equipe1_nom": "LYON 2 (8)",
        "equipe1_nom_complet": "LYON 2 (8)",
        "equipe1_institution": "LYON 2",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "LYON 1 (8)|F",
        "equipe2_nom": "LYON 1 (8)",
        "equipe2_nom_complet": "LYON 1 (8)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "VBFA4PB",
        "priorite": 0,
        "genre": "F",
        "semaine": 6,
        "horaire": "18:00",
        "gymnase": "LAENNEC",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0125",
        "equipe1_id": "LYON 2 (6)|M",
        "equipe1_nom": "LYON 2 (6)",
        "equipe1_nom_complet": "LYON 2 (6)",
        "equipe1_institution": "LYON 2",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "LYON 1 (25)|M",
        "equipe2_nom": "LYON 1 (25)",
        "equipe2_nom_complet": "LYON 1 (25)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "VBMA4PC",
        "priorite": 0,
        "genre": "M",
        "semaine": 6,
        "horaire": "18:00",
        "gymnase": "L. J. HAUT",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0126",
        "equipe1_id": "ENS (1)|F",
        "equipe1_nom": "ENS (1)",
        "equipe1_nom_complet": "ENS (1)",
        "equipe1_institution": "ENS",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "SANTE (1)|F",
        "equipe2_nom": "SANTE (1)",
        "equipe2_nom_complet": "SANTE (1)",
        "equipe2_institution": "SANTE",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBFA2PB",
        "priorite": 0,
        "genre": "F",
        "semaine": 6,
        "horaire": "20:00",
        "gymnase": "DESCARTES",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0127",
        "equipe1_id": "LYON 1 (21)|M",
        "equipe1_nom": "LYON 1 (21)",
        "equipe1_nom_complet": "LYON 1 (21)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "LYON 3 (3)|M",
        "equipe2_nom": "LYON 3 (3)",
        "equipe2_nom_complet": "LYON 3 (3)",
        "equipe2_institution": "LYON 3",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBMA2PE",
        "priorite": 0,
        "genre": "M",
        "semaine": 6,
        "horaire": "20:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0128",
        "equipe1_id": "CPE (1)|F",
        "equipe1_nom": "CPE (1)",
        "equipe1_nom_complet": "CPE (1)",
        "equipe1_institution": "CPE",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "LYON 1 (6)|F",
        "equipe2_nom": "LYON 1 (6)",
        "equipe2_nom_complet": "LYON 1 (6)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBFA3PB",
        "priorite": 0,
        "genre": "F",
        "semaine": 6,
        "horaire": "20:00",
        "gymnase": "L. J. HAUT",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0129",
        "equipe1_id": "SANTE (3)|F",
        "equipe1_nom": "SANTE (3)",
        "equipe1_nom_complet": "SANTE (3)",
        "equipe1_institution": "SANTE",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "CATHO (1)|F",
        "equipe2_nom": "CATHO (1)",
        "equipe2_nom_complet": "CATHO (1)",
        "equipe2_institution": "CATHO",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBFA3PC",
        "priorite": 0,
        "genre": "F",
        "semaine": 6,
        "horaire": "20:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0130",
        "equipe1_id": "LYON 1 (16)|M",
        "equipe1_nom": "LYON 1 (16)",
        "equipe1_nom_complet": "LYON 1 (16)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "LYON 3 (4)|M",
        "equipe2_nom": "LYON 3 (4)",
        "equipe2_nom_complet": "LYON 3 (4)",
        "equipe2_institution": "LYON 3",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBMA3PF",
        "priorite": 0,
        "genre": "M",
        "semaine": 6,
        "horaire": "20:00",
        "gymnase": "LAENNEC",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0131",
        "equipe1_id": "CATHO (2)|M",
        "equipe1_nom": "CATHO (2)",
        "equipe1_nom_complet": "CATHO (2)",
        "equipe1_institution": "CATHO",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "SANTE (4)|M",
        "equipe2_nom": "SANTE (4)",
        "equipe2_nom_complet": "SANTE (4)",
        "equipe2_institution": "SANTE",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBMA3PF",
        "priorite": 0,
        "genre": "M",
        "semaine": 6,
        "horaire": "20:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0132",
        "equipe1_id": "LYON 3 (6)|F",
        "equipe1_nom": "LYON 3 (6)",
        "equipe1_nom_complet": "LYON 3 (6)",
        "equipe1_institution": "LYON 3",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "SANTE (6)|F",
        "equipe2_nom": "SANTE (6)",
        "equipe2_nom_complet": "SANTE (6)",
        "equipe2_institution": "SANTE",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBFA4PC",
        "priorite": 0,
        "genre": "F",
        "semaine": 6,
        "horaire": "20:00",
        "gymnase": "LAENNEC",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0133",
        "equipe1_id": "LYON 3 (5)|M",
        "equipe1_nom": "LYON 3 (5)",
        "equipe1_nom_complet": "LYON 3 (5)",
        "equipe1_institution": "LYON 3",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "LYON 1 (17)|M",
        "equipe2_nom": "LYON 1 (17)",
        "equipe2_nom_complet": "LYON 1 (17)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBMA4PD",
        "priorite": 0,
        "genre": "M",
        "semaine": 6,
        "horaire": "20:00",
        "gymnase": "LAENNEC",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0134",
        "equipe1_id": "ENTPE (1)|M",
        "equipe1_nom": "ENTPE (1)",
        "equipe1_nom_complet": "ENTPE (1)",
        "equipe1_institution": "ENTPE",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "LYON 1 (2)|M",
        "equipe2_nom": "LYON 1 (2)",
        "equipe2_nom_complet": "LYON 1 (2)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBMA1PA",
        "priorite": 0,
        "genre": "M",
        "semaine": 7,
        "horaire": "14:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0135",
        "equipe1_id": "INSA (3)|M",
        "equipe1_nom": "INSA (3)",
        "equipe1_nom_complet": "INSA (3)",
        "equipe1_institution": "INSA",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "ECL (2)|M",
        "equipe2_nom": "ECL (2)",
        "equipe2_nom_complet": "ECL (2)",
        "equipe2_institution": "ECL",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBMA2PB",
        "priorite": 0,
        "genre": "M",
        "semaine": 7,
        "horaire": "14:00",
        "gymnase": "ECL",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0136",
        "equipe1_id": "INSA (5)|M",
        "equipe1_nom": "INSA (5)",
        "equipe1_nom_complet": "INSA (5)",
        "equipe1_institution": "INSA",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "LYON 1 (13)|M",
        "equipe2_nom": "LYON 1 (13)",
        "equipe2_nom_complet": "LYON 1 (13)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBMA3PA",
        "priorite": 0,
        "genre": "M",
        "semaine": 7,
        "horaire": "14:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0137",
        "equipe1_id": "ECL (3)|M",
        "equipe1_nom": "ECL (3)",
        "equipe1_nom_complet": "ECL (3)",
        "equipe1_institution": "ECL",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "LYON 1 (9)|M",
        "equipe2_nom": "LYON 1 (9)",
        "equipe2_nom_complet": "LYON 1 (9)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBMA3PB",
        "priorite": 0,
        "genre": "M",
        "semaine": 7,
        "horaire": "14:00",
        "gymnase": "ECL",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0138",
        "equipe1_id": "INSA (1)|F",
        "equipe1_nom": "INSA (1)",
        "equipe1_nom_complet": "INSA (1)",
        "equipe1_institution": "INSA",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "UDL (2)|F",
        "equipe2_nom": "UDL (2)",
        "equipe2_nom_complet": "EXTERNE",
        "equipe2_institution": "EXTERNE",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [],
        "poule": "",
        "priorite": 0,
        "genre": "F",
        "semaine": 7,
        "horaire": "14:00",
        "gymnase": "BESSON",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0139",
        "equipe1_id": "INSA (1)|F",
        "equipe1_nom": "INSA (1)",
        "equipe1_nom_complet": "INSA (1)",
        "equipe1_institution": "INSA",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "INPG (1)|F",
        "equipe2_nom": "INPG (1)",
        "equipe2_nom_complet": "EXTERNE",
        "equipe2_institution": "EXTERNE",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [],
        "poule": "",
        "priorite": 0,
        "genre": "F",
        "semaine": 7,
        "horaire": "15:00",
        "gymnase": "GRENOBLE",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0140",
        "equipe1_id": "ENTPE (1)|F",
        "equipe1_nom": "ENTPE (1)",
        "equipe1_nom_complet": "ENTPE (1)",
        "equipe1_institution": "ENTPE",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "EML (1)|F",
        "equipe2_nom": "EML (1)",
        "equipe2_nom_complet": "EML (1)",
        "equipe2_institution": "EML",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "",
        "priorite": 0,
        "genre": "F",
        "semaine": 7,
        "horaire": "15:30",
        "gymnase": "ENTPE",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0141",
        "equipe1_id": "LYON 1 (1)|F",
        "equipe1_nom": "LYON 1 (1)",
        "equipe1_nom_complet": "LYON 1 (1)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "LYON 1 (11)|F",
        "equipe2_nom": "LYON 1 (11)",
        "equipe2_nom_complet": "LYON 1 (11)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBFA1PA",
        "priorite": 0,
        "genre": "F",
        "semaine": 7,
        "horaire": "16:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": true,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0142",
        "equipe1_id": "LYON 1 (1)|M",
        "equipe1_nom": "LYON 1 (1)",
        "equipe1_nom_complet": "LYON 1 (1)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "INSA (1)|M",
        "equipe2_nom": "INSA (1)",
        "equipe2_nom_complet": "INSA (1)",
        "equipe2_institution": "INSA",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBMA1PA",
        "priorite": 0,
        "genre": "M",
        "semaine": 7,
        "horaire": "16:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0143",
        "equipe1_id": "UDL (1)|F",
        "equipe1_nom": "UDL (1)",
        "equipe1_nom_complet": "EXTERNE",
        "equipe1_institution": "EXTERNE",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [],
        "equipe2_id": "UCA (1)|F",
        "equipe2_nom": "UCA (1)",
        "equipe2_nom_complet": "EXTERNE",
        "equipe2_institution": "EXTERNE",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [],
        "poule": "",
        "priorite": 0,
        "genre": "F",
        "semaine": 7,
        "horaire": "16:00",
        "gymnase": "BESSON",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0144",
        "equipe1_id": "LYON 2 (1)|M",
        "equipe1_nom": "LYON 2 (1)",
        "equipe1_nom_complet": "LYON 2 (1)",
        "equipe1_institution": "LYON 2",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "LYON 1 (26)|M",
        "equipe2_nom": "LYON 1 (26)",
        "equipe2_nom_complet": "LYON 1 (26)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBMA1PB",
        "priorite": 0,
        "genre": "M",
        "semaine": 7,
        "horaire": "18:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0145",
        "equipe1_id": "LYON 1 (4)|F",
        "equipe1_nom": "LYON 1 (4)",
        "equipe1_nom_complet": "LYON 1 (4)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "ECL (1)|F",
        "equipe2_nom": "ECL (1)",
        "equipe2_nom_complet": "ECL (1)",
        "equipe2_institution": "ECL",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBFA2PA",
        "priorite": 0,
        "genre": "F",
        "semaine": 7,
        "horaire": "18:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0146",
        "equipe1_id": "LYON 1 (6)|M",
        "equipe1_nom": "LYON 1 (6)",
        "equipe1_nom_complet": "LYON 1 (6)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "LYON 2 (2)|M",
        "equipe2_nom": "LYON 2 (2)",
        "equipe2_nom_complet": "LYON 2 (2)",
        "equipe2_institution": "LYON 2",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "VBMA2PD",
        "priorite": 0,
        "genre": "M",
        "semaine": 7,
        "horaire": "18:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0147",
        "equipe1_id": "ESME (1)|M",
        "equipe1_nom": "ESME (1)",
        "equipe1_nom_complet": "ESME (1)",
        "equipe1_institution": "ESME",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "LYON 1 (4)|M",
        "equipe2_nom": "LYON 1 (4)",
        "equipe2_nom_complet": "LYON 1 (4)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "VBMA2PD",
        "priorite": 0,
        "genre": "M",
        "semaine": 7,
        "horaire": "18:00",
        "gymnase": "LAENNEC",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0148",
        "equipe1_id": "ENTPE (2)|F",
        "equipe1_nom": "ENTPE (2)",
        "equipe1_nom_complet": "ENTPE (2)",
        "equipe1_institution": "ENTPE",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "LYON 2 (6)|F",
        "equipe2_nom": "LYON 2 (6)",
        "equipe2_nom_complet": "LYON 2 (6)",
        "equipe2_institution": "LYON 2",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "VBFA3PA",
        "priorite": 0,
        "genre": "F",
        "semaine": 7,
        "horaire": "18:00",
        "gymnase": "LAENNEC",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0149",
        "equipe1_id": "ECAM (1)|F",
        "equipe1_nom": "ECAM (1)",
        "equipe1_nom_complet": "ECAM (1)",
        "equipe1_institution": "ECAM",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "16:00"
        ],
        "equipe2_id": "LYON 2 (5)|F",
        "equipe2_nom": "LYON 2 (5)",
        "equipe2_nom_complet": "LYON 2 (5)",
        "equipe2_institution": "LYON 2",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "VBFA3PA",
        "priorite": 0,
        "genre": "F",
        "semaine": 7,
        "horaire": "18:00",
        "gymnase": "LYON 2 HC",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0150",
        "equipe1_id": "ESME (2)|F",
        "equipe1_nom": "ESME (2)",
        "equipe1_nom_complet": "ESME (2)",
        "equipe1_institution": "ESME",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "16:00"
        ],
        "equipe2_id": "LYON 1 (8)|F",
        "equipe2_nom": "LYON 1 (8)",
        "equipe2_nom_complet": "LYON 1 (8)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "VBFA4PB",
        "priorite": 0,
        "genre": "F",
        "semaine": 7,
        "horaire": "18:00",
        "gymnase": "LAENNEC",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0151",
        "equipe1_id": "ESSCA (1)|M",
        "equipe1_nom": "ESSCA (1)",
        "equipe1_nom_complet": "ESSCA (1)",
        "equipe1_institution": "ESSCA",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "16:00"
        ],
        "equipe2_id": "LYON 2 (5)|M",
        "equipe2_nom": "LYON 2 (5)",
        "equipe2_nom_complet": "LYON 2 (5)",
        "equipe2_institution": "LYON 2",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "VBMA4PB",
        "priorite": 0,
        "genre": "M",
        "semaine": 7,
        "horaire": "18:00",
        "gymnase": "LYON 2 HC",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0152",
        "equipe1_id": "LYON 2 (6)|M",
        "equipe1_nom": "LYON 2 (6)",
        "equipe1_nom_complet": "LYON 2 (6)",
        "equipe1_institution": "LYON 2",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "LYON 1 (23)|M",
        "equipe2_nom": "LYON 1 (23)",
        "equipe2_nom_complet": "LYON 1 (23)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "VBMA4PC",
        "priorite": 0,
        "genre": "M",
        "semaine": 7,
        "horaire": "18:00",
        "gymnase": "LYON 2 HC",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0153",
        "equipe1_id": "CESI (1)|M",
        "equipe1_nom": "CESI (1)",
        "equipe1_nom_complet": "CESI (1)",
        "equipe1_institution": "CESI",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "LYON 1 (19)|M",
        "equipe2_nom": "LYON 1 (19)",
        "equipe2_nom_complet": "LYON 1 (19)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "VBMA4PC",
        "priorite": 0,
        "genre": "M",
        "semaine": 7,
        "horaire": "18:00",
        "gymnase": "L. J. HAUT",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0154",
        "equipe1_id": "LYON 3 (1)|F",
        "equipe1_nom": "LYON 3 (1)",
        "equipe1_nom_complet": "LYON 3 (1)",
        "equipe1_institution": "LYON 3",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "LYON 2 (2)|F",
        "equipe2_nom": "LYON 2 (2)",
        "equipe2_nom_complet": "LYON 2 (2)",
        "equipe2_institution": "LYON 2",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBFA1PB",
        "priorite": 0,
        "genre": "F",
        "semaine": 7,
        "horaire": "20:00",
        "gymnase": "LYON 2 HC",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0155",
        "equipe1_id": "LYON 3 (3)|F",
        "equipe1_nom": "LYON 3 (3)",
        "equipe1_nom_complet": "LYON 3 (3)",
        "equipe1_institution": "LYON 3",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "VETO (1)|F",
        "equipe2_nom": "VETO (1)",
        "equipe2_nom_complet": "VETO (1)",
        "equipe2_institution": "VETO",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBFA2PC",
        "priorite": 0,
        "genre": "F",
        "semaine": 7,
        "horaire": "20:00",
        "gymnase": "LAENNEC",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0156",
        "equipe1_id": "LYON 3 (2)|F",
        "equipe1_nom": "LYON 3 (2)",
        "equipe1_nom_complet": "LYON 3 (2)",
        "equipe1_institution": "LYON 3",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "LYON 2 (3)|F",
        "equipe2_nom": "LYON 2 (3)",
        "equipe2_nom_complet": "LYON 2 (3)",
        "equipe2_institution": "LYON 2",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBFA2PC",
        "priorite": 0,
        "genre": "F",
        "semaine": 7,
        "horaire": "20:00",
        "gymnase": "LYON 2 HC",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0157",
        "equipe1_id": "LYON 3 (3)|M",
        "equipe1_nom": "LYON 3 (3)",
        "equipe1_nom_complet": "LYON 3 (3)",
        "equipe1_institution": "LYON 3",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "SANTE (2)|M",
        "equipe2_nom": "SANTE (2)",
        "equipe2_nom_complet": "SANTE (2)",
        "equipe2_institution": "SANTE",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBMA2PE",
        "priorite": 0,
        "genre": "M",
        "semaine": 7,
        "horaire": "20:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0158",
        "equipe1_id": "LYON 3 (2)|M",
        "equipe1_nom": "LYON 3 (2)",
        "equipe1_nom_complet": "LYON 3 (2)",
        "equipe1_institution": "LYON 3",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "SANTE (1)|M",
        "equipe2_nom": "SANTE (1)",
        "equipe2_nom_complet": "SANTE (1)",
        "equipe2_institution": "SANTE",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBMA2PC",
        "priorite": 0,
        "genre": "M",
        "semaine": 7,
        "horaire": "20:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0159",
        "equipe1_id": "LYON 3 (4)|F",
        "equipe1_nom": "LYON 3 (4)",
        "equipe1_nom_complet": "LYON 3 (4)",
        "equipe1_institution": "LYON 3",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "ESA (1)|F",
        "equipe2_nom": "ESA (1)",
        "equipe2_nom_complet": "ESA (1)",
        "equipe2_institution": "ESA",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBFA3PB",
        "priorite": 0,
        "genre": "F",
        "semaine": 7,
        "horaire": "20:00",
        "gymnase": "LAENNEC",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0160",
        "equipe1_id": "LYON 2 (7)|F",
        "equipe1_nom": "LYON 2 (7)",
        "equipe1_nom_complet": "LYON 2 (7)",
        "equipe1_institution": "LYON 2",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "LYON 2 IEP (4)|F",
        "equipe2_nom": "LYON 2 IEP (4)",
        "equipe2_nom_complet": "LYON 2 IEP (4)",
        "equipe2_institution": "LYON 2 IEP",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBFA3PC",
        "priorite": 0,
        "genre": "F",
        "semaine": 7,
        "horaire": "20:00",
        "gymnase": "LYON 2 HC",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0161",
        "equipe1_id": "ECAM (2)|M",
        "equipe1_nom": "ECAM (2)",
        "equipe1_nom_complet": "ECAM (2)",
        "equipe1_institution": "ECAM",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "SANTE (3)|M",
        "equipe2_nom": "SANTE (3)",
        "equipe2_nom_complet": "SANTE (3)",
        "equipe2_institution": "SANTE",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBMA3PG",
        "priorite": 0,
        "genre": "M",
        "semaine": 7,
        "horaire": "20:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0162",
        "equipe1_id": "SANTE (5)|F",
        "equipe1_nom": "SANTE (5)",
        "equipe1_nom_complet": "SANTE (5)",
        "equipe1_institution": "SANTE",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "LYON 3 (5)|F",
        "equipe2_nom": "LYON 3 (5)",
        "equipe2_nom_complet": "LYON 3 (5)",
        "equipe2_institution": "LYON 3",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBFA4PC",
        "priorite": 0,
        "genre": "F",
        "semaine": 7,
        "horaire": "20:00",
        "gymnase": "LAENNEC",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0163",
        "equipe1_id": "CESI (2)|M",
        "equipe1_nom": "CESI (2)",
        "equipe1_nom_complet": "CESI (2)",
        "equipe1_institution": "CESI",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "SANTE (5)|M",
        "equipe2_nom": "SANTE (5)",
        "equipe2_nom_complet": "SANTE (5)",
        "equipe2_institution": "SANTE",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBMA4PD",
        "priorite": 0,
        "genre": "M",
        "semaine": 7,
        "horaire": "20:00",
        "gymnase": "L. J. HAUT",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0164",
        "equipe1_id": "INSA (1)|M",
        "equipe1_nom": "INSA (1)",
        "equipe1_nom_complet": "INSA (1)",
        "equipe1_institution": "INSA",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "LYON 1 (1)|M",
        "equipe2_nom": "LYON 1 (1)",
        "equipe2_nom_complet": "LYON 1 (1)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBMA1PA",
        "priorite": 0,
        "genre": "M",
        "semaine": 8,
        "horaire": "14:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0165",
        "equipe1_id": "LYON 1 (2)|M",
        "equipe1_nom": "LYON 1 (2)",
        "equipe1_nom_complet": "LYON 1 (2)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "ENTPE (1)|M",
        "equipe2_nom": "ENTPE (1)",
        "equipe2_nom_complet": "ENTPE (1)",
        "equipe2_institution": "ENTPE",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBMA1PA",
        "priorite": 0,
        "genre": "M",
        "semaine": 8,
        "horaire": "14:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0166",
        "equipe1_id": "ECL (1)|M",
        "equipe1_nom": "ECL (1)",
        "equipe1_nom_complet": "ECL (1)",
        "equipe1_institution": "ECL",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "LYON 1 (26)|M",
        "equipe2_nom": "LYON 1 (26)",
        "equipe2_nom_complet": "LYON 1 (26)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBMA1PB",
        "priorite": 0,
        "genre": "M",
        "semaine": 8,
        "horaire": "14:00",
        "gymnase": "ECL",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0167",
        "equipe1_id": "ECL (2)|F",
        "equipe1_nom": "ECL (2)",
        "equipe1_nom_complet": "ECL (2)",
        "equipe1_institution": "ECL",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "LYON 1 (13)|F",
        "equipe2_nom": "LYON 1 (13)",
        "equipe2_nom_complet": "LYON 1 (13)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBFA4PA",
        "priorite": 0,
        "genre": "F",
        "semaine": 8,
        "horaire": "14:00",
        "gymnase": "ECL",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0168",
        "equipe1_id": "UDL (2)|F",
        "equipe1_nom": "UDL (2)",
        "equipe1_nom_complet": "EXTERNE",
        "equipe1_institution": "EXTERNE",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [],
        "equipe2_id": "UCA (1)|F",
        "equipe2_nom": "UCA (1)",
        "equipe2_nom_complet": "EXTERNE",
        "equipe2_institution": "EXTERNE",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [],
        "poule": "",
        "priorite": 0,
        "genre": "F",
        "semaine": 8,
        "horaire": "14:00",
        "gymnase": "BESSON",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0169",
        "equipe1_id": "ECL (2)|M",
        "equipe1_nom": "ECL (2)",
        "equipe1_nom_complet": "ECL (2)",
        "equipe1_institution": "ECL",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "LYON 1 (3)|M",
        "equipe2_nom": "LYON 1 (3)",
        "equipe2_nom_complet": "LYON 1 (3)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "16:00"
        ],
        "poule": "VBMA2PB",
        "priorite": 0,
        "genre": "M",
        "semaine": 8,
        "horaire": "16:00",
        "gymnase": "ECL",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0170",
        "equipe1_id": "LYON 1 (24)|M",
        "equipe1_nom": "LYON 1 (24)",
        "equipe1_nom_complet": "LYON 1 (24)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "16:00"
        ],
        "equipe2_id": "INSA (5)|M",
        "equipe2_nom": "INSA (5)",
        "equipe2_nom_complet": "INSA (5)",
        "equipe2_institution": "INSA",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBMA3PA",
        "priorite": 0,
        "genre": "M",
        "semaine": 8,
        "horaire": "16:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0171",
        "equipe1_id": "ESSCA (1)|M",
        "equipe1_nom": "ESSCA (1)",
        "equipe1_nom_complet": "ESSCA (1)",
        "equipe1_institution": "ESSCA",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "16:00"
        ],
        "equipe2_id": "LYON 1 (11)|M",
        "equipe2_nom": "LYON 1 (11)",
        "equipe2_nom_complet": "LYON 1 (11)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "16:00"
        ],
        "poule": "VBMA4PB",
        "priorite": 0,
        "genre": "M",
        "semaine": 8,
        "horaire": "16:00",
        "gymnase": "LAENNEC",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0172",
        "equipe1_id": "UDL (1)|M",
        "equipe1_nom": "UDL (1)",
        "equipe1_nom_complet": "EXTERNE",
        "equipe1_institution": "EXTERNE",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [],
        "equipe2_id": "UDG (1)|M",
        "equipe2_nom": "UDG (1)",
        "equipe2_nom_complet": "EXTERNE",
        "equipe2_institution": "EXTERNE",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [],
        "poule": "",
        "priorite": 0,
        "genre": "M",
        "semaine": 8,
        "horaire": "16:00",
        "gymnase": "BESSON",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0173",
        "equipe1_id": "EML (1)|F",
        "equipe1_nom": "EML (1)",
        "equipe1_nom_complet": "EML (1)",
        "equipe1_institution": "EML",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "INPG (1)|F",
        "equipe2_nom": "INPG (1)",
        "equipe2_nom_complet": "EXTERNE",
        "equipe2_institution": "EXTERNE",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [],
        "poule": "",
        "priorite": 0,
        "genre": "F",
        "semaine": 8,
        "horaire": "16:00",
        "gymnase": "BESSON",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0174",
        "equipe1_id": "ECL (1)|F",
        "equipe1_nom": "ECL (1)",
        "equipe1_nom_complet": "ECL (1)",
        "equipe1_institution": "ECL",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "INSA (1)|F",
        "equipe2_nom": "INSA (1)",
        "equipe2_nom_complet": "INSA (1)",
        "equipe2_institution": "INSA",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "",
        "priorite": 0,
        "genre": "F",
        "semaine": 8,
        "horaire": "16:00",
        "gymnase": "ECL",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0175",
        "equipe1_id": "ENTPE (2)|M",
        "equipe1_nom": "ENTPE (2)",
        "equipe1_nom_complet": "ENTPE (2)",
        "equipe1_institution": "ENTPE",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "LYON 1 (5)|M",
        "equipe2_nom": "LYON 1 (5)",
        "equipe2_nom_complet": "LYON 1 (5)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "VBMA2PA",
        "priorite": 0,
        "genre": "M",
        "semaine": 8,
        "horaire": "18:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0176",
        "equipe1_id": "LYON 1 (6)|M",
        "equipe1_nom": "LYON 1 (6)",
        "equipe1_nom_complet": "LYON 1 (6)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "EML (2)|M",
        "equipe2_nom": "EML (2)",
        "equipe2_nom_complet": "EML (2)",
        "equipe2_institution": "EML",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "VBMA2PD",
        "priorite": 0,
        "genre": "M",
        "semaine": 8,
        "horaire": "18:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0177",
        "equipe1_id": "ENTPE (2)|F",
        "equipe1_nom": "ENTPE (2)",
        "equipe1_nom_complet": "ENTPE (2)",
        "equipe1_institution": "ENTPE",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "LYON 2 (5)|F",
        "equipe2_nom": "LYON 2 (5)",
        "equipe2_nom_complet": "LYON 2 (5)",
        "equipe2_institution": "LYON 2",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "VBFA3PA",
        "priorite": 0,
        "genre": "F",
        "semaine": 8,
        "horaire": "18:00",
        "gymnase": "LAENNEC",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0178",
        "equipe1_id": "LYON 1 (9)|F",
        "equipe1_nom": "LYON 1 (9)",
        "equipe1_nom_complet": "LYON 1 (9)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "LYON 2 (6)|F",
        "equipe2_nom": "LYON 2 (6)",
        "equipe2_nom_complet": "LYON 2 (6)",
        "equipe2_institution": "LYON 2",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "VBFA3PA",
        "priorite": 0,
        "genre": "F",
        "semaine": 8,
        "horaire": "18:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0179",
        "equipe1_id": "ESSCA (1)|F",
        "equipe1_nom": "ESSCA (1)",
        "equipe1_nom_complet": "ESSCA (1)",
        "equipe1_institution": "ESSCA",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "16:00"
        ],
        "equipe2_id": "LYON 1 (8)|F",
        "equipe2_nom": "LYON 1 (8)",
        "equipe2_nom_complet": "LYON 1 (8)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "VBFA4PB",
        "priorite": 0,
        "genre": "F",
        "semaine": 8,
        "horaire": "18:00",
        "gymnase": "L. J. HAUT",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0180",
        "equipe1_id": "LYON 2 (8)|F",
        "equipe1_nom": "LYON 2 (8)",
        "equipe1_nom_complet": "LYON 2 (8)",
        "equipe1_institution": "LYON 2",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "ENS (2)|F",
        "equipe2_nom": "ENS (2)",
        "equipe2_nom_complet": "ENS (2)",
        "equipe2_institution": "ENS",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "VBFA4PB",
        "priorite": 0,
        "genre": "F",
        "semaine": 8,
        "horaire": "18:00",
        "gymnase": "DESCARTES",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0181",
        "equipe1_id": "LYON 2 (6)|M",
        "equipe1_nom": "LYON 2 (6)",
        "equipe1_nom_complet": "LYON 2 (6)",
        "equipe1_institution": "LYON 2",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "LYON 1 (19)|M",
        "equipe2_nom": "LYON 1 (19)",
        "equipe2_nom_complet": "LYON 1 (19)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "VBMA4PC",
        "priorite": 0,
        "genre": "M",
        "semaine": 8,
        "horaire": "18:00",
        "gymnase": "LAENNEC",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0182",
        "equipe1_id": "CESI (1)|M",
        "equipe1_nom": "CESI (1)",
        "equipe1_nom_complet": "CESI (1)",
        "equipe1_institution": "CESI",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "LYON 1 (25)|M",
        "equipe2_nom": "LYON 1 (25)",
        "equipe2_nom_complet": "LYON 1 (25)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "VBMA4PC",
        "priorite": 0,
        "genre": "M",
        "semaine": 8,
        "horaire": "18:00",
        "gymnase": "LAENNEC",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0183",
        "equipe1_id": "LYON 2 (3)|F",
        "equipe1_nom": "LYON 2 (3)",
        "equipe1_nom_complet": "LYON 2 (3)",
        "equipe1_institution": "LYON 2",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "SANTE (2)|F",
        "equipe2_nom": "SANTE (2)",
        "equipe2_nom_complet": "SANTE (2)",
        "equipe2_institution": "SANTE",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBFA2PC",
        "priorite": 0,
        "genre": "F",
        "semaine": 8,
        "horaire": "20:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0184",
        "equipe1_id": "ENS (2)|M",
        "equipe1_nom": "ENS (2)",
        "equipe1_nom_complet": "ENS (2)",
        "equipe1_institution": "ENS",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "LYON 1 (21)|M",
        "equipe2_nom": "LYON 1 (21)",
        "equipe2_nom_complet": "LYON 1 (21)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBMA2PE",
        "priorite": 0,
        "genre": "M",
        "semaine": 8,
        "horaire": "20:00",
        "gymnase": "DESCARTES",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0185",
        "equipe1_id": "SANTE (4)|F",
        "equipe1_nom": "SANTE (4)",
        "equipe1_nom_complet": "SANTE (4)",
        "equipe1_institution": "SANTE",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "CPE (1)|F",
        "equipe2_nom": "CPE (1)",
        "equipe2_nom_complet": "CPE (1)",
        "equipe2_institution": "CPE",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBFA3PB",
        "priorite": 0,
        "genre": "F",
        "semaine": 8,
        "horaire": "20:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0186",
        "equipe1_id": "LYON 3 (4)|F",
        "equipe1_nom": "LYON 3 (4)",
        "equipe1_nom_complet": "LYON 3 (4)",
        "equipe1_institution": "LYON 3",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "LYON 1 (6)|F",
        "equipe2_nom": "LYON 1 (6)",
        "equipe2_nom_complet": "LYON 1 (6)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBFA3PB",
        "priorite": 0,
        "genre": "F",
        "semaine": 8,
        "horaire": "20:00",
        "gymnase": "LAENNEC",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0187",
        "equipe1_id": "SANTE (3)|F",
        "equipe1_nom": "SANTE (3)",
        "equipe1_nom_complet": "SANTE (3)",
        "equipe1_institution": "SANTE",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "EML (2)|F",
        "equipe2_nom": "EML (2)",
        "equipe2_nom_complet": "EML (2)",
        "equipe2_institution": "EML",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBFA3PC",
        "priorite": 0,
        "genre": "F",
        "semaine": 8,
        "horaire": "20:00",
        "gymnase": "L. J. HAUT",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0188",
        "equipe1_id": "LYON 1 (16)|M",
        "equipe1_nom": "LYON 1 (16)",
        "equipe1_nom_complet": "LYON 1 (16)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "CATHO (2)|M",
        "equipe2_nom": "CATHO (2)",
        "equipe2_nom_complet": "CATHO (2)",
        "equipe2_institution": "CATHO",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBMA3PF",
        "priorite": 0,
        "genre": "M",
        "semaine": 8,
        "horaire": "20:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0189",
        "equipe1_id": "ESA (2)|F",
        "equipe1_nom": "ESA (2)",
        "equipe1_nom_complet": "ESA (2)",
        "equipe1_institution": "ESA",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "SANTE (6)|F",
        "equipe2_nom": "SANTE (6)",
        "equipe2_nom_complet": "SANTE (6)",
        "equipe2_institution": "SANTE",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBFA4PC",
        "priorite": 0,
        "genre": "F",
        "semaine": 8,
        "horaire": "20:00",
        "gymnase": "ESA",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0190",
        "equipe1_id": "LYON 3 (5)|M",
        "equipe1_nom": "LYON 3 (5)",
        "equipe1_nom_complet": "LYON 3 (5)",
        "equipe1_institution": "LYON 3",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "SANTE (5)|M",
        "equipe2_nom": "SANTE (5)",
        "equipe2_nom_complet": "SANTE (5)",
        "equipe2_institution": "SANTE",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBMA4PD",
        "priorite": 0,
        "genre": "M",
        "semaine": 8,
        "horaire": "20:00",
        "gymnase": "LAENNEC",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0191",
        "equipe1_id": "LYON 3 (6)|M",
        "equipe1_nom": "LYON 3 (6)",
        "equipe1_nom_complet": "LYON 3 (6)",
        "equipe1_institution": "LYON 3",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "LYON 1 (17)|M",
        "equipe2_nom": "LYON 1 (17)",
        "equipe2_nom_complet": "LYON 1 (17)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBMA4PD",
        "priorite": 0,
        "genre": "M",
        "semaine": 8,
        "horaire": "20:00",
        "gymnase": "LAENNEC",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0192",
        "equipe1_id": "INSA (2)|F",
        "equipe1_nom": "INSA (2)",
        "equipe1_nom_complet": "INSA (2)",
        "equipe1_institution": "INSA",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "ENTPE (1)|F",
        "equipe2_nom": "ENTPE (1)",
        "equipe2_nom_complet": "ENTPE (1)",
        "equipe2_institution": "ENTPE",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBFA1PA",
        "priorite": 0,
        "genre": "F",
        "semaine": 9,
        "horaire": "14:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0193",
        "equipe1_id": "INSA (2)|M",
        "equipe1_nom": "INSA (2)",
        "equipe1_nom_complet": "INSA (2)",
        "equipe1_institution": "INSA",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "ECL (1)|M",
        "equipe2_nom": "ECL (1)",
        "equipe2_nom_complet": "ECL (1)",
        "equipe2_institution": "ECL",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBMA1PB",
        "priorite": 0,
        "genre": "M",
        "semaine": 9,
        "horaire": "14:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0194",
        "equipe1_id": "ENTPE (2)|M",
        "equipe1_nom": "ENTPE (2)",
        "equipe1_nom_complet": "ENTPE (2)",
        "equipe1_institution": "ENTPE",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "INSA (4)|M",
        "equipe2_nom": "INSA (4)",
        "equipe2_nom_complet": "INSA (4)",
        "equipe2_institution": "INSA",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBMA2PA",
        "priorite": 0,
        "genre": "M",
        "semaine": 9,
        "horaire": "14:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0195",
        "equipe1_id": "ECL (3)|M",
        "equipe1_nom": "ECL (3)",
        "equipe1_nom_complet": "ECL (3)",
        "equipe1_institution": "ECL",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "INSA (6)|M",
        "equipe2_nom": "INSA (6)",
        "equipe2_nom_complet": "INSA (6)",
        "equipe2_institution": "INSA",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBMA3PB",
        "priorite": 0,
        "genre": "M",
        "semaine": 9,
        "horaire": "14:00",
        "gymnase": "ECL",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0196",
        "equipe1_id": "INSA (3)|F",
        "equipe1_nom": "INSA (3)",
        "equipe1_nom_complet": "INSA (3)",
        "equipe1_institution": "INSA",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "16:00"
        ],
        "equipe2_id": "ECL (1)|F",
        "equipe2_nom": "ECL (1)",
        "equipe2_nom_complet": "ECL (1)",
        "equipe2_institution": "ECL",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBFA2PA",
        "priorite": 0,
        "genre": "F",
        "semaine": 9,
        "horaire": "16:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0197",
        "equipe1_id": "INSA (3)|M",
        "equipe1_nom": "INSA (3)",
        "equipe1_nom_complet": "INSA (3)",
        "equipe1_institution": "INSA",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "ISARA (1)|M",
        "equipe2_nom": "ISARA (1)",
        "equipe2_nom_complet": "ISARA (1)",
        "equipe2_institution": "ISARA",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "16:00"
        ],
        "poule": "VBMA2PB",
        "priorite": 0,
        "genre": "M",
        "semaine": 9,
        "horaire": "16:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0198",
        "equipe1_id": "ENTPE (2)|F",
        "equipe1_nom": "ENTPE (2)",
        "equipe1_nom_complet": "ENTPE (2)",
        "equipe1_institution": "ENTPE",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "ECAM (1)|F",
        "equipe2_nom": "ECAM (1)",
        "equipe2_nom_complet": "ECAM (1)",
        "equipe2_institution": "ECAM",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "16:00"
        ],
        "poule": "VBFA3PA",
        "priorite": 0,
        "genre": "F",
        "semaine": 9,
        "horaire": "16:00",
        "gymnase": "LAENNEC",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0199",
        "equipe1_id": "INSA (1)|F",
        "equipe1_nom": "INSA (1)",
        "equipe1_nom_complet": "INSA (1)",
        "equipe1_institution": "INSA",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "UDG (1)|F",
        "equipe2_nom": "UDG (1)",
        "equipe2_nom_complet": "EXTERNE",
        "equipe2_institution": "EXTERNE",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [],
        "poule": "",
        "priorite": 0,
        "genre": "F",
        "semaine": 9,
        "horaire": "16:00",
        "gymnase": "BESSON",
        "is_fixed": true,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0200",
        "equipe1_id": "ESME (2)|F",
        "equipe1_nom": "ESME (2)",
        "equipe1_nom_complet": "ESME (2)",
        "equipe1_institution": "ESME",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "16:00"
        ],
        "equipe2_id": "ENS (2)|F",
        "equipe2_nom": "ENS (2)",
        "equipe2_nom_complet": "ENS (2)",
        "equipe2_institution": "ENS",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "VBFA4PB",
        "priorite": 0,
        "genre": "F",
        "semaine": 9,
        "horaire": "18:00",
        "gymnase": "DESCARTES",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0201",
        "equipe1_id": "ENS (1)|M",
        "equipe1_nom": "ENS (1)",
        "equipe1_nom_complet": "ENS (1)",
        "equipe1_institution": "ENS",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "EML (1)|M",
        "equipe2_nom": "EML (1)",
        "equipe2_nom_complet": "EML (1)",
        "equipe2_institution": "EML",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBMA1PC",
        "priorite": 0,
        "genre": "M",
        "semaine": 9,
        "horaire": "20:00",
        "gymnase": "DESCARTES",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0202",
        "equipe1_id": "LYON 2 (IEP) (4)|M",
        "equipe1_nom": "LYON 2 (IEP) (4)",
        "equipe1_nom_complet": "LYON 2 (IEP) (4)",
        "equipe1_institution": "LYON 2 (IEP)",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "VETO (1)|M",
        "equipe2_nom": "VETO (1)",
        "equipe2_nom_complet": "VETO (1)",
        "equipe2_institution": "VETO",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBMA3PG",
        "priorite": 0,
        "genre": "M",
        "semaine": 9,
        "horaire": "20:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0203",
        "equipe1_id": "INSA (2)|F",
        "equipe1_nom": "INSA (2)",
        "equipe1_nom_complet": "INSA (2)",
        "equipe1_institution": "INSA",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "INSA (1)|F",
        "equipe2_nom": "INSA (1)",
        "equipe2_nom_complet": "INSA (1)",
        "equipe2_institution": "INSA",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBFA1PA",
        "priorite": 0,
        "genre": "F",
        "semaine": 13,
        "horaire": "14:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0204",
        "equipe1_id": "ECL (1)|M",
        "equipe1_nom": "ECL (1)",
        "equipe1_nom_complet": "ECL (1)",
        "equipe1_institution": "ECL",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "INSA (2)|M",
        "equipe2_nom": "INSA (2)",
        "equipe2_nom_complet": "INSA (2)",
        "equipe2_institution": "INSA",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBMA1PB",
        "priorite": 0,
        "genre": "M",
        "semaine": 13,
        "horaire": "14:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0205",
        "equipe1_id": "INSA (4)|M",
        "equipe1_nom": "INSA (4)",
        "equipe1_nom_complet": "INSA (4)",
        "equipe1_institution": "INSA",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "ENTPE (2)|M",
        "equipe2_nom": "ENTPE (2)",
        "equipe2_nom_complet": "ENTPE (2)",
        "equipe2_institution": "ENTPE",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBMA2PA",
        "priorite": 0,
        "genre": "M",
        "semaine": 13,
        "horaire": "14:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0206",
        "equipe1_id": "ECL (2)|M",
        "equipe1_nom": "ECL (2)",
        "equipe1_nom_complet": "ECL (2)",
        "equipe1_institution": "ECL",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "INSA (3)|M",
        "equipe2_nom": "INSA (3)",
        "equipe2_nom_complet": "INSA (3)",
        "equipe2_institution": "INSA",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBMA2PB",
        "priorite": 0,
        "genre": "M",
        "semaine": 13,
        "horaire": "14:00",
        "gymnase": "ECL",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0207",
        "equipe1_id": "INSA (6)|M",
        "equipe1_nom": "INSA (6)",
        "equipe1_nom_complet": "INSA (6)",
        "equipe1_institution": "INSA",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "ECL (3)|M",
        "equipe2_nom": "ECL (3)",
        "equipe2_nom_complet": "ECL (3)",
        "equipe2_institution": "ECL",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBMA3PB",
        "priorite": 0,
        "genre": "M",
        "semaine": 13,
        "horaire": "14:00",
        "gymnase": "ECL",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0208",
        "equipe1_id": "ECL (1)|F",
        "equipe1_nom": "ECL (1)",
        "equipe1_nom_complet": "ECL (1)",
        "equipe1_institution": "ECL",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "INSA (3)|F",
        "equipe2_nom": "INSA (3)",
        "equipe2_nom_complet": "INSA (3)",
        "equipe2_institution": "INSA",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "16:00"
        ],
        "poule": "VBFA2PA",
        "priorite": 0,
        "genre": "F",
        "semaine": 13,
        "horaire": "16:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0209",
        "equipe1_id": "ECAM (1)|F",
        "equipe1_nom": "ECAM (1)",
        "equipe1_nom_complet": "ECAM (1)",
        "equipe1_institution": "ECAM",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "16:00"
        ],
        "equipe2_id": "ENTPE (2)|F",
        "equipe2_nom": "ENTPE (2)",
        "equipe2_nom_complet": "ENTPE (2)",
        "equipe2_institution": "ENTPE",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBFA3PA",
        "priorite": 0,
        "genre": "F",
        "semaine": 13,
        "horaire": "16:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0210",
        "equipe1_id": "ISARA (2)|M",
        "equipe1_nom": "ISARA (2)",
        "equipe1_nom_complet": "ISARA (2)",
        "equipe1_institution": "ISARA",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "16:00"
        ],
        "equipe2_id": "CPE (2)|M",
        "equipe2_nom": "CPE (2)",
        "equipe2_nom_complet": "CPE (2)",
        "equipe2_institution": "CPE",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "16:00"
        ],
        "poule": "VBMA3PC",
        "priorite": 0,
        "genre": "M",
        "semaine": 13,
        "horaire": "16:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0211",
        "equipe1_id": "ESME (1)|M",
        "equipe1_nom": "ESME (1)",
        "equipe1_nom_complet": "ESME (1)",
        "equipe1_institution": "ESME",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "EML (2)|M",
        "equipe2_nom": "EML (2)",
        "equipe2_nom_complet": "EML (2)",
        "equipe2_institution": "EML",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "VBMA2PD",
        "priorite": 0,
        "genre": "M",
        "semaine": 13,
        "horaire": "18:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0212",
        "equipe1_id": "ECAM (1)|M",
        "equipe1_nom": "ECAM (1)",
        "equipe1_nom_complet": "ECAM (1)",
        "equipe1_institution": "ECAM",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "EML (1)|M",
        "equipe2_nom": "EML (1)",
        "equipe2_nom_complet": "EML (1)",
        "equipe2_institution": "EML",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBMA1PC",
        "priorite": 0,
        "genre": "M",
        "semaine": 13,
        "horaire": "20:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0213",
        "equipe1_id": "EML (2)|F",
        "equipe1_nom": "EML (2)",
        "equipe1_nom_complet": "EML (2)",
        "equipe1_institution": "EML",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "CATHO (1)|F",
        "equipe2_nom": "CATHO (1)",
        "equipe2_nom_complet": "CATHO (1)",
        "equipe2_institution": "CATHO",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBFA3PC",
        "priorite": 0,
        "genre": "F",
        "semaine": 13,
        "horaire": "20:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      },
      {
        "match_id": "M_0214",
        "equipe1_id": "ECAM (2)|M",
        "equipe1_nom": "ECAM (2)",
        "equipe1_nom_complet": "ECAM (2)",
        "equipe1_institution": "ECAM",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "VETO (1)|M",
        "equipe2_nom": "VETO (1)",
        "equipe2_nom_complet": "VETO (1)",
        "equipe2_institution": "VETO",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBMA3PG",
        "priorite": 0,
        "genre": "M",
        "semaine": 13,
        "horaire": "20:00",
        "gymnase": "BESSON",
        "is_fixed": false,
        "is_entente": false,
        "is_external": false,
        "score": {
          "equipe1": null,
          "equipe2": null,
          "has_score": false
        },
        "penalties": {
          "total": 0.0,
          "horaire_prefere": 0.0,
          "espacement": 0.0,
          "indisponibilite": 0.0,
          "compaction": 0.0,
          "overlap": 0.0
        }
      }
    ],
    "unscheduled": [
      {
        "match_id": "M_0215",
        "equipe1_id": "EML (1)|F",
        "equipe1_nom": "EML (1)",
        "equipe1_nom_complet": "EML (1)",
        "equipe1_institution": "EML",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "LYON 2 (2)|F",
        "equipe2_nom": "LYON 2 (2)",
        "equipe2_nom_complet": "LYON 2 (2)",
        "equipe2_institution": "LYON 2",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBFA1PB",
        "priorite": 0,
        "genre": "F",
        "reason": "Aucun créneau disponible",
        "constraints_violated": [],
        "is_entente": false
      },
      {
        "match_id": "M_0216",
        "equipe1_id": "LYON 2 (1)|F",
        "equipe1_nom": "LYON 2 (1)",
        "equipe1_nom_complet": "LYON 2 (1)",
        "equipe1_institution": "LYON 2",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "LYON 3 (1)|F",
        "equipe2_nom": "LYON 3 (1)",
        "equipe2_nom_complet": "LYON 3 (1)",
        "equipe2_institution": "LYON 3",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBFA1PB",
        "priorite": 0,
        "genre": "F",
        "reason": "Aucun créneau disponible",
        "constraints_violated": [],
        "is_entente": false
      },
      {
        "match_id": "M_0217",
        "equipe1_id": "LYON 1 (2)|M",
        "equipe1_nom": "LYON 1 (2)",
        "equipe1_nom_complet": "LYON 1 (2)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "LYON 1 (1)|M",
        "equipe2_nom": "LYON 1 (1)",
        "equipe2_nom_complet": "LYON 1 (1)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBMA1PA",
        "priorite": 0,
        "genre": "M",
        "reason": "Aucun créneau disponible",
        "constraints_violated": [],
        "is_entente": true
      },
      {
        "match_id": "M_0218",
        "equipe1_id": "LYON 1 (1)|M",
        "equipe1_nom": "LYON 1 (1)",
        "equipe1_nom_complet": "LYON 1 (1)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "LYON 1 (2)|M",
        "equipe2_nom": "LYON 1 (2)",
        "equipe2_nom_complet": "LYON 1 (2)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBMA1PA",
        "priorite": 0,
        "genre": "M",
        "reason": "Aucun créneau disponible",
        "constraints_violated": [],
        "is_entente": true
      },
      {
        "match_id": "M_0219",
        "equipe1_id": "LYON 1 (26)|M",
        "equipe1_nom": "LYON 1 (26)",
        "equipe1_nom_complet": "LYON 1 (26)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "LYON 2 (1)|M",
        "equipe2_nom": "LYON 2 (1)",
        "equipe2_nom_complet": "LYON 2 (1)",
        "equipe2_institution": "LYON 2",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "VBMA1PB",
        "priorite": 0,
        "genre": "M",
        "reason": "Aucun créneau disponible",
        "constraints_violated": [],
        "is_entente": false
      },
      {
        "match_id": "M_0220",
        "equipe1_id": "ECL (1)|F",
        "equipe1_nom": "ECL (1)",
        "equipe1_nom_complet": "ECL (1)",
        "equipe1_institution": "ECL",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "LYON 1 (4)|F",
        "equipe2_nom": "LYON 1 (4)",
        "equipe2_nom_complet": "LYON 1 (4)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBFA2PA",
        "priorite": 0,
        "genre": "F",
        "reason": "Aucun créneau disponible",
        "constraints_violated": [],
        "is_entente": false
      },
      {
        "match_id": "M_0221",
        "equipe1_id": "LYON 1 (5)|F",
        "equipe1_nom": "LYON 1 (5)",
        "equipe1_nom_complet": "LYON 1 (5)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "LYON 1 (4)|F",
        "equipe2_nom": "LYON 1 (4)",
        "equipe2_nom_complet": "LYON 1 (4)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBFA2PA",
        "priorite": 0,
        "genre": "F",
        "reason": "Aucun créneau disponible",
        "constraints_violated": [],
        "is_entente": true
      },
      {
        "match_id": "M_0222",
        "equipe1_id": "LYON 1 (4)|F",
        "equipe1_nom": "LYON 1 (4)",
        "equipe1_nom_complet": "LYON 1 (4)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "LYON 1 (5)|F",
        "equipe2_nom": "LYON 1 (5)",
        "equipe2_nom_complet": "LYON 1 (5)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBFA2PA",
        "priorite": 0,
        "genre": "F",
        "reason": "Aucun créneau disponible",
        "constraints_violated": [],
        "is_entente": true
      },
      {
        "match_id": "M_0223",
        "equipe1_id": "LYON 1 (3)|F",
        "equipe1_nom": "LYON 1 (3)",
        "equipe1_nom_complet": "LYON 1 (3)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "LYON 1 (2)|F",
        "equipe2_nom": "LYON 1 (2)",
        "equipe2_nom_complet": "LYON 1 (2)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBFA2PB",
        "priorite": 0,
        "genre": "F",
        "reason": "Aucun créneau disponible",
        "constraints_violated": [],
        "is_entente": true
      },
      {
        "match_id": "M_0224",
        "equipe1_id": "LYON 1 (3)|F",
        "equipe1_nom": "LYON 1 (3)",
        "equipe1_nom_complet": "LYON 1 (3)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "SANTE (1)|F",
        "equipe2_nom": "SANTE (1)",
        "equipe2_nom_complet": "SANTE (1)",
        "equipe2_institution": "SANTE",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBFA2PB",
        "priorite": 0,
        "genre": "F",
        "reason": "Aucun créneau disponible",
        "constraints_violated": [],
        "is_entente": true
      },
      {
        "match_id": "M_0225",
        "equipe1_id": "LYON 1 (2)|F",
        "equipe1_nom": "LYON 1 (2)",
        "equipe1_nom_complet": "LYON 1 (2)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "SANTE (1)|F",
        "equipe2_nom": "SANTE (1)",
        "equipe2_nom_complet": "SANTE (1)",
        "equipe2_institution": "SANTE",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBFA2PB",
        "priorite": 0,
        "genre": "F",
        "reason": "Aucun créneau disponible",
        "constraints_violated": [],
        "is_entente": true
      },
      {
        "match_id": "M_0226",
        "equipe1_id": "LYON 3 (3)|F",
        "equipe1_nom": "LYON 3 (3)",
        "equipe1_nom_complet": "LYON 3 (3)",
        "equipe1_institution": "LYON 3",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "SANTE (2)|F",
        "equipe2_nom": "SANTE (2)",
        "equipe2_nom_complet": "SANTE (2)",
        "equipe2_institution": "SANTE",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBFA2PC",
        "priorite": 0,
        "genre": "F",
        "reason": "Aucun créneau disponible",
        "constraints_violated": [],
        "is_entente": false
      },
      {
        "match_id": "M_0227",
        "equipe1_id": "LYON 2 (3)|F",
        "equipe1_nom": "LYON 2 (3)",
        "equipe1_nom_complet": "LYON 2 (3)",
        "equipe1_institution": "LYON 2",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "VETO (1)|F",
        "equipe2_nom": "VETO (1)",
        "equipe2_nom_complet": "VETO (1)",
        "equipe2_institution": "VETO",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBFA2PC",
        "priorite": 0,
        "genre": "F",
        "reason": "Aucun créneau disponible",
        "constraints_violated": [],
        "is_entente": false
      },
      {
        "match_id": "M_0228",
        "equipe1_id": "LYON 1 (8)|M",
        "equipe1_nom": "LYON 1 (8)",
        "equipe1_nom_complet": "LYON 1 (8)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "LYON 1 (5)|M",
        "equipe2_nom": "LYON 1 (5)",
        "equipe2_nom_complet": "LYON 1 (5)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "VBMA2PA",
        "priorite": 0,
        "genre": "M",
        "reason": "Aucun créneau disponible",
        "constraints_violated": [],
        "is_entente": true
      },
      {
        "match_id": "M_0229",
        "equipe1_id": "LYON 1 (5)|M",
        "equipe1_nom": "LYON 1 (5)",
        "equipe1_nom_complet": "LYON 1 (5)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "LYON 1 (8)|M",
        "equipe2_nom": "LYON 1 (8)",
        "equipe2_nom_complet": "LYON 1 (8)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBMA2PA",
        "priorite": 0,
        "genre": "M",
        "reason": "Aucun créneau disponible",
        "constraints_violated": [],
        "is_entente": true
      },
      {
        "match_id": "M_0230",
        "equipe1_id": "LYON 1 (6)|M",
        "equipe1_nom": "LYON 1 (6)",
        "equipe1_nom_complet": "LYON 1 (6)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "LYON 1 (4)|M",
        "equipe2_nom": "LYON 1 (4)",
        "equipe2_nom_complet": "LYON 1 (4)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "VBMA2PD",
        "priorite": 0,
        "genre": "M",
        "reason": "Aucun créneau disponible",
        "constraints_violated": [],
        "is_entente": true
      },
      {
        "match_id": "M_0231",
        "equipe1_id": "SANTE (3)|F",
        "equipe1_nom": "SANTE (3)",
        "equipe1_nom_complet": "SANTE (3)",
        "equipe1_institution": "SANTE",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "LYON 2 (7)|F",
        "equipe2_nom": "LYON 2 (7)",
        "equipe2_nom_complet": "LYON 2 (7)",
        "equipe2_institution": "LYON 2",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBFA3PC",
        "priorite": 0,
        "genre": "F",
        "reason": "Aucun créneau disponible",
        "constraints_violated": [],
        "is_entente": false
      },
      {
        "match_id": "M_0232",
        "equipe1_id": "SANTE (3)|F",
        "equipe1_nom": "SANTE (3)",
        "equipe1_nom_complet": "SANTE (3)",
        "equipe1_institution": "SANTE",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "LYON 2 IEP (4)|F",
        "equipe2_nom": "LYON 2 IEP (4)",
        "equipe2_nom_complet": "LYON 2 IEP (4)",
        "equipe2_institution": "LYON 2 IEP",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBFA3PC",
        "priorite": 0,
        "genre": "F",
        "reason": "Aucun créneau disponible",
        "constraints_violated": [],
        "is_entente": false
      },
      {
        "match_id": "M_0233",
        "equipe1_id": "EML (2)|F",
        "equipe1_nom": "EML (2)",
        "equipe1_nom_complet": "EML (2)",
        "equipe1_institution": "EML",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "LYON 2 (7)|F",
        "equipe2_nom": "LYON 2 (7)",
        "equipe2_nom_complet": "LYON 2 (7)",
        "equipe2_institution": "LYON 2",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBFA3PC",
        "priorite": 0,
        "genre": "F",
        "reason": "Aucun créneau disponible",
        "constraints_violated": [],
        "is_entente": false
      },
      {
        "match_id": "M_0234",
        "equipe1_id": "CATHO (1)|F",
        "equipe1_nom": "CATHO (1)",
        "equipe1_nom_complet": "CATHO (1)",
        "equipe1_institution": "CATHO",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "LYON 2 IEP (4)|F",
        "equipe2_nom": "LYON 2 IEP (4)",
        "equipe2_nom_complet": "LYON 2 IEP (4)",
        "equipe2_institution": "LYON 2 IEP",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBFA3PC",
        "priorite": 0,
        "genre": "F",
        "reason": "Aucun créneau disponible",
        "constraints_violated": [],
        "is_entente": false
      },
      {
        "match_id": "M_0235",
        "equipe1_id": "LYON 1 (10)|M",
        "equipe1_nom": "LYON 1 (10)",
        "equipe1_nom_complet": "LYON 1 (10)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "LYON 1 (9)|M",
        "equipe2_nom": "LYON 1 (9)",
        "equipe2_nom_complet": "LYON 1 (9)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBMA3PB",
        "priorite": 0,
        "genre": "M",
        "reason": "Aucun créneau disponible",
        "constraints_violated": [],
        "is_entente": true
      },
      {
        "match_id": "M_0236",
        "equipe1_id": "LYON 1 (9)|M",
        "equipe1_nom": "LYON 1 (9)",
        "equipe1_nom_complet": "LYON 1 (9)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "LYON 1 (10)|M",
        "equipe2_nom": "LYON 1 (10)",
        "equipe2_nom_complet": "LYON 1 (10)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBMA3PB",
        "priorite": 0,
        "genre": "M",
        "reason": "Aucun créneau disponible",
        "constraints_violated": [],
        "is_entente": true
      },
      {
        "match_id": "M_0237",
        "equipe1_id": "LYON 1 (16)|M",
        "equipe1_nom": "LYON 1 (16)",
        "equipe1_nom_complet": "LYON 1 (16)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "SANTE (4)|M",
        "equipe2_nom": "SANTE (4)",
        "equipe2_nom_complet": "SANTE (4)",
        "equipe2_institution": "SANTE",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBMA3PF",
        "priorite": 0,
        "genre": "M",
        "reason": "Aucun créneau disponible",
        "constraints_violated": [],
        "is_entente": true
      },
      {
        "match_id": "M_0238",
        "equipe1_id": "LYON 1 (10)|F",
        "equipe1_nom": "LYON 1 (10)",
        "equipe1_nom_complet": "LYON 1 (10)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "LYON 1 (13)|F",
        "equipe2_nom": "LYON 1 (13)",
        "equipe2_nom_complet": "LYON 1 (13)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBFA4PA",
        "priorite": 0,
        "genre": "F",
        "reason": "Aucun créneau disponible",
        "constraints_violated": [],
        "is_entente": true
      },
      {
        "match_id": "M_0239",
        "equipe1_id": "LYON 1 (10)|F",
        "equipe1_nom": "LYON 1 (10)",
        "equipe1_nom_complet": "LYON 1 (10)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "LYON 1 (7)|F",
        "equipe2_nom": "LYON 1 (7)",
        "equipe2_nom_complet": "LYON 1 (7)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBFA4PA",
        "priorite": 0,
        "genre": "F",
        "reason": "Aucun créneau disponible",
        "constraints_violated": [],
        "is_entente": true
      },
      {
        "match_id": "M_0240",
        "equipe1_id": "LYON 1 (12)|F",
        "equipe1_nom": "LYON 1 (12)",
        "equipe1_nom_complet": "LYON 1 (12)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "LYON 1 (13)|F",
        "equipe2_nom": "LYON 1 (13)",
        "equipe2_nom_complet": "LYON 1 (13)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBFA4PA",
        "priorite": 0,
        "genre": "F",
        "reason": "Aucun créneau disponible",
        "constraints_violated": [],
        "is_entente": true
      },
      {
        "match_id": "M_0241",
        "equipe1_id": "SANTE (5)|F",
        "equipe1_nom": "SANTE (5)",
        "equipe1_nom_complet": "SANTE (5)",
        "equipe1_institution": "SANTE",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "ESA (2)|F",
        "equipe2_nom": "ESA (2)",
        "equipe2_nom_complet": "ESA (2)",
        "equipe2_institution": "ESA",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBFA4PC",
        "priorite": 0,
        "genre": "F",
        "reason": "Aucun créneau disponible",
        "constraints_violated": [],
        "is_entente": false
      },
      {
        "match_id": "M_0242",
        "equipe1_id": "SANTE (5)|F",
        "equipe1_nom": "SANTE (5)",
        "equipe1_nom_complet": "SANTE (5)",
        "equipe1_institution": "SANTE",
        "equipe1_genre": "F",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "SANTE (6)|F",
        "equipe2_nom": "SANTE (6)",
        "equipe2_nom_complet": "SANTE (6)",
        "equipe2_institution": "SANTE",
        "equipe2_genre": "F",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBFA4PC",
        "priorite": 0,
        "genre": "F",
        "reason": "Aucun créneau disponible",
        "constraints_violated": [],
        "is_entente": true
      },
      {
        "match_id": "M_0243",
        "equipe1_id": "LYON 1 (14)|M",
        "equipe1_nom": "LYON 1 (14)",
        "equipe1_nom_complet": "LYON 1 (14)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "LYON 1 (18)|M",
        "equipe2_nom": "LYON 1 (18)",
        "equipe2_nom_complet": "LYON 1 (18)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBMA4PA",
        "priorite": 0,
        "genre": "M",
        "reason": "Aucun créneau disponible",
        "constraints_violated": [],
        "is_entente": true
      },
      {
        "match_id": "M_0244",
        "equipe1_id": "LYON 1 (18)|M",
        "equipe1_nom": "LYON 1 (18)",
        "equipe1_nom_complet": "LYON 1 (18)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "LYON 1 (14)|M",
        "equipe2_nom": "LYON 1 (14)",
        "equipe2_nom_complet": "LYON 1 (14)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBMA4PA",
        "priorite": 0,
        "genre": "M",
        "reason": "Aucun créneau disponible",
        "constraints_violated": [],
        "is_entente": true
      },
      {
        "match_id": "M_0245",
        "equipe1_id": "LYON 1 (20)|M",
        "equipe1_nom": "LYON 1 (20)",
        "equipe1_nom_complet": "LYON 1 (20)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "14:00"
        ],
        "equipe2_id": "LYON 1 (18)|M",
        "equipe2_nom": "LYON 1 (18)",
        "equipe2_nom_complet": "LYON 1 (18)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "14:00"
        ],
        "poule": "VBMA4PA",
        "priorite": 0,
        "genre": "M",
        "reason": "Aucun créneau disponible",
        "constraints_violated": [],
        "is_entente": true
      },
      {
        "match_id": "M_0246",
        "equipe1_id": "LYON 1 (25)|M",
        "equipe1_nom": "LYON 1 (25)",
        "equipe1_nom_complet": "LYON 1 (25)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "LYON 1 (23)|M",
        "equipe2_nom": "LYON 1 (23)",
        "equipe2_nom_complet": "LYON 1 (23)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "VBMA4PC",
        "priorite": 0,
        "genre": "M",
        "reason": "Aucun créneau disponible",
        "constraints_violated": [],
        "is_entente": true
      },
      {
        "match_id": "M_0247",
        "equipe1_id": "LYON 1 (25)|M",
        "equipe1_nom": "LYON 1 (25)",
        "equipe1_nom_complet": "LYON 1 (25)",
        "equipe1_institution": "LYON 1",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "18:00"
        ],
        "equipe2_id": "LYON 1 (19)|M",
        "equipe2_nom": "LYON 1 (19)",
        "equipe2_nom_complet": "LYON 1 (19)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "18:00"
        ],
        "poule": "VBMA4PC",
        "priorite": 0,
        "genre": "M",
        "reason": "Aucun créneau disponible",
        "constraints_violated": [],
        "is_entente": true
      },
      {
        "match_id": "M_0248",
        "equipe1_id": "LYON 3 (5)|M",
        "equipe1_nom": "LYON 3 (5)",
        "equipe1_nom_complet": "LYON 3 (5)",
        "equipe1_institution": "LYON 3",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "CESI (2)|M",
        "equipe2_nom": "CESI (2)",
        "equipe2_nom_complet": "CESI (2)",
        "equipe2_institution": "CESI",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBMA4PD",
        "priorite": 0,
        "genre": "M",
        "reason": "Aucun créneau disponible",
        "constraints_violated": [],
        "is_entente": false
      },
      {
        "match_id": "M_0249",
        "equipe1_id": "CESI (2)|M",
        "equipe1_nom": "CESI (2)",
        "equipe1_nom_complet": "CESI (2)",
        "equipe1_institution": "CESI",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "LYON 1 (17)|M",
        "equipe2_nom": "LYON 1 (17)",
        "equipe2_nom_complet": "LYON 1 (17)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBMA4PD",
        "priorite": 0,
        "genre": "M",
        "reason": "Aucun créneau disponible",
        "constraints_violated": [],
        "is_entente": false
      },
      {
        "match_id": "M_0250",
        "equipe1_id": "SANTE (5)|M",
        "equipe1_nom": "SANTE (5)",
        "equipe1_nom_complet": "SANTE (5)",
        "equipe1_institution": "SANTE",
        "equipe1_genre": "M",
        "equipe1_horaires_preferes": [
          "20:00"
        ],
        "equipe2_id": "LYON 1 (17)|M",
        "equipe2_nom": "LYON 1 (17)",
        "equipe2_nom_complet": "LYON 1 (17)",
        "equipe2_institution": "LYON 1",
        "equipe2_genre": "M",
        "equipe2_horaires_preferes": [
          "20:00"
        ],
        "poule": "VBMA4PD",
        "priorite": 0,
        "genre": "M",
        "reason": "Aucun créneau disponible",
        "constraints_violated": [],
        "is_entente": true
      }
    ]
  },
  "slots": {
    "available": [
      {
        "slot_id": "S_DESCARTES_1_14:00",
        "gymnase": "DESCARTES",
        "semaine": 1,
        "horaire": "14:00",
        "status": "libre"
      },
      {
        "slot_id": "S_DESCARTES_1_16:00",
        "gymnase": "DESCARTES",
        "semaine": 1,
        "horaire": "16:00",
        "status": "libre"
      },
      {
        "slot_id": "S_ECL_1_16:00",
        "gymnase": "ECL",
        "semaine": 1,
        "horaire": "16:00",
        "status": "libre"
      },
      {
        "slot_id": "S_ECL_1_18:00",
        "gymnase": "ECL",
        "semaine": 1,
        "horaire": "18:00",
        "status": "libre"
      },
      {
        "slot_id": "S_L. J. HAUT_1_14:00",
        "gymnase": "L. J. HAUT",
        "semaine": 1,
        "horaire": "14:00",
        "status": "libre"
      },
      {
        "slot_id": "S_L. J. HAUT_1_18:00",
        "gymnase": "L. J. HAUT",
        "semaine": 1,
        "horaire": "18:00",
        "status": "libre"
      },
      {
        "slot_id": "S_L. J. HAUT_1_20:00",
        "gymnase": "L. J. HAUT",
        "semaine": 1,
        "horaire": "20:00",
        "status": "libre"
      },
      {
        "slot_id": "S_DESCARTES_2_14:00",
        "gymnase": "DESCARTES",
        "semaine": 2,
        "horaire": "14:00",
        "status": "libre"
      },
      {
        "slot_id": "S_DESCARTES_2_16:00",
        "gymnase": "DESCARTES",
        "semaine": 2,
        "horaire": "16:00",
        "status": "libre"
      },
      {
        "slot_id": "S_DESCARTES_2_18:00",
        "gymnase": "DESCARTES",
        "semaine": 2,
        "horaire": "18:00",
        "status": "libre"
      },
      {
        "slot_id": "S_DESCARTES_2_20:00",
        "gymnase": "DESCARTES",
        "semaine": 2,
        "horaire": "20:00",
        "status": "libre"
      },
      {
        "slot_id": "S_ECL_2_18:00",
        "gymnase": "ECL",
        "semaine": 2,
        "horaire": "18:00",
        "status": "libre"
      },
      {
        "slot_id": "S_ESA_2_20:00",
        "gymnase": "ESA",
        "semaine": 2,
        "horaire": "20:00",
        "status": "libre"
      },
      {
        "slot_id": "S_L. J. HAUT_2_16:00",
        "gymnase": "L. J. HAUT",
        "semaine": 2,
        "horaire": "16:00",
        "status": "libre"
      },
      {
        "slot_id": "S_DESCARTES_4_14:00",
        "gymnase": "DESCARTES",
        "semaine": 4,
        "horaire": "14:00",
        "status": "libre"
      },
      {
        "slot_id": "S_DESCARTES_4_16:00",
        "gymnase": "DESCARTES",
        "semaine": 4,
        "horaire": "16:00",
        "status": "libre"
      },
      {
        "slot_id": "S_DESCARTES_4_18:00",
        "gymnase": "DESCARTES",
        "semaine": 4,
        "horaire": "18:00",
        "status": "libre"
      },
      {
        "slot_id": "S_DESCARTES_4_20:00",
        "gymnase": "DESCARTES",
        "semaine": 4,
        "horaire": "20:00",
        "status": "libre"
      },
      {
        "slot_id": "S_ECL_4_18:00",
        "gymnase": "ECL",
        "semaine": 4,
        "horaire": "18:00",
        "status": "libre"
      },
      {
        "slot_id": "S_ESA_4_20:00",
        "gymnase": "ESA",
        "semaine": 4,
        "horaire": "20:00",
        "status": "libre"
      },
      {
        "slot_id": "S_LYON 2 HC_4_18:00",
        "gymnase": "LYON 2 HC",
        "semaine": 4,
        "horaire": "18:00",
        "status": "libre"
      },
      {
        "slot_id": "S_LYON 2 HC_4_20:00",
        "gymnase": "LYON 2 HC",
        "semaine": 4,
        "horaire": "20:00",
        "status": "libre"
      },
      {
        "slot_id": "S_L. J. HAUT_4_14:00",
        "gymnase": "L. J. HAUT",
        "semaine": 4,
        "horaire": "14:00",
        "status": "libre"
      },
      {
        "slot_id": "S_L. J. HAUT_4_16:00",
        "gymnase": "L. J. HAUT",
        "semaine": 4,
        "horaire": "16:00",
        "status": "libre"
      },
      {
        "slot_id": "S_DESCARTES_5_14:00",
        "gymnase": "DESCARTES",
        "semaine": 5,
        "horaire": "14:00",
        "status": "libre"
      },
      {
        "slot_id": "S_DESCARTES_5_16:00",
        "gymnase": "DESCARTES",
        "semaine": 5,
        "horaire": "16:00",
        "status": "libre"
      },
      {
        "slot_id": "S_ECL_5_16:00",
        "gymnase": "ECL",
        "semaine": 5,
        "horaire": "16:00",
        "status": "libre"
      },
      {
        "slot_id": "S_ECL_5_18:00",
        "gymnase": "ECL",
        "semaine": 5,
        "horaire": "18:00",
        "status": "libre"
      },
      {
        "slot_id": "S_LYON 2 HC_5_18:00",
        "gymnase": "LYON 2 HC",
        "semaine": 5,
        "horaire": "18:00",
        "status": "libre"
      },
      {
        "slot_id": "S_LYON 2 HC_5_20:00",
        "gymnase": "LYON 2 HC",
        "semaine": 5,
        "horaire": "20:00",
        "status": "libre"
      },
      {
        "slot_id": "S_LAENNEC_5_16:00",
        "gymnase": "LAENNEC",
        "semaine": 5,
        "horaire": "16:00",
        "status": "libre"
      },
      {
        "slot_id": "S_L. J. HAUT_5_14:00",
        "gymnase": "L. J. HAUT",
        "semaine": 5,
        "horaire": "14:00",
        "status": "libre"
      },
      {
        "slot_id": "S_L. J. HAUT_5_16:00",
        "gymnase": "L. J. HAUT",
        "semaine": 5,
        "horaire": "16:00",
        "status": "libre"
      },
      {
        "slot_id": "S_L. J. HAUT_5_18:00",
        "gymnase": "L. J. HAUT",
        "semaine": 5,
        "horaire": "18:00",
        "status": "libre"
      },
      {
        "slot_id": "S_DESCARTES_6_14:00",
        "gymnase": "DESCARTES",
        "semaine": 6,
        "horaire": "14:00",
        "status": "libre"
      },
      {
        "slot_id": "S_DESCARTES_6_16:00",
        "gymnase": "DESCARTES",
        "semaine": 6,
        "horaire": "16:00",
        "status": "libre"
      },
      {
        "slot_id": "S_DESCARTES_6_18:00",
        "gymnase": "DESCARTES",
        "semaine": 6,
        "horaire": "18:00",
        "status": "libre"
      },
      {
        "slot_id": "S_ECL_6_18:00",
        "gymnase": "ECL",
        "semaine": 6,
        "horaire": "18:00",
        "status": "libre"
      },
      {
        "slot_id": "S_ESA_6_20:00",
        "gymnase": "ESA",
        "semaine": 6,
        "horaire": "20:00",
        "status": "libre"
      },
      {
        "slot_id": "S_LYON 2 HC_6_18:00",
        "gymnase": "LYON 2 HC",
        "semaine": 6,
        "horaire": "18:00",
        "status": "libre"
      },
      {
        "slot_id": "S_LYON 2 HC_6_20:00",
        "gymnase": "LYON 2 HC",
        "semaine": 6,
        "horaire": "20:00",
        "status": "libre"
      },
      {
        "slot_id": "S_LAENNEC_6_16:00",
        "gymnase": "LAENNEC",
        "semaine": 6,
        "horaire": "16:00",
        "status": "libre"
      },
      {
        "slot_id": "S_L. J. HAUT_6_14:00",
        "gymnase": "L. J. HAUT",
        "semaine": 6,
        "horaire": "14:00",
        "status": "libre"
      },
      {
        "slot_id": "S_L. J. HAUT_6_16:00",
        "gymnase": "L. J. HAUT",
        "semaine": 6,
        "horaire": "16:00",
        "status": "libre"
      },
      {
        "slot_id": "S_DESCARTES_7_14:00",
        "gymnase": "DESCARTES",
        "semaine": 7,
        "horaire": "14:00",
        "status": "libre"
      },
      {
        "slot_id": "S_DESCARTES_7_16:00",
        "gymnase": "DESCARTES",
        "semaine": 7,
        "horaire": "16:00",
        "status": "libre"
      },
      {
        "slot_id": "S_DESCARTES_7_18:00",
        "gymnase": "DESCARTES",
        "semaine": 7,
        "horaire": "18:00",
        "status": "libre"
      },
      {
        "slot_id": "S_DESCARTES_7_20:00",
        "gymnase": "DESCARTES",
        "semaine": 7,
        "horaire": "20:00",
        "status": "libre"
      },
      {
        "slot_id": "S_ECL_7_16:00",
        "gymnase": "ECL",
        "semaine": 7,
        "horaire": "16:00",
        "status": "libre"
      },
      {
        "slot_id": "S_ECL_7_18:00",
        "gymnase": "ECL",
        "semaine": 7,
        "horaire": "18:00",
        "status": "libre"
      },
      {
        "slot_id": "S_ESA_7_20:00",
        "gymnase": "ESA",
        "semaine": 7,
        "horaire": "20:00",
        "status": "libre"
      },
      {
        "slot_id": "S_LAENNEC_7_16:00",
        "gymnase": "LAENNEC",
        "semaine": 7,
        "horaire": "16:00",
        "status": "libre"
      },
      {
        "slot_id": "S_L. J. HAUT_7_14:00",
        "gymnase": "L. J. HAUT",
        "semaine": 7,
        "horaire": "14:00",
        "status": "libre"
      },
      {
        "slot_id": "S_L. J. HAUT_7_16:00",
        "gymnase": "L. J. HAUT",
        "semaine": 7,
        "horaire": "16:00",
        "status": "libre"
      },
      {
        "slot_id": "S_DESCARTES_8_14:00",
        "gymnase": "DESCARTES",
        "semaine": 8,
        "horaire": "14:00",
        "status": "libre"
      },
      {
        "slot_id": "S_DESCARTES_8_16:00",
        "gymnase": "DESCARTES",
        "semaine": 8,
        "horaire": "16:00",
        "status": "libre"
      },
      {
        "slot_id": "S_ECL_8_18:00",
        "gymnase": "ECL",
        "semaine": 8,
        "horaire": "18:00",
        "status": "libre"
      },
      {
        "slot_id": "S_LYON 2 HC_8_18:00",
        "gymnase": "LYON 2 HC",
        "semaine": 8,
        "horaire": "18:00",
        "status": "libre"
      },
      {
        "slot_id": "S_LYON 2 HC_8_20:00",
        "gymnase": "LYON 2 HC",
        "semaine": 8,
        "horaire": "20:00",
        "status": "libre"
      },
      {
        "slot_id": "S_L. J. HAUT_8_14:00",
        "gymnase": "L. J. HAUT",
        "semaine": 8,
        "horaire": "14:00",
        "status": "libre"
      },
      {
        "slot_id": "S_L. J. HAUT_8_16:00",
        "gymnase": "L. J. HAUT",
        "semaine": 8,
        "horaire": "16:00",
        "status": "libre"
      },
      {
        "slot_id": "S_DESCARTES_9_14:00",
        "gymnase": "DESCARTES",
        "semaine": 9,
        "horaire": "14:00",
        "status": "libre"
      },
      {
        "slot_id": "S_DESCARTES_9_16:00",
        "gymnase": "DESCARTES",
        "semaine": 9,
        "horaire": "16:00",
        "status": "libre"
      },
      {
        "slot_id": "S_ECL_9_16:00",
        "gymnase": "ECL",
        "semaine": 9,
        "horaire": "16:00",
        "status": "libre"
      },
      {
        "slot_id": "S_ECL_9_18:00",
        "gymnase": "ECL",
        "semaine": 9,
        "horaire": "18:00",
        "status": "libre"
      },
      {
        "slot_id": "S_ESA_9_20:00",
        "gymnase": "ESA",
        "semaine": 9,
        "horaire": "20:00",
        "status": "libre"
      },
      {
        "slot_id": "S_LYON 2 HC_9_18:00",
        "gymnase": "LYON 2 HC",
        "semaine": 9,
        "horaire": "18:00",
        "status": "libre"
      },
      {
        "slot_id": "S_LYON 2 HC_9_20:00",
        "gymnase": "LYON 2 HC",
        "semaine": 9,
        "horaire": "20:00",
        "status": "libre"
      },
      {
        "slot_id": "S_LAENNEC_9_18:00",
        "gymnase": "LAENNEC",
        "semaine": 9,
        "horaire": "18:00",
        "status": "libre"
      },
      {
        "slot_id": "S_LAENNEC_9_20:00",
        "gymnase": "LAENNEC",
        "semaine": 9,
        "horaire": "20:00",
        "status": "libre"
      },
      {
        "slot_id": "S_BESSON_9_18:00",
        "gymnase": "BESSON",
        "semaine": 9,
        "horaire": "18:00",
        "status": "libre"
      },
      {
        "slot_id": "S_L. J. HAUT_9_14:00",
        "gymnase": "L. J. HAUT",
        "semaine": 9,
        "horaire": "14:00",
        "status": "libre"
      },
      {
        "slot_id": "S_L. J. HAUT_9_16:00",
        "gymnase": "L. J. HAUT",
        "semaine": 9,
        "horaire": "16:00",
        "status": "libre"
      },
      {
        "slot_id": "S_L. J. HAUT_9_18:00",
        "gymnase": "L. J. HAUT",
        "semaine": 9,
        "horaire": "18:00",
        "status": "libre"
      },
      {
        "slot_id": "S_L. J. HAUT_9_20:00",
        "gymnase": "L. J. HAUT",
        "semaine": 9,
        "horaire": "20:00",
        "status": "libre"
      },
      {
        "slot_id": "S_DESCARTES_13_14:00",
        "gymnase": "DESCARTES",
        "semaine": 13,
        "horaire": "14:00",
        "status": "libre"
      },
      {
        "slot_id": "S_DESCARTES_13_16:00",
        "gymnase": "DESCARTES",
        "semaine": 13,
        "horaire": "16:00",
        "status": "libre"
      },
      {
        "slot_id": "S_DESCARTES_13_18:00",
        "gymnase": "DESCARTES",
        "semaine": 13,
        "horaire": "18:00",
        "status": "libre"
      },
      {
        "slot_id": "S_DESCARTES_13_20:00",
        "gymnase": "DESCARTES",
        "semaine": 13,
        "horaire": "20:00",
        "status": "libre"
      },
      {
        "slot_id": "S_ECL_13_16:00",
        "gymnase": "ECL",
        "semaine": 13,
        "horaire": "16:00",
        "status": "libre"
      },
      {
        "slot_id": "S_ECL_13_18:00",
        "gymnase": "ECL",
        "semaine": 13,
        "horaire": "18:00",
        "status": "libre"
      },
      {
        "slot_id": "S_ESA_13_20:00",
        "gymnase": "ESA",
        "semaine": 13,
        "horaire": "20:00",
        "status": "libre"
      },
      {
        "slot_id": "S_LYON 2 HC_13_18:00",
        "gymnase": "LYON 2 HC",
        "semaine": 13,
        "horaire": "18:00",
        "status": "libre"
      },
      {
        "slot_id": "S_LYON 2 HC_13_20:00",
        "gymnase": "LYON 2 HC",
        "semaine": 13,
        "horaire": "20:00",
        "status": "libre"
      },
      {
        "slot_id": "S_LAENNEC_13_16:00",
        "gymnase": "LAENNEC",
        "semaine": 13,
        "horaire": "16:00",
        "status": "libre"
      },
      {
        "slot_id": "S_LAENNEC_13_18:00",
        "gymnase": "LAENNEC",
        "semaine": 13,
        "horaire": "18:00",
        "status": "libre"
      },
      {
        "slot_id": "S_LAENNEC_13_20:00",
        "gymnase": "LAENNEC",
        "semaine": 13,
        "horaire": "20:00",
        "status": "libre"
      },
      {
        "slot_id": "S_L. J. HAUT_13_14:00",
        "gymnase": "L. J. HAUT",
        "semaine": 13,
        "horaire": "14:00",
        "status": "libre"
      },
      {
        "slot_id": "S_L. J. HAUT_13_16:00",
        "gymnase": "L. J. HAUT",
        "semaine": 13,
        "horaire": "16:00",
        "status": "libre"
      },
      {
        "slot_id": "S_L. J. HAUT_13_18:00",
        "gymnase": "L. J. HAUT",
        "semaine": 13,
        "horaire": "18:00",
        "status": "libre"
      },
      {
        "slot_id": "S_L. J. HAUT_13_20:00",
        "gymnase": "L. J. HAUT",
        "semaine": 13,
        "horaire": "20:00",
        "status": "libre"
      }
    ],
    "occupied": [
      {
        "slot_id": "S_ECL_1_14:00",
        "gymnase": "ECL",
        "semaine": 1,
        "horaire": "14:00",
        "status": "occupé",
        "match_id": "M_0000"
      },
      {
        "slot_id": "S_BESSON_1_14:00",
        "gymnase": "BESSON",
        "semaine": 1,
        "horaire": "14:00",
        "status": "occupé",
        "match_id": "M_0001"
      },
      {
        "slot_id": "S_BESSON_1_16:00",
        "gymnase": "BESSON",
        "semaine": 1,
        "horaire": "16:00",
        "status": "occupé",
        "match_id": "M_0005"
      },
      {
        "slot_id": "S_LAENNEC_1_16:00",
        "gymnase": "LAENNEC",
        "semaine": 1,
        "horaire": "16:00",
        "status": "occupé",
        "match_id": "M_0006"
      },
      {
        "slot_id": "S_L. J. HAUT_1_16:00",
        "gymnase": "L. J. HAUT",
        "semaine": 1,
        "horaire": "16:00",
        "status": "occupé",
        "match_id": "M_0007"
      },
      {
        "slot_id": "S_BESSON_1_18:00",
        "gymnase": "BESSON",
        "semaine": 1,
        "horaire": "18:00",
        "status": "occupé",
        "match_id": "M_0013"
      },
      {
        "slot_id": "S_LYON 2 HC_1_18:00",
        "gymnase": "LYON 2 HC",
        "semaine": 1,
        "horaire": "18:00",
        "status": "occupé",
        "match_id": "M_0014"
      },
      {
        "slot_id": "S_DESCARTES_1_18:00",
        "gymnase": "DESCARTES",
        "semaine": 1,
        "horaire": "18:00",
        "status": "occupé",
        "match_id": "M_0011"
      },
      {
        "slot_id": "S_LAENNEC_1_18:00",
        "gymnase": "LAENNEC",
        "semaine": 1,
        "horaire": "18:00",
        "status": "occupé",
        "match_id": "M_0012"
      },
      {
        "slot_id": "S_LAENNEC_1_20:00",
        "gymnase": "LAENNEC",
        "semaine": 1,
        "horaire": "20:00",
        "status": "occupé",
        "match_id": "M_0023"
      },
      {
        "slot_id": "S_BESSON_1_20:00",
        "gymnase": "BESSON",
        "semaine": 1,
        "horaire": "20:00",
        "status": "occupé",
        "match_id": "M_0022"
      },
      {
        "slot_id": "S_LYON 2 HC_1_20:00",
        "gymnase": "LYON 2 HC",
        "semaine": 1,
        "horaire": "20:00",
        "status": "occupé",
        "match_id": "M_0024"
      },
      {
        "slot_id": "S_ESA_1_20:00",
        "gymnase": "ESA",
        "semaine": 1,
        "horaire": "20:00",
        "status": "occupé",
        "match_id": "M_0018"
      },
      {
        "slot_id": "S_DESCARTES_1_20:00",
        "gymnase": "DESCARTES",
        "semaine": 1,
        "horaire": "20:00",
        "status": "occupé",
        "match_id": "M_0021"
      },
      {
        "slot_id": "S_BESSON_2_14:00",
        "gymnase": "BESSON",
        "semaine": 2,
        "horaire": "14:00",
        "status": "occupé",
        "match_id": "M_0030"
      },
      {
        "slot_id": "S_ECL_2_14:00",
        "gymnase": "ECL",
        "semaine": 2,
        "horaire": "14:00",
        "status": "occupé",
        "match_id": "M_0028"
      },
      {
        "slot_id": "S_L. J. HAUT_2_14:00",
        "gymnase": "L. J. HAUT",
        "semaine": 2,
        "horaire": "14:00",
        "status": "occupé",
        "match_id": "M_0029"
      },
      {
        "slot_id": "S_ENTPE_2_16:00",
        "gymnase": "ENTPE",
        "semaine": 2,
        "horaire": "16:00",
        "status": "occupé",
        "match_id": "M_0032"
      },
      {
        "slot_id": "S_BESSON_2_16:00",
        "gymnase": "BESSON",
        "semaine": 2,
        "horaire": "16:00",
        "status": "occupé",
        "match_id": "M_0039"
      },
      {
        "slot_id": "S_ECL_2_16:00",
        "gymnase": "ECL",
        "semaine": 2,
        "horaire": "16:00",
        "status": "occupé",
        "match_id": "M_0036"
      },
      {
        "slot_id": "S_LAENNEC_2_16:00",
        "gymnase": "LAENNEC",
        "semaine": 2,
        "horaire": "16:00",
        "status": "occupé",
        "match_id": "M_0038"
      },
      {
        "slot_id": "S_L. J. HAUT_2_18:00",
        "gymnase": "L. J. HAUT",
        "semaine": 2,
        "horaire": "18:00",
        "status": "occupé",
        "match_id": "M_0040"
      },
      {
        "slot_id": "S_BESSON_2_18:00",
        "gymnase": "BESSON",
        "semaine": 2,
        "horaire": "18:00",
        "status": "occupé",
        "match_id": "M_0043"
      },
      {
        "slot_id": "S_LYON 2 HC_2_18:00",
        "gymnase": "LYON 2 HC",
        "semaine": 2,
        "horaire": "18:00",
        "status": "occupé",
        "match_id": "M_0046"
      },
      {
        "slot_id": "S_LAENNEC_2_18:00",
        "gymnase": "LAENNEC",
        "semaine": 2,
        "horaire": "18:00",
        "status": "occupé",
        "match_id": "M_0047"
      },
      {
        "slot_id": "S_DESCARTES_2_19:00",
        "gymnase": "DESCARTES",
        "semaine": 2,
        "horaire": "19:00",
        "status": "occupé",
        "match_id": "M_0048"
      },
      {
        "slot_id": "S_LYON 2 HC_2_20:00",
        "gymnase": "LYON 2 HC",
        "semaine": 2,
        "horaire": "20:00",
        "status": "occupé",
        "match_id": "M_0050"
      },
      {
        "slot_id": "S_LAENNEC_2_20:00",
        "gymnase": "LAENNEC",
        "semaine": 2,
        "horaire": "20:00",
        "status": "occupé",
        "match_id": "M_0056"
      },
      {
        "slot_id": "S_L. J. HAUT_2_20:00",
        "gymnase": "L. J. HAUT",
        "semaine": 2,
        "horaire": "20:00",
        "status": "occupé",
        "match_id": "M_0053"
      },
      {
        "slot_id": "S_BESSON_2_20:00",
        "gymnase": "BESSON",
        "semaine": 2,
        "horaire": "20:00",
        "status": "occupé",
        "match_id": "M_0057"
      },
      {
        "slot_id": "S_DESCARTES_2_20:30",
        "gymnase": "DESCARTES",
        "semaine": 2,
        "horaire": "20:30",
        "status": "occupé",
        "match_id": "M_0058"
      },
      {
        "slot_id": "S_ECL_4_14:00",
        "gymnase": "ECL",
        "semaine": 4,
        "horaire": "14:00",
        "status": "occupé",
        "match_id": "M_0059"
      },
      {
        "slot_id": "S_BESSON_4_14:00",
        "gymnase": "BESSON",
        "semaine": 4,
        "horaire": "14:00",
        "status": "occupé",
        "match_id": "M_0061"
      },
      {
        "slot_id": "S_DESCARTES_4_15:00",
        "gymnase": "DESCARTES",
        "semaine": 4,
        "horaire": "15:00",
        "status": "occupé",
        "match_id": "M_0062"
      },
      {
        "slot_id": "S_ENTPE_4_15:30",
        "gymnase": "ENTPE",
        "semaine": 4,
        "horaire": "15:30",
        "status": "occupé",
        "match_id": "M_0063"
      },
      {
        "slot_id": "S_BESSON_4_16:00",
        "gymnase": "BESSON",
        "semaine": 4,
        "horaire": "16:00",
        "status": "occupé",
        "match_id": "M_0067"
      },
      {
        "slot_id": "S_ECL_4_16:00",
        "gymnase": "ECL",
        "semaine": 4,
        "horaire": "16:00",
        "status": "occupé",
        "match_id": "M_0066"
      },
      {
        "slot_id": "S_LAENNEC_4_16:00",
        "gymnase": "LAENNEC",
        "semaine": 4,
        "horaire": "16:00",
        "status": "occupé",
        "match_id": "M_0068"
      },
      {
        "slot_id": "S_BESSON_4_18:00",
        "gymnase": "BESSON",
        "semaine": 4,
        "horaire": "18:00",
        "status": "occupé",
        "match_id": "M_0071"
      },
      {
        "slot_id": "S_LAENNEC_4_18:00",
        "gymnase": "LAENNEC",
        "semaine": 4,
        "horaire": "18:00",
        "status": "occupé",
        "match_id": "M_0075"
      },
      {
        "slot_id": "S_L. J. HAUT_4_18:00",
        "gymnase": "L. J. HAUT",
        "semaine": 4,
        "horaire": "18:00",
        "status": "occupé",
        "match_id": "M_0073"
      },
      {
        "slot_id": "S_DESCARTES_4_18:45",
        "gymnase": "DESCARTES",
        "semaine": 4,
        "horaire": "18:45",
        "status": "occupé",
        "match_id": "M_0076"
      },
      {
        "slot_id": "S_BESSON_4_20:00",
        "gymnase": "BESSON",
        "semaine": 4,
        "horaire": "20:00",
        "status": "occupé",
        "match_id": "M_0080"
      },
      {
        "slot_id": "S_L. J. HAUT_4_20:00",
        "gymnase": "L. J. HAUT",
        "semaine": 4,
        "horaire": "20:00",
        "status": "occupé",
        "match_id": "M_0079"
      },
      {
        "slot_id": "S_LAENNEC_4_20:00",
        "gymnase": "LAENNEC",
        "semaine": 4,
        "horaire": "20:00",
        "status": "occupé",
        "match_id": "M_0083"
      },
      {
        "slot_id": "S_DESCARTES_4_20:30",
        "gymnase": "DESCARTES",
        "semaine": 4,
        "horaire": "20:30",
        "status": "occupé",
        "match_id": "M_0084"
      },
      {
        "slot_id": "S_BESSON_5_14:00",
        "gymnase": "BESSON",
        "semaine": 5,
        "horaire": "14:00",
        "status": "occupé",
        "match_id": "M_0089"
      },
      {
        "slot_id": "S_ECL_5_14:00",
        "gymnase": "ECL",
        "semaine": 5,
        "horaire": "14:00",
        "status": "occupé",
        "match_id": "M_0088"
      },
      {
        "slot_id": "S_GRENOBLE_5_14:30",
        "gymnase": "GRENOBLE",
        "semaine": 5,
        "horaire": "14:30",
        "status": "occupé",
        "match_id": "M_0090"
      },
      {
        "slot_id": "S_BESSON_5_16:00",
        "gymnase": "BESSON",
        "semaine": 5,
        "horaire": "16:00",
        "status": "occupé",
        "match_id": "M_0093"
      },
      {
        "slot_id": "S_GRENOBLE_5_16:00",
        "gymnase": "GRENOBLE",
        "semaine": 5,
        "horaire": "16:00",
        "status": "occupé",
        "match_id": "M_0094"
      },
      {
        "slot_id": "S_BESSON_5_18:00",
        "gymnase": "BESSON",
        "semaine": 5,
        "horaire": "18:00",
        "status": "occupé",
        "match_id": "M_0097"
      },
      {
        "slot_id": "S_DESCARTES_5_18:00",
        "gymnase": "DESCARTES",
        "semaine": 5,
        "horaire": "18:00",
        "status": "occupé",
        "match_id": "M_0098"
      },
      {
        "slot_id": "S_LAENNEC_5_18:00",
        "gymnase": "LAENNEC",
        "semaine": 5,
        "horaire": "18:00",
        "status": "occupé",
        "match_id": "M_0100"
      },
      {
        "slot_id": "S_DESCARTES_5_20:00",
        "gymnase": "DESCARTES",
        "semaine": 5,
        "horaire": "20:00",
        "status": "occupé",
        "match_id": "M_0101"
      },
      {
        "slot_id": "S_LAENNEC_5_20:00",
        "gymnase": "LAENNEC",
        "semaine": 5,
        "horaire": "20:00",
        "status": "occupé",
        "match_id": "M_0109"
      },
      {
        "slot_id": "S_BESSON_5_20:00",
        "gymnase": "BESSON",
        "semaine": 5,
        "horaire": "20:00",
        "status": "occupé",
        "match_id": "M_0107"
      },
      {
        "slot_id": "S_ESA_5_20:00",
        "gymnase": "ESA",
        "semaine": 5,
        "horaire": "20:00",
        "status": "occupé",
        "match_id": "M_0105"
      },
      {
        "slot_id": "S_L. J. HAUT_5_20:00",
        "gymnase": "L. J. HAUT",
        "semaine": 5,
        "horaire": "20:00",
        "status": "occupé",
        "match_id": "M_0106"
      },
      {
        "slot_id": "S_BESSON_6_14:00",
        "gymnase": "BESSON",
        "semaine": 6,
        "horaire": "14:00",
        "status": "occupé",
        "match_id": "M_0112"
      },
      {
        "slot_id": "S_ECL_6_14:00",
        "gymnase": "ECL",
        "semaine": 6,
        "horaire": "14:00",
        "status": "occupé",
        "match_id": "M_0113"
      },
      {
        "slot_id": "S_BESSON_6_16:00",
        "gymnase": "BESSON",
        "semaine": 6,
        "horaire": "16:00",
        "status": "occupé",
        "match_id": "M_0116"
      },
      {
        "slot_id": "S_ECL_6_16:00",
        "gymnase": "ECL",
        "semaine": 6,
        "horaire": "16:00",
        "status": "occupé",
        "match_id": "M_0117"
      },
      {
        "slot_id": "S_DESCARTES_6_17:00",
        "gymnase": "DESCARTES",
        "semaine": 6,
        "horaire": "17:00",
        "status": "occupé",
        "match_id": "M_0118"
      },
      {
        "slot_id": "S_LAENNEC_6_18:00",
        "gymnase": "LAENNEC",
        "semaine": 6,
        "horaire": "18:00",
        "status": "occupé",
        "match_id": "M_0124"
      },
      {
        "slot_id": "S_BESSON_6_18:00",
        "gymnase": "BESSON",
        "semaine": 6,
        "horaire": "18:00",
        "status": "occupé",
        "match_id": "M_0123"
      },
      {
        "slot_id": "S_L. J. HAUT_6_18:00",
        "gymnase": "L. J. HAUT",
        "semaine": 6,
        "horaire": "18:00",
        "status": "occupé",
        "match_id": "M_0125"
      },
      {
        "slot_id": "S_DESCARTES_6_20:00",
        "gymnase": "DESCARTES",
        "semaine": 6,
        "horaire": "20:00",
        "status": "occupé",
        "match_id": "M_0126"
      },
      {
        "slot_id": "S_BESSON_6_20:00",
        "gymnase": "BESSON",
        "semaine": 6,
        "horaire": "20:00",
        "status": "occupé",
        "match_id": "M_0131"
      },
      {
        "slot_id": "S_L. J. HAUT_6_20:00",
        "gymnase": "L. J. HAUT",
        "semaine": 6,
        "horaire": "20:00",
        "status": "occupé",
        "match_id": "M_0128"
      },
      {
        "slot_id": "S_LAENNEC_6_20:00",
        "gymnase": "LAENNEC",
        "semaine": 6,
        "horaire": "20:00",
        "status": "occupé",
        "match_id": "M_0133"
      },
      {
        "slot_id": "S_BESSON_7_14:00",
        "gymnase": "BESSON",
        "semaine": 7,
        "horaire": "14:00",
        "status": "occupé",
        "match_id": "M_0138"
      },
      {
        "slot_id": "S_ECL_7_14:00",
        "gymnase": "ECL",
        "semaine": 7,
        "horaire": "14:00",
        "status": "occupé",
        "match_id": "M_0137"
      },
      {
        "slot_id": "S_GRENOBLE_7_15:00",
        "gymnase": "GRENOBLE",
        "semaine": 7,
        "horaire": "15:00",
        "status": "occupé",
        "match_id": "M_0139"
      },
      {
        "slot_id": "S_ENTPE_7_15:30",
        "gymnase": "ENTPE",
        "semaine": 7,
        "horaire": "15:30",
        "status": "occupé",
        "match_id": "M_0140"
      },
      {
        "slot_id": "S_BESSON_7_16:00",
        "gymnase": "BESSON",
        "semaine": 7,
        "horaire": "16:00",
        "status": "occupé",
        "match_id": "M_0143"
      },
      {
        "slot_id": "S_BESSON_7_18:00",
        "gymnase": "BESSON",
        "semaine": 7,
        "horaire": "18:00",
        "status": "occupé",
        "match_id": "M_0146"
      },
      {
        "slot_id": "S_LAENNEC_7_18:00",
        "gymnase": "LAENNEC",
        "semaine": 7,
        "horaire": "18:00",
        "status": "occupé",
        "match_id": "M_0150"
      },
      {
        "slot_id": "S_LYON 2 HC_7_18:00",
        "gymnase": "LYON 2 HC",
        "semaine": 7,
        "horaire": "18:00",
        "status": "occupé",
        "match_id": "M_0152"
      },
      {
        "slot_id": "S_L. J. HAUT_7_18:00",
        "gymnase": "L. J. HAUT",
        "semaine": 7,
        "horaire": "18:00",
        "status": "occupé",
        "match_id": "M_0153"
      },
      {
        "slot_id": "S_LYON 2 HC_7_20:00",
        "gymnase": "LYON 2 HC",
        "semaine": 7,
        "horaire": "20:00",
        "status": "occupé",
        "match_id": "M_0160"
      },
      {
        "slot_id": "S_LAENNEC_7_20:00",
        "gymnase": "LAENNEC",
        "semaine": 7,
        "horaire": "20:00",
        "status": "occupé",
        "match_id": "M_0162"
      },
      {
        "slot_id": "S_BESSON_7_20:00",
        "gymnase": "BESSON",
        "semaine": 7,
        "horaire": "20:00",
        "status": "occupé",
        "match_id": "M_0161"
      },
      {
        "slot_id": "S_L. J. HAUT_7_20:00",
        "gymnase": "L. J. HAUT",
        "semaine": 7,
        "horaire": "20:00",
        "status": "occupé",
        "match_id": "M_0163"
      },
      {
        "slot_id": "S_BESSON_8_14:00",
        "gymnase": "BESSON",
        "semaine": 8,
        "horaire": "14:00",
        "status": "occupé",
        "match_id": "M_0168"
      },
      {
        "slot_id": "S_ECL_8_14:00",
        "gymnase": "ECL",
        "semaine": 8,
        "horaire": "14:00",
        "status": "occupé",
        "match_id": "M_0167"
      },
      {
        "slot_id": "S_ECL_8_16:00",
        "gymnase": "ECL",
        "semaine": 8,
        "horaire": "16:00",
        "status": "occupé",
        "match_id": "M_0174"
      },
      {
        "slot_id": "S_BESSON_8_16:00",
        "gymnase": "BESSON",
        "semaine": 8,
        "horaire": "16:00",
        "status": "occupé",
        "match_id": "M_0173"
      },
      {
        "slot_id": "S_LAENNEC_8_16:00",
        "gymnase": "LAENNEC",
        "semaine": 8,
        "horaire": "16:00",
        "status": "occupé",
        "match_id": "M_0171"
      },
      {
        "slot_id": "S_BESSON_8_18:00",
        "gymnase": "BESSON",
        "semaine": 8,
        "horaire": "18:00",
        "status": "occupé",
        "match_id": "M_0178"
      },
      {
        "slot_id": "S_LAENNEC_8_18:00",
        "gymnase": "LAENNEC",
        "semaine": 8,
        "horaire": "18:00",
        "status": "occupé",
        "match_id": "M_0182"
      },
      {
        "slot_id": "S_L. J. HAUT_8_18:00",
        "gymnase": "L. J. HAUT",
        "semaine": 8,
        "horaire": "18:00",
        "status": "occupé",
        "match_id": "M_0179"
      },
      {
        "slot_id": "S_DESCARTES_8_18:00",
        "gymnase": "DESCARTES",
        "semaine": 8,
        "horaire": "18:00",
        "status": "occupé",
        "match_id": "M_0180"
      },
      {
        "slot_id": "S_BESSON_8_20:00",
        "gymnase": "BESSON",
        "semaine": 8,
        "horaire": "20:00",
        "status": "occupé",
        "match_id": "M_0188"
      },
      {
        "slot_id": "S_DESCARTES_8_20:00",
        "gymnase": "DESCARTES",
        "semaine": 8,
        "horaire": "20:00",
        "status": "occupé",
        "match_id": "M_0184"
      },
      {
        "slot_id": "S_LAENNEC_8_20:00",
        "gymnase": "LAENNEC",
        "semaine": 8,
        "horaire": "20:00",
        "status": "occupé",
        "match_id": "M_0191"
      },
      {
        "slot_id": "S_L. J. HAUT_8_20:00",
        "gymnase": "L. J. HAUT",
        "semaine": 8,
        "horaire": "20:00",
        "status": "occupé",
        "match_id": "M_0187"
      },
      {
        "slot_id": "S_ESA_8_20:00",
        "gymnase": "ESA",
        "semaine": 8,
        "horaire": "20:00",
        "status": "occupé",
        "match_id": "M_0189"
      },
      {
        "slot_id": "S_BESSON_9_14:00",
        "gymnase": "BESSON",
        "semaine": 9,
        "horaire": "14:00",
        "status": "occupé",
        "match_id": "M_0194"
      },
      {
        "slot_id": "S_ECL_9_14:00",
        "gymnase": "ECL",
        "semaine": 9,
        "horaire": "14:00",
        "status": "occupé",
        "match_id": "M_0195"
      },
      {
        "slot_id": "S_BESSON_9_16:00",
        "gymnase": "BESSON",
        "semaine": 9,
        "horaire": "16:00",
        "status": "occupé",
        "match_id": "M_0199"
      },
      {
        "slot_id": "S_LAENNEC_9_16:00",
        "gymnase": "LAENNEC",
        "semaine": 9,
        "horaire": "16:00",
        "status": "occupé",
        "match_id": "M_0198"
      },
      {
        "slot_id": "S_DESCARTES_9_18:00",
        "gymnase": "DESCARTES",
        "semaine": 9,
        "horaire": "18:00",
        "status": "occupé",
        "match_id": "M_0200"
      },
      {
        "slot_id": "S_DESCARTES_9_20:00",
        "gymnase": "DESCARTES",
        "semaine": 9,
        "horaire": "20:00",
        "status": "occupé",
        "match_id": "M_0201"
      },
      {
        "slot_id": "S_BESSON_9_20:00",
        "gymnase": "BESSON",
        "semaine": 9,
        "horaire": "20:00",
        "status": "occupé",
        "match_id": "M_0202"
      },
      {
        "slot_id": "S_BESSON_13_14:00",
        "gymnase": "BESSON",
        "semaine": 13,
        "horaire": "14:00",
        "status": "occupé",
        "match_id": "M_0205"
      },
      {
        "slot_id": "S_ECL_13_14:00",
        "gymnase": "ECL",
        "semaine": 13,
        "horaire": "14:00",
        "status": "occupé",
        "match_id": "M_0207"
      },
      {
        "slot_id": "S_BESSON_13_16:00",
        "gymnase": "BESSON",
        "semaine": 13,
        "horaire": "16:00",
        "status": "occupé",
        "match_id": "M_0210"
      },
      {
        "slot_id": "S_BESSON_13_18:00",
        "gymnase": "BESSON",
        "semaine": 13,
        "horaire": "18:00",
        "status": "occupé",
        "match_id": "M_0211"
      },
      {
        "slot_id": "S_BESSON_13_20:00",
        "gymnase": "BESSON",
        "semaine": 13,
        "horaire": "20:00",
        "status": "occupé",
        "match_id": "M_0214"
      }
    ]
  },
  "statistics": {
    "global": {
      "taux_planification": 85.65737051792829,
      "score_total": 1103678.0,
      "score_moyen_par_match": 4397.123505976096,
      "nb_matchs_total": 251,
      "nb_matchs_planifies": 215,
      "nb_matchs_non_planifies": 36,
      "nb_matchs_fixes": 101,
      "nb_matchs_auto": 114
    },
    "par_semaine": {
      "1": {
        "nb_matchs": 25,
        "par_horaire": {
          "14:00": 2,
          "16:00": 6,
          "18:00": 7,
          "20:00": 10
        }
      },
      "2": {
        "nb_matchs": 34,
        "par_horaire": {
          "14:00": 6,
          "16:00": 9,
          "18:00": 8,
          "19:00": 1,
          "20:00": 9,
          "20:30": 1
        }
      },
      "4": {
        "nb_matchs": 26,
        "par_horaire": {
          "14:00": 3,
          "15:00": 1,
          "15:30": 1,
          "16:00": 5,
          "18:00": 7,
          "18:45": 1,
          "20:00": 7,
          "20:30": 1
        }
      },
      "5": {
        "nb_matchs": 25,
        "par_horaire": {
          "14:00": 5,
          "14:30": 1,
          "16:00": 4,
          "18:00": 6,
          "20:00": 9
        }
      },
      "6": {
        "nb_matchs": 24,
        "par_horaire": {
          "14:00": 4,
          "16:00": 4,
          "17:00": 1,
          "18:00": 7,
          "20:00": 8
        }
      },
      "7": {
        "nb_matchs": 30,
        "par_horaire": {
          "14:00": 5,
          "15:00": 1,
          "15:30": 1,
          "16:00": 3,
          "18:00": 10,
          "20:00": 10
        }
      },
      "8": {
        "nb_matchs": 28,
        "par_horaire": {
          "14:00": 5,
          "16:00": 6,
          "18:00": 8,
          "20:00": 9
        }
      },
      "9": {
        "nb_matchs": 11,
        "par_horaire": {
          "14:00": 4,
          "16:00": 4,
          "18:00": 1,
          "20:00": 2
        }
      },
      "13": {
        "nb_matchs": 12,
        "par_horaire": {
          "14:00": 5,
          "16:00": 3,
          "18:00": 1,
          "20:00": 3
        }
      }
    },
    "par_poule": {
      "VBFA4PA": {
        "nb_matchs_planifies": 6,
        "nb_matchs_non_planifies": 3,
        "taux_completion": 66.66666666666666
      },
      "VBMA3PB": {
        "nb_matchs_planifies": 7,
        "nb_matchs_non_planifies": 2,
        "taux_completion": 77.77777777777779
      },
      "VBFA1PA": {
        "nb_matchs_planifies": 8,
        "nb_matchs_non_planifies": 0,
        "taux_completion": 100.0
      },
      "VBFA3PA": {
        "nb_matchs_planifies": 15,
        "nb_matchs_non_planifies": 0,
        "taux_completion": 100.0
      },
      "VBMA1PB": {
        "nb_matchs_planifies": 8,
        "nb_matchs_non_planifies": 1,
        "taux_completion": 88.88888888888889
      },
      "VBMA2PB": {
        "nb_matchs_planifies": 9,
        "nb_matchs_non_planifies": 0,
        "taux_completion": 100.0
      },
      "": {
        "nb_matchs_planifies": 22,
        "nb_matchs_non_planifies": 0,
        "taux_completion": 100.0
      },
      "VBMA4PB": {
        "nb_matchs_planifies": 8,
        "nb_matchs_non_planifies": 0,
        "taux_completion": 100.0
      },
      "VBFA2PA": {
        "nb_matchs_planifies": 6,
        "nb_matchs_non_planifies": 3,
        "taux_completion": 66.66666666666666
      },
      "VBFA2PB": {
        "nb_matchs_planifies": 3,
        "nb_matchs_non_planifies": 3,
        "taux_completion": 50.0
      },
      "VBMA3PE": {
        "nb_matchs_planifies": 3,
        "nb_matchs_non_planifies": 0,
        "taux_completion": 100.0
      },
      "VBMA3PD": {
        "nb_matchs_planifies": 3,
        "nb_matchs_non_planifies": 0,
        "taux_completion": 100.0
      },
      "VBMA4PC": {
        "nb_matchs_planifies": 8,
        "nb_matchs_non_planifies": 2,
        "taux_completion": 80.0
      },
      "VBFA1PB": {
        "nb_matchs_planifies": 4,
        "nb_matchs_non_planifies": 2,
        "taux_completion": 66.66666666666666
      },
      "VBFA3PB": {
        "nb_matchs_planifies": 10,
        "nb_matchs_non_planifies": 0,
        "taux_completion": 100.0
      },
      "VBFA3PC": {
        "nb_matchs_planifies": 6,
        "nb_matchs_non_planifies": 4,
        "taux_completion": 60.0
      },
      "VBFA4PC": {
        "nb_matchs_planifies": 8,
        "nb_matchs_non_planifies": 2,
        "taux_completion": 80.0
      },
      "VBMA1PC": {
        "nb_matchs_planifies": 5,
        "nb_matchs_non_planifies": 0,
        "taux_completion": 100.0
      },
      "VBMA2PE": {
        "nb_matchs_planifies": 6,
        "nb_matchs_non_planifies": 0,
        "taux_completion": 100.0
      },
      "VBMA2PC": {
        "nb_matchs_planifies": 5,
        "nb_matchs_non_planifies": 0,
        "taux_completion": 100.0
      },
      "VBMA3PF": {
        "nb_matchs_planifies": 4,
        "nb_matchs_non_planifies": 1,
        "taux_completion": 80.0
      },
      "VBMA3PG": {
        "nb_matchs_planifies": 6,
        "nb_matchs_non_planifies": 0,
        "taux_completion": 100.0
      },
      "VBMA1PA": {
        "nb_matchs_planifies": 6,
        "nb_matchs_non_planifies": 2,
        "taux_completion": 75.0
      },
      "VBMA2PA": {
        "nb_matchs_planifies": 7,
        "nb_matchs_non_planifies": 2,
        "taux_completion": 77.77777777777779
      },
      "VBMA3PA": {
        "nb_matchs_planifies": 5,
        "nb_matchs_non_planifies": 0,
        "taux_completion": 100.0
      },
      "VBMA3PC": {
        "nb_matchs_planifies": 4,
        "nb_matchs_non_planifies": 0,
        "taux_completion": 100.0
      },
      "VBMA4PA": {
        "nb_matchs_planifies": 2,
        "nb_matchs_non_planifies": 3,
        "taux_completion": 40.0
      },
      "VBFA4PB": {
        "nb_matchs_planifies": 9,
        "nb_matchs_non_planifies": 0,
        "taux_completion": 100.0
      },
      "VBMA2PD": {
        "nb_matchs_planifies": 9,
        "nb_matchs_non_planifies": 1,
        "taux_completion": 90.0
      },
      "VBFA2PC": {
        "nb_matchs_planifies": 8,
        "nb_matchs_non_planifies": 2,
        "taux_completion": 80.0
      },
      "VBMA4PD": {
        "nb_matchs_planifies": 5,
        "nb_matchs_non_planifies": 3,
        "taux_completion": 62.5
      }
    },
    "par_gymnase": {
      "DESCARTES": {
        "nb_matchs": 15,
        "capacite": 1,
        "nb_creneaux_disponibles": 99,
        "taux_occupation": 15.2
      },
      "ECL": {
        "nb_matchs": 20,
        "capacite": 2,
        "nb_creneaux_disponibles": 198,
        "taux_occupation": 10.1
      },
      "ESA": {
        "nb_matchs": 3,
        "capacite": 1,
        "nb_creneaux_disponibles": 99,
        "taux_occupation": 3.0
      },
      "LYON 2 HC": {
        "nb_matchs": 15,
        "capacite": 3,
        "nb_creneaux_disponibles": 297,
        "taux_occupation": 5.1
      },
      "LAENNEC": {
        "nb_matchs": 45,
        "capacite": 3,
        "nb_creneaux_disponibles": 297,
        "taux_occupation": 15.2
      },
      "BESSON": {
        "nb_matchs": 97,
        "capacite": 3,
        "nb_creneaux_disponibles": 297,
        "taux_occupation": 32.7
      },
      "L. J. HAUT": {
        "nb_matchs": 13,
        "capacite": 1,
        "nb_creneaux_disponibles": 99,
        "taux_occupation": 13.1
      },
      "ENTPE": {
        "nb_matchs": 4,
        "capacite": 1,
        "nb_creneaux_disponibles": 99,
        "taux_occupation": 4.0
      },
      "GRENOBLE": {
        "nb_matchs": 3,
        "capacite": 1,
        "nb_creneaux_disponibles": 99,
        "taux_occupation": 3.0
      }
    },
    "par_equipe": {
      "ECL (2)|F": {
        "nb_matchs_planifies": 4,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "14:00": 4
        }
      },
      "LYON 1 (12)|F": {
        "nb_matchs_planifies": 2,
        "nb_matchs_non_planifies": 1,
        "horaires_repartition": {
          "14:00": 2
        }
      },
      "INSA (6)|M": {
        "nb_matchs_planifies": 4,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "14:00": 4
        }
      },
      "LYON 1 (9)|M": {
        "nb_matchs_planifies": 3,
        "nb_matchs_non_planifies": 2,
        "horaires_repartition": {
          "14:00": 3
        }
      },
      "INSA (1)|F": {
        "nb_matchs_planifies": 9,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "16:00": 4,
          "15:30": 1,
          "14:00": 3,
          "15:00": 1
        }
      },
      "LYON 1 (11)|F": {
        "nb_matchs_planifies": 4,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "16:00": 3,
          "14:00": 1
        }
      },
      "LYON 1 (9)|F": {
        "nb_matchs_planifies": 5,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "16:00": 2,
          "18:00": 3
        }
      },
      "ECAM (1)|F": {
        "nb_matchs_planifies": 6,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "16:00": 3,
          "20:00": 1,
          "18:00": 2
        }
      },
      "INSA (2)|M": {
        "nb_matchs_planifies": 4,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "16:00": 1,
          "18:00": 1,
          "14:00": 2
        }
      },
      "LYON 1 (26)|M": {
        "nb_matchs_planifies": 4,
        "nb_matchs_non_planifies": 1,
        "horaires_repartition": {
          "16:00": 1,
          "14:00": 2,
          "18:00": 1
        }
      },
      "INSA (3)|M": {
        "nb_matchs_planifies": 5,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "16:00": 3,
          "14:00": 2
        }
      },
      "LYON 1 (3)|M": {
        "nb_matchs_planifies": 4,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "16:00": 4
        }
      },
      "LYON 1 (15)|M": {
        "nb_matchs_planifies": 3,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "16:00": 1,
          "18:00": 2
        }
      },
      "CPE (2)|M": {
        "nb_matchs_planifies": 4,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "16:00": 4
        }
      },
      "LYON 1 (11)|M": {
        "nb_matchs_planifies": 4,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "16:00": 3,
          "18:00": 1
        }
      },
      "ESME (2)|M": {
        "nb_matchs_planifies": 3,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "16:00": 2,
          "18:00": 1
        }
      },
      "LYON 1 (4)|F": {
        "nb_matchs_planifies": 2,
        "nb_matchs_non_planifies": 3,
        "horaires_repartition": {
          "18:00": 2
        }
      },
      "INSA (3)|F": {
        "nb_matchs_planifies": 4,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "18:00": 1,
          "16:00": 3
        }
      },
      "LYON 1 (2)|F": {
        "nb_matchs_planifies": 1,
        "nb_matchs_non_planifies": 2,
        "horaires_repartition": {
          "18:00": 1
        }
      },
      "ENS (1)|F": {
        "nb_matchs_planifies": 3,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "18:00": 1,
          "19:00": 1,
          "20:00": 1
        }
      },
      "LYON 2 (5)|F": {
        "nb_matchs_planifies": 6,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "18:00": 6
        }
      },
      "LYON 2 (6)|F": {
        "nb_matchs_planifies": 6,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "18:00": 5,
          "20:00": 1
        }
      },
      "ENS (3)|M": {
        "nb_matchs_planifies": 2,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "18:00": 1,
          "18:45": 1
        }
      },
      "LYON 1 (12)|M": {
        "nb_matchs_planifies": 2,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "18:00": 1,
          "20:00": 1
        }
      },
      "LYON 2 (3)|M": {
        "nb_matchs_planifies": 2,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "18:00": 2
        }
      },
      "CATHO (1)|M": {
        "nb_matchs_planifies": 2,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "18:00": 2
        }
      },
      "LYON 1 (25)|M": {
        "nb_matchs_planifies": 3,
        "nb_matchs_non_planifies": 2,
        "horaires_repartition": {
          "18:00": 3
        }
      },
      "LYON 2 (5)|M": {
        "nb_matchs_planifies": 5,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "18:00": 5
        }
      },
      "LYON 2 (6)|M": {
        "nb_matchs_planifies": 4,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "18:00": 4
        }
      },
      "CESI (1)|M": {
        "nb_matchs_planifies": 4,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "18:00": 4
        }
      },
      "EML (1)|F": {
        "nb_matchs_planifies": 6,
        "nb_matchs_non_planifies": 1,
        "horaires_repartition": {
          "20:00": 1,
          "14:00": 1,
          "16:00": 2,
          "18:00": 1,
          "15:30": 1
        }
      },
      "LYON 3 (1)|F": {
        "nb_matchs_planifies": 2,
        "nb_matchs_non_planifies": 1,
        "horaires_repartition": {
          "20:00": 2
        }
      },
      "SANTE (4)|F": {
        "nb_matchs_planifies": 4,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "20:00": 4
        }
      },
      "LYON 1 (6)|F": {
        "nb_matchs_planifies": 4,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "20:00": 4
        }
      },
      "CATHO (1)|F": {
        "nb_matchs_planifies": 3,
        "nb_matchs_non_planifies": 1,
        "horaires_repartition": {
          "20:00": 3
        }
      },
      "LYON 2 (7)|F": {
        "nb_matchs_planifies": 2,
        "nb_matchs_non_planifies": 2,
        "horaires_repartition": {
          "20:00": 2
        }
      },
      "LYON 3 (6)|F": {
        "nb_matchs_planifies": 4,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "20:00": 4
        }
      },
      "ESA (2)|F": {
        "nb_matchs_planifies": 3,
        "nb_matchs_non_planifies": 1,
        "horaires_repartition": {
          "20:00": 3
        }
      },
      "ECAM (1)|M": {
        "nb_matchs_planifies": 3,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "20:00": 3
        }
      },
      "LYON 3 (1)|M": {
        "nb_matchs_planifies": 2,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "20:00": 1,
          "20:30": 1
        }
      },
      "LYON 1 (21)|M": {
        "nb_matchs_planifies": 3,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "20:00": 3
        }
      },
      "SANTE (2)|M": {
        "nb_matchs_planifies": 3,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "20:00": 2,
          "20:30": 1
        }
      },
      "ENS (2)|M": {
        "nb_matchs_planifies": 3,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "20:00": 2,
          "20:30": 1
        }
      },
      "LYON 3 (3)|M": {
        "nb_matchs_planifies": 3,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "20:00": 3
        }
      },
      "LYON 3 (2)|M": {
        "nb_matchs_planifies": 3,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "20:00": 3
        }
      },
      "CPE (1)|M": {
        "nb_matchs_planifies": 2,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "20:00": 2
        }
      },
      "LYON 3 (4)|M": {
        "nb_matchs_planifies": 2,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "20:00": 2
        }
      },
      "CATHO (2)|M": {
        "nb_matchs_planifies": 3,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "20:00": 3
        }
      },
      "LYON 2 (IEP) (4)|M": {
        "nb_matchs_planifies": 3,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "20:00": 3
        }
      },
      "ECAM (2)|M": {
        "nb_matchs_planifies": 3,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "20:00": 3
        }
      },
      "LYON 1 (1)|F": {
        "nb_matchs_planifies": 3,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "14:00": 2,
          "16:00": 1
        }
      },
      "INSA (2)|F": {
        "nb_matchs_planifies": 4,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "14:00": 3,
          "16:00": 1
        }
      },
      "ENTPE (1)|F": {
        "nb_matchs_planifies": 6,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "14:00": 3,
          "15:30": 2,
          "14:30": 1
        }
      },
      "LYON 1 (5)|F": {
        "nb_matchs_planifies": 2,
        "nb_matchs_non_planifies": 2,
        "horaires_repartition": {
          "14:00": 1,
          "16:00": 1
        }
      },
      "ECL (1)|F": {
        "nb_matchs_planifies": 7,
        "nb_matchs_non_planifies": 1,
        "horaires_repartition": {
          "14:00": 3,
          "18:00": 1,
          "16:00": 3
        }
      },
      "LYON 1 (10)|F": {
        "nb_matchs_planifies": 2,
        "nb_matchs_non_planifies": 2,
        "horaires_repartition": {
          "14:00": 2
        }
      },
      "LYON 1 (13)|F": {
        "nb_matchs_planifies": 2,
        "nb_matchs_non_planifies": 2,
        "horaires_repartition": {
          "14:00": 2
        }
      },
      "LYON 1 (7)|F": {
        "nb_matchs_planifies": 2,
        "nb_matchs_non_planifies": 1,
        "horaires_repartition": {
          "14:00": 2
        }
      },
      "INSA (1)|M": {
        "nb_matchs_planifies": 5,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "14:00": 3,
          "16:00": 2
        }
      },
      "LYON 1 (2)|M": {
        "nb_matchs_planifies": 3,
        "nb_matchs_non_planifies": 2,
        "horaires_repartition": {
          "14:00": 3
        }
      },
      "ENTPE (2)|F": {
        "nb_matchs_planifies": 7,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "16:00": 3,
          "18:00": 4
        }
      },
      "LYON 1 (1)|M": {
        "nb_matchs_planifies": 3,
        "nb_matchs_non_planifies": 2,
        "horaires_repartition": {
          "16:00": 2,
          "14:00": 1
        }
      },
      "ENTPE (1)|M": {
        "nb_matchs_planifies": 5,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "16:00": 2,
          "17:00": 1,
          "14:00": 2
        }
      },
      "INSA (4)|M": {
        "nb_matchs_planifies": 4,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "16:00": 1,
          "18:00": 1,
          "14:00": 2
        }
      },
      "LYON 1 (8)|M": {
        "nb_matchs_planifies": 2,
        "nb_matchs_non_planifies": 2,
        "horaires_repartition": {
          "16:00": 1,
          "14:00": 1
        }
      },
      "ECL (2)|M": {
        "nb_matchs_planifies": 5,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "16:00": 3,
          "14:00": 2
        }
      },
      "ISARA (1)|M": {
        "nb_matchs_planifies": 4,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "16:00": 4
        }
      },
      "LYON 1 (13)|M": {
        "nb_matchs_planifies": 3,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "16:00": 1,
          "14:00": 2
        }
      },
      "LYON 1 (24)|M": {
        "nb_matchs_planifies": 3,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "16:00": 3
        }
      },
      "ECL (3)|M": {
        "nb_matchs_planifies": 5,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "16:00": 1,
          "14:00": 4
        }
      },
      "LYON 1 (10)|M": {
        "nb_matchs_planifies": 2,
        "nb_matchs_non_planifies": 2,
        "horaires_repartition": {
          "16:00": 1,
          "14:00": 1
        }
      },
      "ISARA (2)|M": {
        "nb_matchs_planifies": 3,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "16:00": 3
        }
      },
      "LYON 1 (22)|M": {
        "nb_matchs_planifies": 2,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "16:00": 2
        }
      },
      "LYON 1 (14)|M": {
        "nb_matchs_planifies": 1,
        "nb_matchs_non_planifies": 2,
        "horaires_repartition": {
          "16:00": 1
        }
      },
      "LYON 1 (20)|M": {
        "nb_matchs_planifies": 2,
        "nb_matchs_non_planifies": 1,
        "horaires_repartition": {
          "16:00": 1,
          "14:00": 1
        }
      },
      "ESSCA (1)|M": {
        "nb_matchs_planifies": 5,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "16:00": 3,
          "18:00": 2
        }
      },
      "ESSCA (1)|F": {
        "nb_matchs_planifies": 3,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "18:00": 3
        }
      },
      "LYON 2 (8)|F": {
        "nb_matchs_planifies": 4,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "18:00": 4
        }
      },
      "ENS (2)|F": {
        "nb_matchs_planifies": 4,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "18:00": 4
        }
      },
      "LYON 1 (8)|F": {
        "nb_matchs_planifies": 4,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "18:00": 4
        }
      },
      "ECL (1)|M": {
        "nb_matchs_planifies": 7,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "18:00": 1,
          "16:00": 2,
          "14:00": 4
        }
      },
      "LYON 2 (1)|M": {
        "nb_matchs_planifies": 3,
        "nb_matchs_non_planifies": 1,
        "horaires_repartition": {
          "18:00": 3
        }
      },
      "LYON 1 (6)|M": {
        "nb_matchs_planifies": 3,
        "nb_matchs_non_planifies": 1,
        "horaires_repartition": {
          "18:00": 3
        }
      },
      "ESME (1)|M": {
        "nb_matchs_planifies": 4,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "18:00": 4
        }
      },
      "LYON 1 (4)|M": {
        "nb_matchs_planifies": 3,
        "nb_matchs_non_planifies": 1,
        "horaires_repartition": {
          "18:00": 3
        }
      },
      "LYON 2 (2)|M": {
        "nb_matchs_planifies": 4,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "18:00": 4
        }
      },
      "LYON 1 (23)|M": {
        "nb_matchs_planifies": 3,
        "nb_matchs_non_planifies": 1,
        "horaires_repartition": {
          "18:00": 3
        }
      },
      "LYON 1 (19)|M": {
        "nb_matchs_planifies": 3,
        "nb_matchs_non_planifies": 1,
        "horaires_repartition": {
          "18:00": 3
        }
      },
      "LYON 1 (3)|F": {
        "nb_matchs_planifies": 1,
        "nb_matchs_non_planifies": 2,
        "horaires_repartition": {
          "19:00": 1
        }
      },
      "LYON 2 (2)|F": {
        "nb_matchs_planifies": 2,
        "nb_matchs_non_planifies": 1,
        "horaires_repartition": {
          "20:00": 2
        }
      },
      "LYON 2 (1)|F": {
        "nb_matchs_planifies": 2,
        "nb_matchs_non_planifies": 1,
        "horaires_repartition": {
          "20:00": 1,
          "18:00": 1
        }
      },
      "LYON 3 (3)|F": {
        "nb_matchs_planifies": 3,
        "nb_matchs_non_planifies": 1,
        "horaires_repartition": {
          "20:00": 3
        }
      },
      "LYON 2 (3)|F": {
        "nb_matchs_planifies": 3,
        "nb_matchs_non_planifies": 1,
        "horaires_repartition": {
          "20:00": 3
        }
      },
      "LYON 3 (2)|F": {
        "nb_matchs_planifies": 4,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "20:00": 4
        }
      },
      "SANTE (2)|F": {
        "nb_matchs_planifies": 3,
        "nb_matchs_non_planifies": 1,
        "horaires_repartition": {
          "20:00": 3
        }
      },
      "LYON 3 (4)|F": {
        "nb_matchs_planifies": 4,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "20:00": 4
        }
      },
      "ESA (1)|F": {
        "nb_matchs_planifies": 4,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "20:00": 4
        }
      },
      "CPE (1)|F": {
        "nb_matchs_planifies": 4,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "20:00": 4
        }
      },
      "SANTE (5)|F": {
        "nb_matchs_planifies": 2,
        "nb_matchs_non_planifies": 2,
        "horaires_repartition": {
          "20:00": 2
        }
      },
      "SANTE (6)|F": {
        "nb_matchs_planifies": 3,
        "nb_matchs_non_planifies": 1,
        "horaires_repartition": {
          "20:00": 3
        }
      },
      "LYON 3 (5)|F": {
        "nb_matchs_planifies": 4,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "20:00": 4
        }
      },
      "SANTE (1)|M": {
        "nb_matchs_planifies": 3,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "20:00": 3
        }
      },
      "ESA (1)|M": {
        "nb_matchs_planifies": 2,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "20:00": 2
        }
      },
      "LYON 1 (7)|M": {
        "nb_matchs_planifies": 2,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "20:00": 1,
          "18:45": 1
        }
      },
      "ENS (1)|M": {
        "nb_matchs_planifies": 5,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "20:30": 1,
          "15:00": 1,
          "20:00": 2,
          "17:00": 1
        }
      },
      "ENTPE (2)|M": {
        "nb_matchs_planifies": 5,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "14:00": 3,
          "18:00": 2
        }
      },
      "INPG (1)|M": {
        "nb_matchs_planifies": 2,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "15:00": 1,
          "16:00": 1
        }
      },
      "EML (1)|M": {
        "nb_matchs_planifies": 4,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "16:00": 1,
          "14:00": 1,
          "20:00": 2
        }
      },
      "LYON 1 (5)|M": {
        "nb_matchs_planifies": 3,
        "nb_matchs_non_planifies": 2,
        "horaires_repartition": {
          "18:00": 3
        }
      },
      "EML (2)|M": {
        "nb_matchs_planifies": 4,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "18:00": 4
        }
      },
      "VETO (1)|F": {
        "nb_matchs_planifies": 3,
        "nb_matchs_non_planifies": 1,
        "horaires_repartition": {
          "20:00": 3
        }
      },
      "SANTE (3)|M": {
        "nb_matchs_planifies": 3,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "20:00": 3
        }
      },
      "INSA (5)|M": {
        "nb_matchs_planifies": 4,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "14:00": 2,
          "16:00": 2
        }
      },
      "INPG (1)|F": {
        "nb_matchs_planifies": 3,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "14:30": 1,
          "15:00": 1,
          "16:00": 1
        }
      },
      "ESME (2)|F": {
        "nb_matchs_planifies": 3,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "18:00": 3
        }
      },
      "EML (2)|F": {
        "nb_matchs_planifies": 3,
        "nb_matchs_non_planifies": 1,
        "horaires_repartition": {
          "20:00": 3
        }
      },
      "LYON 2 IEP (4)|F": {
        "nb_matchs_planifies": 2,
        "nb_matchs_non_planifies": 2,
        "horaires_repartition": {
          "20:00": 2
        }
      },
      "VETO (1)|M": {
        "nb_matchs_planifies": 3,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "20:00": 3
        }
      },
      "CESI (2)|M": {
        "nb_matchs_planifies": 2,
        "nb_matchs_non_planifies": 2,
        "horaires_repartition": {
          "20:00": 2
        }
      },
      "LYON 3 (6)|M": {
        "nb_matchs_planifies": 2,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "20:00": 2
        }
      },
      "LYON 1 (18)|M": {
        "nb_matchs_planifies": 1,
        "nb_matchs_non_planifies": 3,
        "horaires_repartition": {
          "14:00": 1
        }
      },
      "SANTE (1)|F": {
        "nb_matchs_planifies": 1,
        "nb_matchs_non_planifies": 2,
        "horaires_repartition": {
          "20:00": 1
        }
      },
      "SANTE (3)|F": {
        "nb_matchs_planifies": 2,
        "nb_matchs_non_planifies": 2,
        "horaires_repartition": {
          "20:00": 2
        }
      },
      "LYON 1 (16)|M": {
        "nb_matchs_planifies": 2,
        "nb_matchs_non_planifies": 1,
        "horaires_repartition": {
          "20:00": 2
        }
      },
      "SANTE (4)|M": {
        "nb_matchs_planifies": 1,
        "nb_matchs_non_planifies": 1,
        "horaires_repartition": {
          "20:00": 1
        }
      },
      "LYON 3 (5)|M": {
        "nb_matchs_planifies": 2,
        "nb_matchs_non_planifies": 1,
        "horaires_repartition": {
          "20:00": 2
        }
      },
      "LYON 1 (17)|M": {
        "nb_matchs_planifies": 2,
        "nb_matchs_non_planifies": 2,
        "horaires_repartition": {
          "20:00": 2
        }
      },
      "UDL (2)|F": {
        "nb_matchs_planifies": 2,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "14:00": 2
        }
      },
      "UDL (1)|F": {
        "nb_matchs_planifies": 1,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "16:00": 1
        }
      },
      "UCA (1)|F": {
        "nb_matchs_planifies": 2,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "16:00": 1,
          "14:00": 1
        }
      },
      "SANTE (5)|M": {
        "nb_matchs_planifies": 2,
        "nb_matchs_non_planifies": 1,
        "horaires_repartition": {
          "20:00": 2
        }
      },
      "UDL (1)|M": {
        "nb_matchs_planifies": 1,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "16:00": 1
        }
      },
      "UDG (1)|M": {
        "nb_matchs_planifies": 1,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "16:00": 1
        }
      },
      "UDG (1)|F": {
        "nb_matchs_planifies": 1,
        "nb_matchs_non_planifies": 0,
        "horaires_repartition": {
          "16:00": 1
        }
      }
    }
  },
  "config_signature": {
    "yaml_hash": "7817116e49f30234830244a3f2031bef",
    "excel_hash": "7cf12e66145013a728ab833e56762c24",
    "nb_equipes": 126,
    "nb_gymnases": 9,
    "nb_creneaux": 189,
    "nb_semaines": 13,
    "equipes_ids": [
      "LYON 1 (1)|F",
      "INSA (2)|F",
      "ENTPE (1)|F",
      "INSA (1)|F",
      "LYON 1 (11)|F",
      "EML (1)|F",
      "LYON 2 (1)|F",
      "LYON 3 (1)|F",
      "LYON 2 (2)|F",
      "INSA (1)|M",
      "LYON 1 (2)|M",
      "LYON 1 (1)|M",
      "ENTPE (1)|M",
      "ECL (1)|M",
      "LYON 1 (26)|M",
      "INSA (2)|M",
      "LYON 2 (1)|M",
      "ENS (1)|M",
      "ECAM (1)|M",
      "EML (1)|M",
      "LYON 3 (1)|M",
      "ECL (1)|F",
      "LYON 1 (5)|F",
      "INSA (3)|F",
      "LYON 1 (4)|F",
      "LYON 1 (3)|F",
      "LYON 1 (2)|F",
      "ENS (1)|F",
      "SANTE (1)|F",
      "LYON 3 (3)|F",
      "LYON 3 (2)|F",
      "LYON 2 (3)|F",
      "SANTE (2)|F",
      "VETO (1)|F",
      "INSA (4)|M",
      "ENTPE (2)|M",
      "LYON 1 (8)|M",
      "LYON 1 (5)|M",
      "ECL (2)|M",
      "INSA (3)|M",
      "ISARA (1)|M",
      "LYON 1 (3)|M",
      "LYON 1 (6)|M",
      "ESME (1)|M",
      "EML (2)|M",
      "LYON 1 (4)|M",
      "LYON 2 (2)|M",
      "ENS (2)|M",
      "LYON 1 (21)|M",
      "LYON 3 (3)|M",
      "SANTE (2)|M",
      "LYON 3 (2)|M",
      "SANTE (1)|M",
      "ESA (1)|M",
      "CPE (1)|M",
      "ENTPE (2)|F",
      "ECAM (1)|F",
      "LYON 1 (9)|F",
      "LYON 2 (5)|F",
      "LYON 2 (6)|F",
      "SANTE (4)|F",
      "LYON 3 (4)|F",
      "ESA (1)|F",
      "CPE (1)|F",
      "LYON 1 (6)|F",
      "SANTE (3)|F",
      "EML (2)|F",
      "CATHO (1)|F",
      "LYON 2 (7)|F",
      "LYON 2 IEP (4)|F",
      "LYON 1 (24)|M",
      "INSA (5)|M",
      "LYON 1 (13)|M",
      "INSA (6)|M",
      "LYON 1 (10)|M",
      "ECL (3)|M",
      "LYON 1 (9)|M",
      "ISARA (2)|M",
      "CPE (2)|M",
      "LYON 1 (22)|M",
      "LYON 2 (3)|M",
      "LYON 1 (15)|M",
      "CATHO (1)|M",
      "LYON 1 (7)|M",
      "LYON 1 (12)|M",
      "ENS (3)|M",
      "LYON 1 (16)|M",
      "LYON 3 (4)|M",
      "CATHO (2)|M",
      "SANTE (4)|M",
      "LYON 2 (IEP) (4)|M",
      "ECAM (2)|M",
      "VETO (1)|M",
      "SANTE (3)|M",
      "LYON 1 (10)|F",
      "ECL (2)|F",
      "LYON 1 (12)|F",
      "LYON 1 (13)|F",
      "LYON 1 (7)|F",
      "ESSCA (1)|F",
      "ESME (2)|F",
      "LYON 2 (8)|F",
      "ENS (2)|F",
      "LYON 1 (8)|F",
      "LYON 3 (6)|F",
      "SANTE (5)|F",
      "ESA (2)|F",
      "SANTE (6)|F",
      "LYON 3 (5)|F",
      "LYON 1 (14)|M",
      "LYON 1 (20)|M",
      "LYON 1 (18)|M",
      "ESSCA (1)|M",
      "ESME (2)|M",
      "LYON 1 (11)|M",
      "LYON 2 (5)|M",
      "LYON 2 (6)|M",
      "CESI (1)|M",
      "LYON 1 (25)|M",
      "LYON 1 (23)|M",
      "LYON 1 (19)|M",
      "LYON 3 (5)|M",
      "CESI (2)|M",
      "LYON 3 (6)|M",
      "SANTE (5)|M",
      "LYON 1 (17)|M"
    ],
    "gymnases": [
      "BESSON",
      "DESCARTES",
      "ECL",
      "ENTPE",
      "ESA",
      "GRENOBLE",
      "L. J. HAUT",
      "LAENNEC",
      "LYON 2 HC"
    ]
  }
}
</script>

    
    
<script>
// Solution name for modification tracking
const SOLUTION_NAME = "solution";

// utils/formatters.js
/**
 * formatters.js - Utilitaires de formatage
 * 
 * Fonctions pour formater les dates, heures, textes, etc.
 * Exposé globalement via window.Formatters
 */

window.Formatters = {
    /**
     * Formate une date au format français
     */
    formatDate(date, format = 'short') {
        if (!date) return '-';
        
        const d = typeof date === 'string' ? new Date(date) : date;
        
        const options = {
            short: { day: '2-digit', month: '2-digit', year: 'numeric' },
            long: { weekday: 'long', day: 'numeric', month: 'long', year: 'numeric' },
            full: { weekday: 'long', day: 'numeric', month: 'long', year: 'numeric', hour: '2-digit', minute: '2-digit' }
        };
        
        return new Intl.DateTimeFormat('fr-FR', options[format] || options.short).format(d);
    },

    /**
     * Formate une heure
     */
    formatTime(time) {
        if (!time) return '-';
        
        if (/^\d{2}:\d{2}$/.test(time)) {
            return time;
        }
        
        if (/^\d{2}:\d{2}:\d{2}$/.test(time)) {
            return time.substring(0, 5);
        }
        
        return time;
    },

    /**
     * Formate un jour de semaine
     */
    formatDay(day) {
        if (!day) return '-';
        
        return day.charAt(0).toUpperCase() + day.slice(1).toLowerCase();
    },

    /**
     * Formate un nom d'équipe
     */
    formatTeamName(name, maxLength = 30) {
        if (!name) return '-';
        
        if (name.length <= maxLength) {
            return name;
        }
        
        return name.substring(0, maxLength - 3) + '...';
    },

    /**
     * Formate un genre
     */
    formatGender(gender) {
        if (!gender) return '-';
        
        const g = gender.toUpperCase();
        
        if (g === 'M' || g.startsWith('MASC')) {
            return 'Masculin';
        }
        
        if (g === 'F' || g.startsWith('FÉM') || g.startsWith('FEM')) {
            return 'Féminin';
        }
        
        return gender;
    },

    /**
     * Formate un genre en version courte
     */
    formatGenderShort(gender) {
        if (!gender) return '-';
        
        const g = gender.toUpperCase();
        
        if (g === 'M' || g.startsWith('MASC')) {
            return 'M';
        }
        
        if (g === 'F' || g.startsWith('FÉM') || g.startsWith('FEM')) {
            return 'F';
        }
        
        return gender.charAt(0).toUpperCase();
    },

    /**
     * Formate un numéro de semaine
     */
    formatWeek(week) {
        if (week === null || week === undefined) return 'Non planifié';
        
        return `Semaine ${week}`;
    },

    /**
     * Formate un score de pénalités
     */
    formatPenalties(penalties, showPlus = false) {
        if (penalties === null || penalties === undefined || penalties === 0) {
            return '0';
        }
        
        const formatted = penalties.toFixed(1);
        
        if (penalties > 0 && showPlus) {
            return '+' + formatted;
        }
        
        return formatted;
    },

    /**
     * Formate un nombre avec séparateur de milliers
     */
    formatNumber(num) {
        if (num === null || num === undefined) return '0';
        
        return new Intl.NumberFormat('fr-FR').format(num);
    },

    /**
     * Formate une taille de fichier
     */
    formatFileSize(bytes) {
        if (bytes === 0) return '0 B';
        
        const k = 1024;
        const sizes = ['B', 'KB', 'MB', 'GB'];
        const i = Math.floor(Math.log(bytes) / Math.log(k));
        
        return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
    },

    /**
     * Formate un pourcentage
     */
    formatPercentage(value, isDecimal = true) {
        if (value === null || value === undefined) return '0%';
        
        const percent = isDecimal ? value * 100 : value;
        
        return `${percent.toFixed(1)}%`;
    },

    /**
     * Formate une durée en minutes
     */
    formatDuration(minutes) {
        if (!minutes) return '0min';
        
        const hours = Math.floor(minutes / 60);
        const mins = minutes % 60;
        
        if (hours === 0) {
            return `${mins}min`;
        }
        
        if (mins === 0) {
            return `${hours}h`;
        }
        
        return `${hours}h${mins.toString().padStart(2, '0')}`;
    },

    /**
     * Capitalise la première lettre
     */
    capitalize(str) {
        if (!str) return '';
        
        return str.charAt(0).toUpperCase() + str.slice(1);
    },

    /**
     * Tronque un texte
     */
    truncate(text, maxLength) {
        if (!text || text.length <= maxLength) {
            return text;
        }
        
        return text.substring(0, maxLength - 3) + '...';
    },

    /**
     * Pluralise un mot
     */
    pluralize(count, singular, plural = null) {
        if (count <= 1) {
            return `${count} ${singular}`;
        }
        
        const pluralForm = plural || (singular + 's');
        return `${count} ${pluralForm}`;
    }
};


// utils/validators.js
/**
 * validators.js - Utilitaires de validation
 * 
 * Fonctions pour valider les données, contraintes, etc.
 * Exposé globalement via window.Validators
 */

window.Validators = {
    /**
     * Valide qu'un match a tous les champs requis
     */
    validateMatch(match) {
        const errors = [];
        
        if (!match) {
            return { valid: false, errors: ['Match vide'] };
        }
        
        if (!match.match_id) errors.push('ID manquant');
        if (!match.equipes || match.equipes.length !== 2) {
            errors.push('Deux équipes requises');
        }
        
        return {
            valid: errors.length === 0,
            errors
        };
    },

    /**
     * Valide qu'un créneau a tous les champs requis
     */
    validateSlot(slot) {
        const errors = [];
        
        if (!slot) {
            return { valid: false, errors: ['Créneau vide'] };
        }
        
        if (slot.semaine !== null && slot.semaine !== undefined) {
            if (!slot.horaire) errors.push('Horaire manquant');
            if (!slot.gymnase) errors.push('Gymnase manquant');
        }
        
        return {
            valid: errors.length === 0,
            errors
        };
    },

    /**
     * Valide un format d'horaire (HH:MM)
     */
    isValidTime(time) {
        if (!time) return false;
        
        const timeRegex = /^([0-1][0-9]|2[0-3]):([0-5][0-9])$/;
        return timeRegex.test(time);
    },

    /**
     * Valide un numéro de semaine
     */
    isValidWeek(week, maxWeek = 52) {
        if (week === null || week === undefined) return true;
        
        return Number.isInteger(week) && week >= 1 && week <= maxWeek;
    },

    /**
     * Valide qu'un ID d'équipe existe dans les données
     */
    isValidEquipe(equipeId, equipes) {
        if (!equipeId || !equipes) return false;
        
        return equipes.some(e => e.id === equipeId);
    },

    /**
     * Valide qu'un ID de gymnase existe dans les données
     */
    isValidGymnase(gymnaseId, gymnases) {
        if (!gymnaseId || !gymnases) return false;
        
        return gymnases.some(g => g.id === gymnaseId);
    },

    /**
     * Valide une modification avant de l'appliquer
     */
    validateModification(modification, context) {
        const errors = [];
        
        if (!modification) {
            return { valid: false, errors: ['Modification vide'] };
        }
        
        if (!modification.match_id) {
            errors.push('ID du match manquant');
        }
        
        if (!modification.new) {
            errors.push('Nouveau créneau manquant');
        } else {
            const newSlot = modification.new;
            
            if (newSlot.semaine !== null && newSlot.semaine !== undefined) {
                if (!this.isValidTime(newSlot.horaire)) {
                    errors.push('Horaire invalide (format HH:MM attendu)');
                }
                
                if (!this.isValidWeek(newSlot.semaine)) {
                    errors.push('Semaine invalide');
                }
                
                if (context?.gymnases && !this.isValidGymnase(newSlot.gymnase, context.gymnases)) {
                    errors.push('Gymnase invalide ou inexistant');
                }
            }
        }
        
        return {
            valid: errors.length === 0,
            errors
        };
    },

    /**
     * Vérifie si deux équipes peuvent jouer ensemble
     */
    canTeamsPlay(equipe1, equipe2) {
        if (!equipe1 || !equipe2) return false;
        
        if (equipe1.id === equipe2.id) return false;
        
        if (equipe1.genre !== equipe2.genre) return false;
        
        return true;
    },

    /**
     * Vérifie si un créneau est disponible (pas de conflit)
     */
    isSlotAvailable(slot, matches, excludeMatchId = null) {
        if (!slot || !matches) return false;
        
        const { semaine, horaire, gymnase } = slot;
        
        if (semaine === null || semaine === undefined) return true;
        
        const conflict = matches.find(match => {
            if (excludeMatchId && match.match_id === excludeMatchId) {
                return false;
            }
            
            return match.semaine === semaine &&
                   match.horaire === horaire &&
                   match.gymnase === gymnase;
        });
        
        return !conflict;
    },

    /**
     * Vérifie si une équipe a déjà un match dans ce créneau
     */
    hasTeamConflict(equipeId, slot, matches, excludeMatchId = null) {
        if (!equipeId || !slot || !matches) return false;
        
        const { semaine, horaire } = slot;
        
        if (semaine === null || semaine === undefined) return false;
        
        const conflict = matches.find(match => {
            if (excludeMatchId && match.match_id === excludeMatchId) {
                return false;
            }
            
            // Format v2.0: les IDs d'équipe sont dans equipe1_id et equipe2_id
            return match.semaine === semaine &&
                   match.horaire === horaire &&
                   (match.equipe1_id === equipeId || match.equipe2_id === equipeId);
        });
        
        return !!conflict;
    },

    /**
     * Calcule le score de validité d'une affectation (0-100)
     */
    calculateAssignmentScore(match, context = {}) {
        let score = 100;
        
        if (!match || !match.penalties) return score;
        
        const penalties = match.penalties;
        
        Object.values(penalties).forEach(penalty => {
            if (typeof penalty === 'number') {
                score -= penalty;
            }
        });
        
        return Math.max(0, score);
    },

    /**
     * Valide un export JSON de modifications
     */
    validateExport(exportData) {
        const errors = [];
        
        if (!exportData) {
            return { valid: false, errors: ['Export vide'] };
        }
        
        if (!exportData.export_version) {
            errors.push('Version d\'export manquante');
        }
        
        if (!exportData.metadata) {
            errors.push('Métadonnées manquantes');
        } else {
            if (!exportData.metadata.export_date) {
                errors.push('Date d\'export manquante');
            }
        }
        
        if (!exportData.modifications || !Array.isArray(exportData.modifications)) {
            errors.push('Liste de modifications manquante ou invalide');
        }
        
        return {
            valid: errors.length === 0,
            errors
        };
    }
};


// utils/slot-manager.js
/**
 * SlotManager - Gestion des créneaux et organisation des matchs
 * 
 * Responsabilités:
 * - Organiser les matchs par créneau horaire
 * - Détecter les superpositions et conflits
 * - Optimiser l'affichage côte à côte des matchs simultanés
 */

class SlotManager {
    constructor(capacity = 1) {
        this.capacity = capacity; // Capacité du gymnase (nombre de terrains)
    }
    
    /**
     * Organise les matchs d'un créneau pour un affichage optimal côte à côte
     * IMPORTANT: Organisation HORIZONTALE uniquement (pas de grille verticale)
     * @param {Array} matches - Liste des matchs au même horaire
     * @param {number} capacity - Capacité du gymnase
     * @returns {Object} - Structure d'affichage optimisée
     */
    organizeSlotMatches(matches, capacity) {
        if (!matches || matches.length === 0) {
            return {
                isEmpty: true,
                matchCount: 0,
                layout: 'horizontal',
                matches: [],
                conflicts: {
                    hasConflict: false,
                    severity: 'none',
                    types: [],
                    details: []
                }
            };
        }
        
        const matchCount = matches.length;
        
        // TOUJOURS en ligne horizontale (côte à côte)
        // Pas de grille 2x2, 2x3, etc.
        const layout = 'horizontal';
        const columns = matchCount; // Autant de colonnes que de matchs
        const isOverCapacity = matchCount > capacity;
        
        // Détecter les conflits
        const conflicts = this.detectConflicts(matches, capacity);
        
        return {
            isEmpty: false,
            matchCount,
            capacity,
            isOverCapacity,
            layout,
            columns,
            rows: 1, // Toujours 1 seule ligne
            matches: this.sortMatchesForDisplay(matches),
            conflicts: conflicts
        };
    }
    
    /**
     * Trie les matchs pour un affichage optimal
     * Priorité: matchs fixes > horaire > institution
     */
    sortMatchesForDisplay(matches) {
        return [...matches].sort((a, b) => {
            // 1. Matchs fixes en premier
            if (a.is_fixed && !b.is_fixed) return -1;
            if (!a.is_fixed && b.is_fixed) return 1;
            
            // 2. Par institution (pour regrouper visuellement)
            const instCompare = (a.equipe1_institution || '').localeCompare(b.equipe1_institution || '');
            if (instCompare !== 0) return instCompare;
            
            // 3. Par nom d'équipe
            return (a.equipe1_nom || '').localeCompare(b.equipe1_nom || '');
        });
    }
    
    /**
     * Calcule la hauteur optimale d'un slot selon le nombre de matchs
     * HAUTEUR FIXE pour maintenir l'échelle horaire
     * @param {number} matchCount - Nombre de matchs
     * @param {number} baseHeight - Hauteur de base (120px pour 2h)
     * @returns {number} - Hauteur en pixels (toujours la même)
     */
    calculateSlotHeight(matchCount, baseHeight = 120) {
        // HAUTEUR FIXE : toujours la même quelle que soit le nombre de matchs
        // Les matchs sont côte à côte horizontalement, pas empilés verticalement
        return baseHeight;
    }
    
    /**
     * Détecte les conflits dans un slot
     * @param {Array} matches - Matchs du slot
     * @param {number} capacity - Capacité du lieu
     * @returns {Object} - Informations sur les conflits
     */
    detectConflicts(matches, capacity) {
        const conflicts = {
            hasConflict: false,
            severity: 'none', // 'none', 'warning', 'critical'
            types: [],
            details: []
        };
        
        if (matches.length === 0) return conflicts;
        
        // 1. Vérifier la capacité
        if (matches.length > capacity) {
            conflicts.hasConflict = true;
            conflicts.severity = 'critical';
            conflicts.types.push('over_capacity');
            conflicts.details.push({
                type: 'over_capacity',
                message: `${matches.length} matchs pour ${capacity} terrain(s)`,
                icon: '🏟️'
            });
        }
        
        // 2. Vérifier les doublons d'équipes
        const teamOccurrences = new Map();
        matches.forEach((match, idx) => {
            [match.equipe1_id, match.equipe2_id].forEach(teamId => {
                if (!teamOccurrences.has(teamId)) {
                    teamOccurrences.set(teamId, []);
                }
                teamOccurrences.get(teamId).push(idx);
            });
        });
        
        const duplicateTeams = [];
        teamOccurrences.forEach((occurrences, teamId) => {
            if (occurrences.length > 1) {
                const teamName = matches[occurrences[0]].equipe1_id === teamId 
                    ? matches[occurrences[0]].equipe1_nom 
                    : matches[occurrences[0]].equipe2_nom;
                duplicateTeams.push(teamName);
            }
        });
        
        if (duplicateTeams.length > 0) {
            conflicts.hasConflict = true;
            conflicts.severity = 'critical';
            conflicts.types.push('team_duplicate');
            conflicts.details.push({
                type: 'team_duplicate',
                message: `Équipe(s) en double: ${duplicateTeams.join(', ')}`,
                icon: '⚠️'
            });
        }
        
        // 3. Vérifier les overlaps d'institutions (warning seulement)
        const institutionCount = new Map();
        matches.forEach(match => {
            [match.equipe1_institution, match.equipe2_institution].forEach(inst => {
                if (inst) {
                    institutionCount.set(inst, (institutionCount.get(inst) || 0) + 1);
                }
            });
        });
        
        const overlappingInstitutions = [];
        institutionCount.forEach((count, inst) => {
            if (count > 2) { // Plus de 2 fois = potentiel problème logistique
                overlappingInstitutions.push(`${inst} (${count}×)`);
            }
        });
        
        if (overlappingInstitutions.length > 0 && conflicts.severity === 'none') {
            conflicts.hasConflict = true;
            conflicts.severity = 'warning';
            conflicts.types.push('institution_overlap');
            conflicts.details.push({
                type: 'institution_overlap',
                message: `Institutions multiples: ${overlappingInstitutions.join(', ')}`,
                icon: 'ℹ️'
            });
        }
        
        return conflicts;
    }
    
    /**
     * Génère les statistiques d'un slot
     */
    getSlotStats(matches) {
        const stats = {
            total: matches.length,
            fixed: 0,
            external: 0,
            ententes: 0,
            withPenalties: 0,
            totalPenalty: 0
        };
        
        matches.forEach(match => {
            if (match.is_fixed) stats.fixed++;
            if (match.is_external) stats.external++;
            if (match.is_entente) stats.ententes++;
            if (match.penalties && match.penalties.total > 0) {
                stats.withPenalties++;
                stats.totalPenalty += match.penalties.total;
            }
        });
        
        stats.avgPenalty = stats.total > 0 ? stats.totalPenalty / stats.total : 0;
        
        return stats;
    }
}

// Export pour utilisation dans d'autres modules
if (typeof window !== 'undefined') {
    window.SlotManager = SlotManager;
}


// utils/scroll-sync.js

window.syncScroll = function(element) {
    const header = document.getElementById('grid-header');
    if (header) {
        header.scrollLeft = element.scrollLeft;
    }
}


// utils/match-card-renderer.js
/**
 * MatchCardRenderer - Génération optimisée des cartes de matchs
 * 
 * Responsabilités:
 * - Rendu des cartes individuelles de matchs
 * - Gestion des styles selon le contexte (compact, normal, conflits)
 * - Badges et indicateurs visuels
 * - Affichage enrichi: genre, préférences, championnat, numéro équipe
 */

class MatchCardRenderer {
    constructor(dataManager = null) {
        this.dataManager = dataManager;
        this.compactThreshold = 3; // À partir de 3 matchs, mode compact
    }
    
    /**
     * Génère une carte de match enrichie
     * @param {Object} match - Données du match
     * @param {boolean} isCompact - Mode compact
     * @param {number} index - Index du match dans le slot (pour numérotation)
     * @param {boolean} isDraggable - Le match peut être déplacé
     * @param {Object} conflicts - Conflits détectés (si applicable)
     * @returns {string} - HTML de la carte
     */
    renderMatchCard(match, isCompact = false, index = null, isDraggable = true, conflicts = null) {
        const classes = ['match-card'];
        if (isCompact) classes.push('match-card-compact');
        if (match.is_fixed) classes.push('match-fixed');
        if (match.is_external) classes.push('match-external');
        if (isDraggable && !match.is_fixed) classes.push('match-draggable');
        
        // Genre - Add proper classes for color coding
        const genre = match.equipe1_genre || match.equipe2_genre;
        if (genre) {
            if (genre === 'M') {
                classes.push('match-male', 'male');
            } else if (genre === 'F') {
                classes.push('match-female', 'female');
            } else if (genre === 'X') {
                classes.push('mixed');
            }
        }
        
        // Niveau/Catégorie - Extract from match data
        const category = this.extractCategory(match);
        
        // Pénalités
        const hasPenalties = match.penalties && match.penalties.total > 0;
        const penaltyClass = this.getPenaltyClass(match.penalties?.total || 0);
        if (hasPenalties) classes.push(penaltyClass);
        
        // Conflits
        if (conflicts && conflicts.hasConflict) {
            classes.push(conflicts.level === 'critical' ? 'match-conflict-critical' : 'match-conflict-warning');
        }
        
        // Récupérer les données des équipes pour les préférences
        const equipe1Data = this.dataManager ? this.dataManager.getEquipe(match.equipe1_id) : null;
        const equipe2Data = this.dataManager ? this.dataManager.getEquipe(match.equipe2_id) : null;
        
        const html = `
            <div class="${classes.join(' ')}" 
                 data-match-id="${match.match_id}"
                 data-category="${category}"
                 data-genre="${genre || ''}"
                 data-penalties="${match.penalties?.total || 0}"
                 ${isDraggable && !match.is_fixed ? 'draggable="true"' : ''}>
                
                <div class="match-card-content" title="${this.buildMatchTooltip(match, equipe1Data, equipe2Data)}" style="display: flex; flex-direction: column; height: 100%; font-size: 0.7rem;">
                    
                    <div class="match-header" style="margin-bottom: 0.3rem; padding-bottom: 0.3rem; border-bottom: 1px solid rgba(255, 255, 255, 0.25); display: flex; justify-content: space-between; align-items: flex-start;">
                        <div class="match-header-left" style="display: flex; align-items: center; gap: 0.3rem; flex-wrap: wrap;">
                            ${this.renderMatchBadges(match)}
                            ${this.renderGenreIndicator(genre)}
                            ${this.renderCompactCategory(match)}
                        </div>
                        <div class="match-header-right" style="display: flex; align-items: center; gap: 0.3rem; flex-wrap: wrap;">
                            ${conflicts && conflicts.hasConflict ? this.renderConflictBadge(conflicts) : ''}
                            ${match.horaire ? `<span class="match-time" style="font-size: 0.625rem; font-weight: 800; padding: 0.15rem 0.4rem; background: rgba(255, 255, 255, 0.3); border-radius: 4px; font-family: 'Roboto Mono', monospace; letter-spacing: 0.03em; box-shadow: 0 1px 2px rgba(0, 0, 0, 0.15); border: 1px solid rgba(255, 255, 255, 0.2);">${match.horaire}</span>` : ''}
                        </div>
                    </div>
                    
                    <div class="match-teams" style="display: flex; flex-direction: column; gap: 0.3rem; flex: 1;">
                        ${this.renderTeamCompact(
                            match.equipe1_nom, 
                            match.equipe1_num,
                            equipe1Data,
                            match
                        )}
                        <div class="match-vs" style="font-size: 0.625rem; font-weight: 900; margin: 0.3rem 0; opacity: 0.8; text-transform: uppercase; letter-spacing: 0.1em; color: rgba(255, 255, 255, 0.9); text-align: center; font-family: 'Roboto', sans-serif;">vs</div>
                        ${this.renderTeamCompact(
                            match.equipe2_nom, 
                            match.equipe2_num,
                            equipe2Data,
                            match
                        )}
                    </div>
                    
                    ${this.renderCompactMatchInfo(match)}
                    
                </div>
                ${hasPenalties ? this.renderPenaltyIndicator(match.penalties) : ''}
            </div>
        `;
        
        return html;
    }
    
    /**
     * Rendu d'une équipe avec toutes les informations
     */
    renderTeam(nom, num, institution, equipeData, isCompact) {
        const displayName = isCompact ? this.shortenName(nom) : nom;
        const displayNum = num ? `#${num}` : '';
        const fullTitle = `${nom} ${displayNum}${institution ? ` (${institution})` : ''}`;
        
        return `
            <div class="team-info" title="${fullTitle}">
                <div class="team-name-row">
                    ${displayNum ? `<span class="team-num">${displayNum}</span>` : ''}
                    <span class="team-name">${displayName}</span>
                </div>
                ${!isCompact && institution ? `<span class="team-institution">${this.shortenInstitution(institution)}</span>` : ''}
            </div>
        `;
    }
    
    /**
     * Rendu compact d'une équipe (sans institution, plus petit)
     */
    renderTeamCompact(nom, num, equipeData, match) {
        const displayName = this.shortenName(nom);
        const displayNum = num ? `#${num}` : '';
        
        // Horaires préférés - afficher SEULEMENT si l'horaire n'est PAS préféré
        let prefTimeDisplay = '';
        
        if (equipeData && equipeData.horaires_preferes && equipeData.horaires_preferes.length > 0) {
            const matchTime = match.horaire;
            const preferredTime = equipeData.horaires_preferes[0]; // Premier horaire préféré
            const hasPreferredTime = matchTime && matchTime.includes(preferredTime);
            
            if (!hasPreferredTime) {
                // L'horaire n'est PAS préféré - afficher l'horaire préféré
                prefTimeDisplay = `<span class="pref-time" style="font-size: 0.625rem; font-weight: 700; padding: 0.15rem 0.4rem; background: rgba(255, 223, 0, 0.25); border-radius: 4px; display: inline-flex; align-items: center; gap: 0.15rem; border: 1px solid rgba(255, 223, 0, 0.4); box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2), 0 0 8px rgba(255, 223, 0, 0.3); font-family: 'Roboto Mono', monospace; letter-spacing: 0.03em;" title="Horaire préféré">⏰${preferredTime}</span>`;
            }
        }
        
        return `
            <div class="team-info-compact" style="display: flex; flex-direction: row; align-items: center; gap: 0.3rem; width: 100%;">
                ${displayNum ? `<span class="team-num-compact" style="font-size: 0.65rem; font-weight: 800; background: rgba(255, 255, 255, 0.25); padding: 0.15rem 0.35rem; border-radius: 4px; letter-spacing: 0.03em; font-family: 'Roboto Mono', 'Courier New', monospace; box-shadow: 0 1px 2px rgba(0, 0, 0, 0.15); border: 1px solid rgba(255, 255, 255, 0.15);">${displayNum}</span>` : ''}
                <div class="team-content" style="display: flex; flex-direction: column; gap: 0.15rem; flex: 1; min-width: 0;">
                    <span class="team-name-compact" style="font-size: 0.75rem; font-weight: 700; line-height: 1.3; text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3); letter-spacing: 0.02em; font-family: 'Inter', 'Segoe UI', -apple-system, sans-serif; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">${displayName}</span>
                    ${prefTimeDisplay}
                </div>
            </div>
        `;
    }
    
    /**
     * Raccourcit le nom d'une institution
     */
    shortenInstitution(institution) {
        if (!institution) return '';
        if (institution.length <= 25) return institution;
        return institution.substring(0, 22) + '...';
    }
    
    /**
     * Affiche les préférences d'une équipe (compact)
     */
    renderTeamPreferences(equipeData) {
        const prefs = [];
        
        if (equipeData.horaires_preferes && equipeData.horaires_preferes.length > 0) {
            prefs.push(`⏰ ${equipeData.horaires_preferes[0]}`);
        }
        
        if (equipeData.lieux_preferes && equipeData.lieux_preferes.length > 0) {
            prefs.push(`📍`);
        }
        
        if (prefs.length === 0) return '';
        
        return `<span class="team-prefs">${prefs.join(' ')}</span>`;
    }
    
    /**
     * Indicateur de genre
     */
    renderGenreIndicator(genre) {
        if (!genre) return '';
        
        const icon = genre === 'M' ? '♂️' : genre === 'F' ? '♀️' : '⚥';
        const label = genre === 'M' ? 'Masculin' : genre === 'F' ? 'Féminin' : 'Mixte';
        
        return `<span class="genre-indicator" style="font-size: 0.8rem; filter: drop-shadow(0 1px 3px rgba(0, 0, 0, 0.3)); margin-right: 0.15rem;" title="${label}">${icon}</span>`;
    }
    
    /**
     * Catégorie/Niveau compact
     */
    renderCompactCategory(match) {
        const category = this.extractCategory(match);
        if (!category) return '';
        
        return `<span class="category-compact" style="font-size: 0.65rem; font-weight: 900; padding: 0.15rem 0.4rem; background: rgba(255, 255, 255, 0.35); border-radius: 4px; text-transform: uppercase; letter-spacing: 0.08em; box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2); font-family: 'Roboto', 'Arial', sans-serif; border: 1px solid rgba(255, 255, 255, 0.2);" title="Niveau">${category}</span>`;
    }
    
    /**
     * Informations compactes du match (poule + score + horaires préférés)
     */
    renderCompactMatchInfo(match) {
        const info = [];
        
        // Poule
        if (match.poule && match.poule !== 'nan' && match.poule !== 'null') {
            info.push(`<span class="info-poule" style="font-weight: 800; padding: 0.15rem 0.4rem; background: rgba(255, 255, 255, 0.3); border-radius: 4px; text-transform: uppercase; letter-spacing: 0.05em; font-family: 'Roboto', sans-serif; box-shadow: 0 1px 2px rgba(0, 0, 0, 0.15); border: 1px solid rgba(255, 255, 255, 0.2);">${match.poule}</span>`);
        }
        
        // Score si disponible - vérifier tous les champs nécessaires
        if (match.score && match.score.has_score && 
            match.score.equipe1 !== null && match.score.equipe1 !== undefined &&
            match.score.equipe2 !== null && match.score.equipe2 !== undefined) {
            info.push(`<span class="info-score" style="font-weight: 900; padding: 0.2rem 0.5rem; background: rgba(255, 255, 255, 0.4); border-radius: 5px; letter-spacing: 0.08em; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.25); font-family: 'Roboto Mono', monospace; font-size: 0.7rem; border: 1px solid rgba(255, 255, 255, 0.25);">${match.score.equipe1}-${match.score.equipe2}</span>`);
        }
        
        if (info.length === 0) return '';
        
        return `<div class="match-info-compact" style="display: flex; gap: 0.4rem; align-items: center; justify-content: center; margin-top: 0.4rem; padding-top: 0.4rem; border-top: 1px solid rgba(255, 255, 255, 0.3); font-size: 0.625rem;">${info.join(' ')}</div>`;
    }
    
    /**
     * Badges du match (fixed, external, etc.)
     */
    renderMatchBadges(match) {
        const badges = [];
        
        if (match.is_fixed) {
            badges.push('<span class="match-badge badge-fixed" style="font-size: 0.7rem; padding: 0.15rem 0.3rem; border-radius: 4px; background: rgba(255, 255, 255, 0.25); box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);" title="Match fixé">📌</span>');
        }
        
        if (match.is_external) {
            badges.push('<span class="match-badge badge-external" style="font-size: 0.7rem; padding: 0.15rem 0.3rem; border-radius: 4px; background: rgba(255, 255, 255, 0.25); box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);" title="Match externe">🔗</span>');
        }
        
        if (match.is_entente) {
            badges.push('<span class="match-badge badge-entente" style="font-size: 0.7rem; padding: 0.15rem 0.3rem; border-radius: 4px; background: rgba(255, 255, 255, 0.25); box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);" title="Entente">🤝</span>');
        }
        
        if (badges.length === 0) return '';
        
        return `<div class="match-badges" style="display: flex; gap: 0.25rem;">${badges.join('')}</div>`;
    }
    
    /**
     * Détails du match (poule/championnat, score si disponible)
     */
    renderMatchDetails(match) {
        const details = [];
        
        // Poule ou championnat
        if (match.poule && match.poule !== 'nan' && match.poule !== 'null') {
            details.push(`<span class="detail-poule" title="Poule">${match.poule}</span>`);
        } else if (match.championnat) {
            details.push(`<span class="detail-championnat" title="Championnat">${match.championnat}</span>`);
        }
        
        // Score si disponible
        if (match.score && match.score.has_score) {
            details.push(`
                <span class="detail-score" title="Score">
                    ${match.score.equipe1} - ${match.score.equipe2}
                </span>
            `);
        }
        
        if (details.length === 0) return '';
        
        return `<div class="match-details">${details.join(' • ')}</div>`;
    }
    
    /**
     * Construit un tooltip riche pour le match
     */
    buildMatchTooltip(match, equipe1Data, equipe2Data) {
        const lines = [];
        
        // Équipes
        lines.push(`${match.equipe1_nom} #${match.equipe1_num || '?'} vs ${match.equipe2_nom} #${match.equipe2_num || '?'}`);
        
        // Poule/Championnat
        if (match.poule && match.poule !== 'nan') {
            lines.push(`Poule: ${match.poule}`);
        } else if (match.championnat) {
            lines.push(`Championnat: ${match.championnat}`);
        }
        
        // Genre
        const genre = match.equipe1_genre || match.equipe2_genre;
        if (genre) {
            lines.push(`Genre: ${genre === 'M' ? 'Masculin' : 'Féminin'}`);
        }
        
        // Horaire et lieu
        if (match.horaire) {
            lines.push(`Horaire: ${match.horaire}`);
        }
        if (match.gymnase_nom) {
            lines.push(`Lieu: ${match.gymnase_nom}`);
        }
        
        // Préférences équipe 1
        if (equipe1Data) {
            const prefs1 = [];
            if (equipe1Data.horaires_preferes && equipe1Data.horaires_preferes.length > 0) {
                prefs1.push(`⏰ ${equipe1Data.horaires_preferes.join(', ')}`);
            }
            if (equipe1Data.lieux_preferes && equipe1Data.lieux_preferes.length > 0) {
                prefs1.push(`📍 ${equipe1Data.lieux_preferes.join(', ')}`);
            }
            if (prefs1.length > 0) {
                lines.push(`${match.equipe1_nom}: ${prefs1.join(' ')}`);
            }
        }
        
        // Préférences équipe 2
        if (equipe2Data) {
            const prefs2 = [];
            if (equipe2Data.horaires_preferes && equipe2Data.horaires_preferes.length > 0) {
                prefs2.push(`⏰ ${equipe2Data.horaires_preferes.join(', ')}`);
            }
            if (equipe2Data.lieux_preferes && equipe2Data.lieux_preferes.length > 0) {
                prefs2.push(`📍 ${equipe2Data.lieux_preferes.join(', ')}`);
            }
            if (prefs2.length > 0) {
                lines.push(`${match.equipe2_nom}: ${prefs2.join(' ')}`);
            }
        }
        
        // Pénalités
        if (match.penalties && match.penalties.total > 0) {
            lines.push(`⚡ Pénalités: ${match.penalties.total.toFixed(0)}`);
        }
        
        // Badges
        if (match.is_fixed) lines.push('📌 Match fixé');
        if (match.is_external) lines.push('🔗 Match externe');
        if (match.is_entente) lines.push('🤝 Entente');
        
        return lines.join('\n');
    }
    
    /**
     * Indicateur de pénalités avec tooltip
     */
    renderPenaltyIndicator(penalties) {
        const total = penalties.total || 0;
        if (total === 0) return '';
        
        const className = this.getPenaltyClass(total);
        const tooltip = this.buildPenaltyTooltip(penalties);
        
        return `
            <div class="penalty-indicator ${className}" title="${tooltip}">
                <span class="penalty-icon">⚡</span>
                <span class="penalty-value">${total.toFixed(0)}</span>
            </div>
        `;
    }
    
    /**
     * Badge d'avertissement de conflit (coin supérieur droit)
     * @param {Object} conflicts - Informations sur les conflits
     * @returns {string} - HTML du badge
     */
    renderConflictBadge(conflicts) {
        const isCritical = conflicts.level === 'critical';
        const icon = '⚠️';
        const severity = isCritical ? 'critical' : 'warning';
        const tooltip = this.buildConflictTooltip(conflicts);
        
        return `
            <div class="match-conflict-badge match-conflict-${severity}" title="${tooltip}">
                <span class="conflict-icon">${icon}</span>
            </div>
        `;
    }
    
    /**
     * Construit le tooltip des conflits enrichi et détaillé
     * @param {Object} conflicts - Informations sur les conflits
     * @returns {string} - HTML du tooltip
     */
    buildConflictTooltip(conflicts) {
        if (!conflicts || !conflicts.hasConflict) {
            return 'Aucun conflit';
        }
        
        const parts = [];
        
        // Titre avec sévérité
        const severityLabel = conflicts.level === 'critical' 
            ? '🔴 CONFLIT CRITIQUE' 
            : '🟡 AVERTISSEMENT';
        parts.push(severityLabel);
        
        // Détails des conflits
        if (conflicts.details && conflicts.details.length > 0) {
            conflicts.details.forEach(detail => {
                parts.push(
                    `\n- ${this.getConflictTypeLabel(detail.type)}: ${detail.message}`
                );
            });
        }
        
        // Informations supplémentaires
        if (conflicts.types.includes('over_capacity')) {
            parts.push('\n\nAction requise: Déplacez des matchs vers un autre créneau/gymnase.');
        }
        if (conflicts.types.includes('team_duplicate')) {
            parts.push('\n\nAction requise: Une équipe ne peut pas jouer deux matchs en même temps.');
        }
        
        return parts.join('');
    }
    
    /**
     * Retourne le label explicite d'un type de conflit
     */
    getConflictTypeLabel(type) {
        const labels = {
            'over_capacity': 'Dépassement de capacité',
            'team_duplicate': 'Équipe en double',
            'institution_overlap': 'Concentration d\'institutions'
        };
        return labels[type] || type;
    }
    
    /**
     * Construit le tooltip des pénalités
     */
    buildPenaltyTooltip(penalties) {
        const parts = [];
        
        if (penalties.horaire_prefere > 0) {
            parts.push(`⏰ Horaire: ${penalties.horaire_prefere.toFixed(1)}`);
        }
        if (penalties.espacement > 0) {
            parts.push(`📅 Espacement: ${penalties.espacement.toFixed(1)}`);
        }
        if (penalties.indisponibilite > 0) {
            parts.push(`🚫 Indispo: ${penalties.indisponibilite.toFixed(1)}`);
        }
        if (penalties.compaction > 0) {
            parts.push(`📦 Compaction: ${penalties.compaction.toFixed(1)}`);
        }
        if (penalties.overlap > 0) {
            parts.push(`🔀 Overlap: ${penalties.overlap.toFixed(1)}`);
        }
        
        return parts.length > 0 ? parts.join('\n') : 'Aucune pénalité';
    }
    
    /**
     * Classe CSS selon la sévérité de la pénalité
     */
    getPenaltyClass(total) {
        if (total === 0) return 'penalty-none';
        if (total < 20) return 'penalty-low';
        if (total < 50) return 'penalty-medium';
        if (total < 100) return 'penalty-high';
        return 'penalty-critical';
    }
    
    /**
     * Raccourcit un nom d'équipe pour le mode compact
     */
    shortenName(name) {
        // Garder juste l'institution et le numéro
        // Ex: "LYON 1 (5)" → "LYON 1 (5)"
        // Ex: "CENTRALE LYON (2)" → "CENTRALE (2)"
        if (name.length <= 15) return name;
        
        const match = name.match(/^(.+?)\s*\((\d+)\)$/);
        if (match) {
            const [, inst, num] = match;
            const shortInst = inst.split(' ').slice(0, 2).join(' ');
            return `${shortInst} (${num})`;
        }
        
        return name.substring(0, 15) + '...';
    }
    
    /**
    /**
     * Extrait la catégorie/niveau du match (A1, A2, A3, A4, CFE, CFU)
     * Cherche dans le nom des équipes ou dans les données du match
     */
    extractCategory(match) {
        // 1. Essayer d'extraire depuis le champ poule (ex: "VBFA1PA" -> "A1")
        if (match.poule) {
            // Chercher A1-A4
            const pouleMatch = match.poule.match(/A([1-4])/i);
            if (pouleMatch) {
                return `A${pouleMatch[1]}`;
            }
            
            // Chercher CFE ou CFU
            const cfeMatch = match.poule.match(/CF[EU]/i);
            if (cfeMatch) {
                return cfeMatch[0].toUpperCase();
            }
        }
        
        // 2. Essayer d'extraire depuis le nom de l'équipe
        const teamNames = [match.equipe1_nom, match.equipe2_nom].join(' ');
        
        // Chercher A1, A2, A3, A4
        const categoryMatch = teamNames.match(/A([1-4])/i);
        if (categoryMatch) {
            return `A${categoryMatch[1]}`;
        }
        
        // Chercher CFE ou CFU
        const cfeMatch = teamNames.match(/CF[EU]/i);
        if (cfeMatch) {
            return cfeMatch[0].toUpperCase();
        }
        
        // 3. Si le match a un champ category/niveau
        if (match.category) {
            const cat = match.category.toUpperCase();
            if (cat.match(/^(A[1-4]|CFE|CFU)$/)) {
                return cat;
            }
        }
        
        if (match.niveau) {
            const niv = match.niveau.toUpperCase();
            if (niv.match(/^(A[1-4]|CFE|CFU)$/)) {
                return niv;
            }
        }
        
        // Par défaut
        return '';
    }
}

// Export
if (typeof window !== 'undefined') {
    window.MatchCardRenderer = MatchCardRenderer;
}


// utils/agenda-view-manager.js
/**
 * AgendaViewManager - Gestionnaire des vues agenda (par gymnase ou par semaine)
 * 
 * Responsabilités:
 * - Gestion du mode d'affichage (venues/weeks)
 * - Navigation entre semaines/gymnases (précédent/suivant)
 * - Calcul dynamique des plages horaires
 * - Organisation des données pour l'affichage
 * - Intégration avec les filtres
 */

class AgendaViewManager {
    constructor(dataManager) {
        this.dataManager = dataManager;
        
        // Mode d'affichage
        this.displayMode = 'venues'; // 'venues' ou 'weeks'
        
        // Navigation
        this.currentWeek = null;
        this.currentVenue = null;
        this.availableWeeks = [];
        this.availableVenues = [];
        
        // Plage horaire dynamique
        this.minHour = 8;
        this.maxHour = 22;
        this.hourStep = 2; // Pas de 2h (peut être ajusté)
        
        // Options
        this.showAvailableSlots = false;
        this.matchDurationHours = 2;
        
        this._initialize();
    }
    
    /**
     * Initialisation
     */
    _initialize() {
        const matches = this.dataManager.getScheduledMatches();
        
        // Extraire les semaines disponibles
        this.availableWeeks = [...new Set(matches.map(m => m.semaine))]
            .filter(w => w)
            .sort((a, b) => a - b);
        
        // Extraire les gymnases disponibles
        this.availableVenues = [...new Set(matches.map(m => m.gymnase))]
            .filter(v => v)
            .map(id => ({
                id: id,
                data: this.dataManager.getGymnaseById(id)
            }))
            .sort((a, b) => (a.data?.nom || a.id).localeCompare(b.data?.nom || b.id));
        
        // Initialiser la vue
        this.currentWeek = this.availableWeeks[0] || null;
        this.currentVenue = this.availableVenues[0]?.id || null;
    }
    
    /**
     * Change le mode d'affichage
     */
    setDisplayMode(mode) {
        if (mode !== 'venues' && mode !== 'weeks') {
            return;
        }
        
        this.displayMode = mode;
    }
    
    /**
     * Navigation vers la semaine suivante
     */
    nextWeek() {
        const currentIndex = this.availableWeeks.indexOf(this.currentWeek);
        if (currentIndex < this.availableWeeks.length - 1) {
            this.currentWeek = this.availableWeeks[currentIndex + 1];
            return true;
        }
        return false;
    }
    
    /**
     * Navigation vers la semaine précédente
     */
    previousWeek() {
        const currentIndex = this.availableWeeks.indexOf(this.currentWeek);
        if (currentIndex > 0) {
            this.currentWeek = this.availableWeeks[currentIndex - 1];
            return true;
        }
        return false;
    }
    
    /**
     * Navigation vers le gymnase suivant
     */
    nextVenue() {
        const currentIndex = this.availableVenues.findIndex(v => v.id === this.currentVenue);
        if (currentIndex < this.availableVenues.length - 1) {
            this.currentVenue = this.availableVenues[currentIndex + 1].id;
            return true;
        }
        return false;
    }
    
    /**
     * Navigation vers le gymnase précédent
     */
    previousVenue() {
        const currentIndex = this.availableVenues.findIndex(v => v.id === this.currentVenue);
        if (currentIndex > 0) {
            this.currentVenue = this.availableVenues[currentIndex - 1].id;
            return true;
        }
        return false;
    }
    
    /**
     * Calcule la plage horaire dynamique basée sur les matchs à afficher
     */
    calculateTimeRange(matches) {
        if (!matches || matches.length === 0) {
            this.minHour = 8;
            this.maxHour = 22;
            return { minHour: 8, maxHour: 22 };
        }
        
        const hours = matches
            .map(m => m.horaire)
            .filter(h => h)
            .map(h => {
                const parts = h.split(':');
                return parseInt(parts[0]);
            })
            .filter(h => !isNaN(h));
        
        if (hours.length === 0) {
            this.minHour = 8;
            this.maxHour = 22;
            return { minHour: 8, maxHour: 22 };
        }
        
        const minMatch = Math.min(...hours);
        const maxMatch = Math.max(...hours);
        
        // Ajouter 1h avant le premier match et après le dernier
        this.minHour = Math.max(6, Math.floor((minMatch - 1) / 2) * 2);
        this.maxHour = Math.min(24, Math.ceil((maxMatch + this.matchDurationHours + 1) / 2) * 2);
        
        return { minHour: this.minHour, maxHour: this.maxHour };
    }
    
    /**
     * Obtient les créneaux horaires à afficher
     */
    getTimeSlots() {
        const slots = [];
        for (let hour = this.minHour; hour < this.maxHour; hour += this.hourStep) {
            slots.push({
                hour: hour,
                label: `${hour}h - ${hour + this.hourStep}h`,
                start: `${String(hour).padStart(2, '0')}:00`
            });
        }
        return slots;
    }
    
    /**
     * Obtient les colonnes à afficher selon le mode
     */
    getColumns(filteredMatches) {
        if (this.displayMode === 'venues') {
            // Vue par gymnase: afficher tous les gymnases pour la semaine courante
            if (!this.currentWeek) return [];
            
            const weekMatches = filteredMatches.filter(m => m.semaine === this.currentWeek);
            const venueIds = [...new Set(weekMatches.map(m => m.gymnase))].filter(v => v);
            
            return venueIds.map(id => {
                const venue = this.dataManager.getGymnaseById(id);
                return {
                    id: id,
                    label: venue?.nom || id,
                    sublabel: null,
                    type: 'venue',
                    capacity: venue?.capacite || 1,
                    data: venue
                };
            }).sort((a, b) => a.label.localeCompare(b.label));
            
        } else {
            // Vue par semaine: afficher toutes les semaines
            const weeks = [...new Set(filteredMatches.map(m => m.semaine))].filter(w => w);
            
            return weeks.sort((a, b) => a - b).map(w => {
                // Pour chaque semaine, identifier les gymnases utilisés
                const weekMatches = filteredMatches.filter(m => m.semaine === w);
                const venues = [...new Set(weekMatches.map(m => m.gymnase))];
                const venueNames = venues
                    .map(id => this.dataManager.getGymnaseById(id)?.nom || id)
                    .sort();
                
                return {
                    id: w,
                    label: `Semaine ${w}`,
                    sublabel: venueNames.length <= 3 
                        ? venueNames.join(', ') 
                        : `${venueNames.slice(0, 2).join(', ')}... (+${venueNames.length - 2})`,
                    type: 'week',
                    capacity: Math.max(...venues.map(id => 
                        this.dataManager.getGymnaseById(id)?.capacite || 1
                    )),
                    venues: venues
                };
            });
        }
    }
    
    /**
     * Obtient les matchs pour une colonne spécifique
     */
    getMatchesForColumn(column, allMatches) {
        if (column.type === 'venue') {
            return allMatches.filter(m => 
                m.gymnase === column.id && 
                m.semaine === this.currentWeek
            );
        } else {
            // Pour la vue par semaine, tous les matchs de cette semaine
            return allMatches.filter(m => m.semaine === column.id);
        }
    }
    
    /**
     * Obtient les matchs pour un créneau spécifique dans une colonne
     */
    getMatchesForSlot(column, timeSlot, allMatches) {
        const columnMatches = this.getMatchesForColumn(column, allMatches);
        
        return columnMatches.filter(m => {
            if (!m.horaire) return false;
            
            const matchHour = parseInt(m.horaire.split(':')[0]);
            return matchHour === timeSlot.hour;
        });
    }
    
    /**
     * Calcule les créneaux disponibles pour une colonne
     */
    getAvailableSlots(column, allMatches) {
        if (!this.showAvailableSlots) return [];
        
        const slots = [];
        const timeSlots = this.getTimeSlots();
        
        for (const timeSlot of timeSlots) {
            const slotMatches = this.getMatchesForSlot(column, timeSlot, allMatches);
            const capacity = column.capacity || 1;
            
            if (slotMatches.length < capacity) {
                // Il reste de la place
                slots.push({
                    time: timeSlot,
                    column: column,
                    availableSlots: capacity - slotMatches.length,
                    totalCapacity: capacity
                });
            }
        }
        
        return slots;
    }
    
    /**
     * Génère les données de navigation
     */
    getNavigationData() {
        if (this.displayMode === 'venues') {
            const currentIndex = this.availableWeeks.indexOf(this.currentWeek);
            return {
                mode: 'venues',
                current: this.currentWeek,
                currentLabel: `Semaine ${this.currentWeek}`,
                hasPrevious: currentIndex > 0,
                hasNext: currentIndex < this.availableWeeks.length - 1,
                total: this.availableWeeks.length,
                index: currentIndex + 1
            };
        } else {
            return {
                mode: 'weeks',
                current: null,
                currentLabel: 'Toutes les semaines',
                hasPrevious: false,
                hasNext: false,
                total: this.availableWeeks.length,
                index: null
            };
        }
    }
    
    /**
     * Obtient des statistiques sur la vue actuelle
     */
    getViewStats(filteredMatches, columns) {
        const totalMatches = this.dataManager.getScheduledMatches().length;
        const visibleMatches = filteredMatches.length;
        
        return {
            displayMode: this.displayMode,
            totalColumns: columns.length,
            totalMatches: totalMatches,
            visibleMatches: visibleMatches,
            timeRange: `${this.minHour}h - ${this.maxHour}h`,
            slotsCount: this.getTimeSlots().length
        };
    }
}

// Export global
window.AgendaViewManager = AgendaViewManager;


// utils/available-slots-manager.js
/**
 * AvailableSlotsManager - Gestion des créneaux disponibles
 * 
 * Responsabilités:
 * - Calcul des créneaux disponibles (terrains libres)
 * - Rendu visuel des cases vertes
 * - Gestion du toggle affichage/masquage
 * - Zones de drop pour drag & drop
 */

class AvailableSlotsManager {
    constructor() {
        this.showAvailableSlots = false;
    }
    
    /**
     * Toggle l'affichage des créneaux disponibles
     */
    toggle() {
        this.showAvailableSlots = !this.showAvailableSlots;
        return this.showAvailableSlots;
    }
    
    /**
     * Active/désactive l'affichage
     */
    setShow(show) {
        this.showAvailableSlots = show;
    }
    
    /**
     * Calcule les créneaux disponibles pour un slot
     * @param {Array} slotMatches - Matchs déjà dans le créneau
     * @param {number} capacity - Capacité du gymnase
     * @returns {number} - Nombre de terrains disponibles
     */
    calculateAvailable(slotMatches, capacity) {
        return Math.max(0, capacity - slotMatches.length);
    }
    
    /**
     * Génère les cases de créneaux disponibles
     * @param {number} available - Nombre de terrains disponibles
     * @param {Object} slotInfo - Informations sur le créneau (time, column)
     * @returns {string} - HTML des cases vertes
     */
    renderAvailableSlots(available, slotInfo) {
        if (!this.showAvailableSlots || available <= 0) {
            return '';
        }
        
        const slots = [];
        for (let i = 0; i < available; i++) {
            slots.push(this.renderSingleSlot(slotInfo, i));
        }
        
        return slots.join('');
    }
    
    /**
     * Génère une case de créneau disponible
     */
    renderSingleSlot(slotInfo, index) {
        return `
            <div class="available-slot" 
                 data-slot-type="available"
                 data-time="${slotInfo.time}"
                 data-column="${slotInfo.columnId}"
                 data-index="${index}"
                 title="Terrain disponible\nClic pour ajouter un match">
                <div class="available-slot-content">
                    <span class="available-slot-icon">✓</span>
                    <span class="available-slot-text">Disponible</span>
                </div>
            </div>
        `;
    }
    
    /**
     * Génère un indicateur visuel de disponibilité (sans prendre de place)
     */
    renderAvailabilityIndicator(available, capacity) {
        if (!this.showAvailableSlots || available <= 0) {
            return '';
        }
        
        const percentage = (available / capacity) * 100;
        const className = percentage >= 75 ? 'high' : percentage >= 50 ? 'medium' : 'low';
        
        return `
            <div class="availability-indicator ${className}">
                <span>${available}/${capacity} libres</span>
            </div>
        `;
    }
    
    /**
     * Vérifie si un créneau peut accueillir un match
     */
    canAcceptMatch(slotMatches, capacity) {
        return slotMatches.length < capacity;
    }
    
    /**
     * Génère un overlay de créneau disponible pour drag & drop
     */
    renderDropZone(slotInfo, isActive = false) {
        const classes = ['drop-zone'];
        if (isActive) classes.push('drop-zone-active');
        
        return `
            <div class="${classes.join(' ')}"
                 data-drop-zone="true"
                 data-time="${slotInfo.time}"
                 data-column="${slotInfo.columnId}">
                <div class="drop-zone-content">
                    <span class="drop-zone-icon">+</span>
                    <span class="drop-zone-text">Déposer ici</span>
                </div>
            </div>
        `;
    }
}

// Export global
window.AvailableSlotsManager = AvailableSlotsManager;


// managers/view-options-manager.js
/**
 * ViewOptionsManager - Gère les options d'affichage dynamiques dans la barre latérale
 * 
 * Ce gestionnaire affiche les options spécifiques à chaque vue active
 * et gère les interactions utilisateur avec ces options.
 */

class ViewOptionsManager {
    constructor(container) {
        this.container = container;
        this.currentView = null;
        this.viewInstances = {};
    }

    /**
     * Enregistre une vue et son instance
     */
    registerView(viewName, viewInstance) {
        this.viewInstances[viewName] = viewInstance;
    }

    /**
     * Change la vue active et met à jour les options affichées
     */
    switchView(viewName) {
        this.currentView = viewName;
        this.render();
    }

    /**
     * Affiche les options pour la vue courante
     */
    render() {
        if (!this.container) return;

        const viewInstance = this.viewInstances[this.currentView];
        
        if (viewInstance && typeof viewInstance.getDisplayOptions === 'function') {
            const optionsConfig = viewInstance.getDisplayOptions();
            this.container.innerHTML = this._generateOptionsHTML(optionsConfig);
            this._attachEventListeners(optionsConfig);
        } else {
            this.container.innerHTML = '';
        }
    }

    /**
     * Génère le HTML des options
     */
    _generateOptionsHTML(config) {
        if (!config || !config.options || config.options.length === 0) {
            return '';
        }

        let html = `
            <div class="control-section view-options-section">
                <h3 class="control-section-title">${config.title || 'Options'}</h3>
                <div class="option-group">
        `;

        config.options.forEach(option => {
            switch (option.type) {
                case 'button-group':
                    html += this._generateButtonGroup(option);
                    break;
                case 'select':
                    html += this._generateSelect(option);
                    break;
                case 'checkbox':
                    html += this._generateCheckbox(option);
                    break;
            }
        });

        html += `
                </div>
            </div>
        `;

        return html;
    }

    /**
     * Génère un groupe de boutons
     */
    _generateButtonGroup(option) {
        let html = `
            <div class="option-item" style="margin-bottom: 1.5rem;">
                <label class="option-label-full" style="display: block; font-weight: 600; margin-bottom: 0.75rem; color: #1e293b; font-size: 0.875rem; text-transform: uppercase; letter-spacing: 0.5px;">${option.label}</label>
                <div class="display-format-buttons" style="display: flex; flex-direction: column; gap: 0.5rem;">
        `;

        option.values.forEach(value => {
            const isActive = value.value === option.default;
            const activeStyles = isActive 
                ? 'background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; font-weight: 600; box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);' 
                : 'background: white; color: #475569; border: 2px solid #e2e8f0;';
            
            html += `
                <button class="display-option-btn ${isActive ? 'active' : ''}" 
                        data-option-id="${option.id}" 
                        data-value="${value.value}"
                        style="padding: 0.75rem 1rem; border-radius: 8px; border: none; cursor: pointer; transition: all 0.2s ease; font-size: 0.875rem; text-align: left; ${activeStyles}">
                    ${value.text}
                </button>
            `;
        });

        html += `
                </div>
            </div>
        `;

        return html;
    }

    /**
     * Génère un sélecteur
     */
    _generateSelect(option) {
        let html = `
            <div class="option-item">
                <label class="option-label-full">${option.label}</label>
                <select class="form-select-sidebar" data-option-id="${option.id}">
        `;

        option.values.forEach(value => {
            const selected = value.value === option.default ? 'selected' : '';
            html += `<option value="${value.value}" ${selected}>${value.text}</option>`;
        });

        html += `
                </select>
            </div>
        `;

        return html;
    }

    /**
     * Génère une case à cocher
     */
    _generateCheckbox(option) {
        return `
            <label class="option-item">
                <input type="checkbox" 
                       data-option-id="${option.id}" 
                       ${option.default ? 'checked' : ''}>
                <span class="option-label">${option.label}</span>
            </label>
        `;
    }

    /**
     * Attache les écouteurs d'événements
     */
    _attachEventListeners(config) {
        if (!this.container) return;

        // Gestion des groupes de boutons
        const buttons = this.container.querySelectorAll('.display-option-btn');
        buttons.forEach(button => {
            button.addEventListener('click', (e) => {
                const optionId = e.currentTarget.dataset.optionId;
                const value = e.currentTarget.dataset.value;
                
                // Trouver l'option correspondante
                const option = config.options.find(opt => opt.id === optionId);
                if (option && option.action) {
                    option.action(value);
                    
                    // Mettre à jour l'état visuel des boutons avec styles inline
                    const groupButtons = this.container.querySelectorAll(`[data-option-id="${optionId}"]`);
                    groupButtons.forEach(btn => {
                        btn.classList.remove('active');
                        // Style inactif
                        btn.style.background = 'white';
                        btn.style.color = '#475569';
                        btn.style.border = '2px solid #e2e8f0';
                        btn.style.fontWeight = 'normal';
                        btn.style.boxShadow = 'none';
                    });
                    
                    e.currentTarget.classList.add('active');
                    // Style actif
                    e.currentTarget.style.background = 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';
                    e.currentTarget.style.color = 'white';
                    e.currentTarget.style.border = 'none';
                    e.currentTarget.style.fontWeight = '600';
                    e.currentTarget.style.boxShadow = '0 4px 12px rgba(102, 126, 234, 0.4)';
                }
            });
        });

        // Gestion des sélecteurs
        const selects = this.container.querySelectorAll('select[data-option-id]');
        selects.forEach(select => {
            select.addEventListener('change', (e) => {
                const optionId = e.currentTarget.dataset.optionId;
                const value = e.currentTarget.value;
                
                const option = config.options.find(opt => opt.id === optionId);
                if (option && option.action) {
                    option.action(value);
                }
            });
        });

        // Gestion des cases à cocher
        const checkboxes = this.container.querySelectorAll('input[type="checkbox"][data-option-id]');
        checkboxes.forEach(checkbox => {
            checkbox.addEventListener('change', (e) => {
                const optionId = e.currentTarget.dataset.optionId;
                const checked = e.currentTarget.checked;
                
                const option = config.options.find(opt => opt.id === optionId);
                if (option && option.action) {
                    option.action(checked);
                }
            });
        });
    }
}

// Export global
if (typeof window !== 'undefined') {
    window.ViewOptionsManager = ViewOptionsManager;
}


// features/drag-drop-manager.js
/**
 * DragDropManager - Stub minimal pour le drag & drop
 *
 * Fournit une implémentation légère qui évite les erreurs si le module complet
 * n'est pas présent. Elle expose l'API utilisée par `AgendaGridView` :
 * - constructeur(dataManager, modificationManager)
 * - initializeDragDrop(container)
 * - onModification (callback)
 */

class DragDropManager {
    constructor(dataManager, modificationManager) {
        this.dataManager = dataManager;
        this.modificationManager = modificationManager;
        this.onModification = null; // callback à appeler quand une modification est faite
    }

    /**
     * Initialise le drag & drop dans le conteneur. Implémentation no-op sûre.
     */
    initializeDragDrop(container) {
        // Si nécessaire, on peut attacher des listeners basiques pour UX minimal
        // Mais par défaut, on ne fait rien pour rester non-intrusif.
        this.container = container;

        // Exemple : détecter le drop d'un élément avec data-match-id et appeler la callback
        container.querySelectorAll('[data-drop-zone]').forEach(zone => {
            zone.addEventListener('dragover', (e) => e.preventDefault());
            zone.addEventListener('drop', (e) => {
                e.preventDefault();
                try {
                    const matchId = e.dataTransfer?.getData('text/match-id');
                    if (matchId && this.modificationManager && typeof this.modificationManager.applyDrop === 'function') {
                        // appeler l'API de modification si disponible
                        this.modificationManager.applyDrop(matchId, zone.dataset.time, zone.dataset.column);
                        if (typeof this.onModification === 'function') this.onModification();
                    }
                } catch (err) {
                    // silencieux
                }
            });
        });
    }

    /**
     * Méthode utilitaire pour déclencher la callback (utile pour tests)
     */
    triggerModification() {
        if (typeof this.onModification === 'function') this.onModification();
    }
}

// Export global
if (typeof window !== 'undefined') {
    window.DragDropManager = DragDropManager;
}


// features/enhanced-filter-system.js
/**
 * Enhanced Filter System - Système de filtres complet et fonctionnel
 * Intégration parfaite avec le dataManager et les vues
 */

class EnhancedFilterSystem {
    constructor() {
        this.filters = {
            gender: null,
            week: null,
            pool: null,
            institution: null,
            venue: null,
            days: [],
            timeStart: null,
            timeEnd: null,
            states: [],
            search: '',
            status: 'all' // Pour la vue Matchs: 'all', 'fixed', 'scheduled', 'unscheduled', 'entente'
        };
        
        this.callbacks = [];
        this.initialized = false;
    }
    
    /**
     * Initialise le système de filtres
     */
    init() {
        if (this.initialized) return;
        
        console.log('🔍 Initialisation du système de filtres...');
        
        // Charger les filtres depuis localStorage
        this.loadFromStorage();
        
        // Peupler les options dynamiques
        this.populateOptions();
        
        // Attacher les événements
        this.attachEvents();
        
        // Appliquer les filtres initiaux
        this.apply();
        
        this.initialized = true;
        console.log('✅ Système de filtres initialisé');
    }
    
    /**
     * Charge les filtres depuis localStorage
     */
    loadFromStorage() {
        try {
            const stored = localStorage.getItem('pycalendar_filters');
            if (stored) {
                const savedFilters = JSON.parse(stored);
                this.filters = { ...this.filters, ...savedFilters };
                this.applyToUI();
            }
        } catch (e) {
            console.warn('Erreur chargement filtres:', e);
        }
    }
    
    /**
     * Sauvegarde les filtres dans localStorage
     */
    saveToStorage() {
        try {
            localStorage.setItem('pycalendar_filters', JSON.stringify(this.filters));
        } catch (e) {
            console.warn('Erreur sauvegarde filtres:', e);
        }
    }
    
    /**
     * Applique les filtres à l'UI
     */
    applyToUI() {
        // Gender
        if (this.filters.gender) {
            const radio = document.querySelector(`input[name="filter-gender"][value="${this.filters.gender}"]`);
            if (radio) radio.checked = true;
        }
        
        // Selects
        ['week', 'pool', 'institution', 'venue'].forEach(key => {
            const select = document.getElementById(`filter-${key}`);
            if (select && this.filters[key]) {
                select.value = this.filters[key];
            }
        });
        
        // Days
        this.filters.days.forEach(day => {
            const checkbox = document.querySelector(`input[name="filter-day"][value="${day}"]`);
            if (checkbox) checkbox.checked = true;
        });
        
        // Time
        if (this.filters.timeStart) {
            const input = document.getElementById('filter-time-start');
            if (input) input.value = this.filters.timeStart;
        }
        if (this.filters.timeEnd) {
            const input = document.getElementById('filter-time-end');
            if (input) input.value = this.filters.timeEnd;
        }
        
        // States
        this.filters.states.forEach(state => {
            const checkbox = document.querySelector(`input[name="filter-state"][value="${state}"]`);
            if (checkbox) checkbox.checked = true;
        });
        
        // Search
        if (this.filters.search) {
            const input = document.getElementById('filter-search');
            if (input) input.value = this.filters.search;
        }
    }
    
    /**
     * Peuple les options dynamiques (institutions, poules, gymnases, semaines)
     */
    populateOptions() {
        if (!window.dataManager) {
            console.warn('dataManager non disponible pour peupler les filtres');
            return;
        }
        
        const data = window.dataManager.getData();
        if (!data) return;
        
        // Institutions
        const institutions = new Set();
        if (data.entities?.equipes) {
            data.entities.equipes.forEach(equipe => {
                if (equipe.institution) {
                    institutions.add(equipe.institution);
                }
            });
        }
        
        const institutionSelect = document.getElementById('filter-institution');
        if (institutionSelect) {
            // Garder l'option "Toutes"
            institutionSelect.innerHTML = '<option value="">Toutes</option>';
            Array.from(institutions).sort().forEach(inst => {
                const option = document.createElement('option');
                option.value = inst;
                option.textContent = inst;
                institutionSelect.appendChild(option);
            });
        }
        
        // Poules
        const poolSelect = document.getElementById('filter-pool');
        if (poolSelect && data.entities?.poules) {
            poolSelect.innerHTML = '<option value="">Toutes</option>';
            data.entities.poules.forEach(pool => {
                const option = document.createElement('option');
                option.value = pool.id;
                option.textContent = pool.nom || pool.id;
                poolSelect.appendChild(option);
            });
        }
        
        // Gymnases
        const venueSelect = document.getElementById('filter-venue');
        if (venueSelect && data.entities?.gymnases) {
            venueSelect.innerHTML = '<option value="">Tous</option>';
            data.entities.gymnases.forEach(gym => {
                const option = document.createElement('option');
                option.value = gym.id;
                option.textContent = gym.nom || gym.id;
                venueSelect.appendChild(option);
            });
        }
        
        // Semaines
        const weeks = new Set();
        if (data.matches?.scheduled) {
            data.matches.scheduled.forEach(match => {
                if (match.semaine) {
                    weeks.add(match.semaine);
                }
            });
        }
        
        const weekSelect = document.getElementById('filter-week');
        if (weekSelect) {
            weekSelect.innerHTML = '<option value="">Toutes</option>';
            Array.from(weeks).sort((a, b) => a - b).forEach(week => {
                const option = document.createElement('option');
                option.value = week;
                option.textContent = `Semaine ${week}`;
                weekSelect.appendChild(option);
            });
        }
        
        console.log('📊 Options de filtres peuplées:', {
            institutions: institutions.size,
            poules: data.entities?.poules?.length || 0,
            gymnases: data.entities?.gymnases?.length || 0,
            semaines: weeks.size
        });
    }
    
    /**
     * Attache les événements
     */
    attachEvents() {
        // Gender radio buttons
        document.querySelectorAll('input[name="filter-gender"]').forEach(radio => {
            radio.addEventListener('change', (e) => {
                this.filters.gender = e.target.value || null;
                this.apply();
            });
        });
        
        // Status radio buttons (pour la vue Matchs)
        document.querySelectorAll('input[name="filter-status"]').forEach(radio => {
            radio.addEventListener('change', (e) => {
                this.filters.status = e.target.value || 'all';
                this.apply();
            });
        });
        
        // Week select
        const weekSelect = document.getElementById('filter-week');
        if (weekSelect) {
            weekSelect.addEventListener('change', (e) => {
                this.filters.week = e.target.value ? parseInt(e.target.value) : null;
                this.apply();
            });
        }
        
        // Pool select
        const poolSelect = document.getElementById('filter-pool');
        if (poolSelect) {
            poolSelect.addEventListener('change', (e) => {
                this.filters.pool = e.target.value || null;
                this.apply();
            });
        }
        
        // Institution select
        const institutionSelect = document.getElementById('filter-institution');
        if (institutionSelect) {
            institutionSelect.addEventListener('change', (e) => {
                this.filters.institution = e.target.value || null;
                this.apply();
            });
        }
        
        // Venue select
        const venueSelect = document.getElementById('filter-venue');
        if (venueSelect) {
            venueSelect.addEventListener('change', (e) => {
                this.filters.venue = e.target.value || null;
                this.apply();
            });
        }
        
        // Day checkboxes
        document.querySelectorAll('input[name="filter-day"]').forEach(checkbox => {
            checkbox.addEventListener('change', () => {
                this.filters.days = Array.from(
                    document.querySelectorAll('input[name="filter-day"]:checked')
                ).map(cb => cb.value);
                this.apply();
            });
        });
        
        // Time inputs
        const timeStart = document.getElementById('filter-time-start');
        if (timeStart) {
            timeStart.addEventListener('change', (e) => {
                this.filters.timeStart = e.target.value || null;
                this.apply();
            });
        }
        
        const timeEnd = document.getElementById('filter-time-end');
        if (timeEnd) {
            timeEnd.addEventListener('change', (e) => {
                this.filters.timeEnd = e.target.value || null;
                this.apply();
            });
        }
        
        // State checkboxes
        document.querySelectorAll('input[name="filter-state"]').forEach(checkbox => {
            checkbox.addEventListener('change', () => {
                this.filters.states = Array.from(
                    document.querySelectorAll('input[name="filter-state"]:checked')
                ).map(cb => cb.value);
                this.apply();
            });
        });
        
        // Search input (avec debounce)
        const searchInput = document.getElementById('filter-search');
        if (searchInput) {
            let timeoutId;
            searchInput.addEventListener('input', (e) => {
                clearTimeout(timeoutId);
                timeoutId = setTimeout(() => {
                    this.filters.search = e.target.value.trim();
                    this.apply();
                }, 300);
            });
        }
        
        // Clear filters button
        const btnClear = document.getElementById('btn-clear-filters');
        if (btnClear) {
            btnClear.addEventListener('click', () => {
                this.clear();
            });
        }
        
        console.log('👂 Événements de filtres attachés');
    }
    
    /**
     * Applique les filtres
     */
    apply() {
        // Sauvegarder
        this.saveToStorage();
        
        // Mettre à jour le résumé
        this.updateSummary();
        
        // Notifier les callbacks
        this.callbacks.forEach(callback => {
            try {
                callback(this.filters);
            } catch (e) {
                console.error('Erreur callback filtre:', e);
            }
        });
        
        // Notifier les vues
        if (window.agendaView && typeof window.agendaView.setFilters === 'function') {
            window.agendaView.setFilters(this.filters);
        }
        if (window.poolsView && typeof window.poolsView.setFilters === 'function') {
            window.poolsView.setFilters(this.filters);
        }
        if (window.matchesView && typeof window.matchesView.updateFilters === 'function') {
            window.matchesView.updateFilters(this.filters);
        }
        
        console.log('🔍 Filtres appliqués:', this.filters);
    }
    
    /**
     * Efface tous les filtres
     */
    clear() {
        // Reset filters object
        this.filters = {
            gender: null,
            week: null,
            pool: null,
            institution: null,
            venue: null,
            days: [],
            timeStart: null,
            timeEnd: null,
            states: [],
            search: '',
            status: 'all'
        };
        
        // Reset UI
        // Gender
        const genderAll = document.querySelector('input[name="filter-gender"][value=""]');
        if (genderAll) genderAll.checked = true;
        
        // Status
        const statusAll = document.querySelector('input[name="filter-status"][value="all"]');
        if (statusAll) statusAll.checked = true;
        
        // Selects
        ['filter-week', 'filter-pool', 'filter-institution', 'filter-venue'].forEach(id => {
            const select = document.getElementById(id);
            if (select) select.value = '';
        });
        
        // Checkboxes
        document.querySelectorAll('input[name="filter-day"]').forEach(cb => cb.checked = false);
        document.querySelectorAll('input[name="filter-state"]').forEach(cb => cb.checked = false);
        
        // Time
        const timeStart = document.getElementById('filter-time-start');
        if (timeStart) timeStart.value = '08:00';
        const timeEnd = document.getElementById('filter-time-end');
        if (timeEnd) timeEnd.value = '20:00';
        
        // Search
        const searchInput = document.getElementById('filter-search');
        if (searchInput) searchInput.value = '';
        
        // Apply
        this.apply();
        
        console.log('🧹 Filtres effacés');
    }
    
    /**
     * Met à jour le résumé des filtres
     */
    updateSummary() {
        const summaryTags = document.getElementById('summary-tags');
        if (!summaryTags) return;
        
        // Compter les filtres actifs
        const activeCount = this.countActive();
        
        if (activeCount === 0) {
            summaryTags.innerHTML = '<span class="no-filters">Aucun filtre actif</span>';
            return;
        }
        
        // Créer les tags
        const tags = [];
        
        if (this.filters.gender) {
            const label = this.filters.gender === 'M' ? '♂ Masculin' : 
                         this.filters.gender === 'F' ? '♀ Féminin' : 
                         '⚥ Mixte';
            tags.push(this.createTag(label, 'gender'));
        }
        
        if (this.filters.week) {
            tags.push(this.createTag(`📅 Semaine ${this.filters.week}`, 'week'));
        }
        
        if (this.filters.pool) {
            tags.push(this.createTag(`🏊 ${this.filters.pool}`, 'pool'));
        }
        
        if (this.filters.institution) {
            tags.push(this.createTag(`🏫 ${this.filters.institution}`, 'institution'));
        }
        
        if (this.filters.venue) {
            tags.push(this.createTag(`🏟️ ${this.filters.venue}`, 'venue'));
        }
        
        if (this.filters.days.length > 0) {
            const dayNames = {
                'mon': 'Lun', 'tue': 'Mar', 'wed': 'Mer',
                'thu': 'Jeu', 'fri': 'Ven', 'sat': 'Sam', 'sun': 'Dim'
            };
            const dayLabels = this.filters.days.map(d => dayNames[d] || d).join(', ');
            tags.push(this.createTag(`📆 ${dayLabels}`, 'days'));
        }
        
        if (this.filters.timeStart || this.filters.timeEnd) {
            const timeLabel = `🕐 ${this.filters.timeStart || '00:00'} - ${this.filters.timeEnd || '23:59'}`;
            tags.push(this.createTag(timeLabel, 'time'));
        }
        
        if (this.filters.states.length > 0) {
            const stateLabels = this.filters.states.map(s => {
                switch(s) {
                    case 'scheduled': return 'Planifiés';
                    case 'unscheduled': return 'Non planifiés';
                    case 'modified': return 'Modifiés';
                    case 'conflict': return 'Conflits';
                    default: return s;
                }
            }).join(', ');
            tags.push(this.createTag(`📊 ${stateLabels}`, 'states'));
        }
        
        if (this.filters.search) {
            tags.push(this.createTag(`🔍 "${this.filters.search}"`, 'search'));
        }
        
        summaryTags.innerHTML = tags.join('');
    }
    
    /**
     * Crée un tag HTML
     */
    createTag(label, key) {
        return `<span class="filter-tag" data-filter="${key}">${label}</span>`;
    }
    
    /**
     * Compte le nombre de filtres actifs
     */
    countActive() {
        let count = 0;
        if (this.filters.gender) count++;
        if (this.filters.week) count++;
        if (this.filters.pool) count++;
        if (this.filters.institution) count++;
        if (this.filters.venue) count++;
        if (this.filters.days.length > 0) count++;
        if (this.filters.timeStart || this.filters.timeEnd) count++;
        if (this.filters.states.length > 0) count++;
        if (this.filters.search) count++;
        return count;
    }
    
    /**
     * Filtre une liste de matchs
     */
    filterMatches(matches) {
        if (!matches || !window.dataManager) return matches;
        
        const data = window.dataManager.getData();
        if (!data) return matches;
        
        return matches.filter(match => {
            // Gender
            if (this.filters.gender) {
                const equipe1 = data.entities.equipes.find(e => e.id === match.equipes[0]);
                if (!equipe1 || equipe1.genre !== this.filters.gender) {
                    return false;
                }
            }
            
            // Week
            if (this.filters.week !== null) {
                if (match.semaine !== this.filters.week) {
                    return false;
                }
            }
            
            // Pool
            if (this.filters.pool) {
                const equipe1 = data.entities.equipes.find(e => e.id === match.equipes[0]);
                if (!equipe1 || equipe1.poule !== this.filters.pool) {
                    return false;
                }
            }
            
            // Institution
            if (this.filters.institution) {
                const equipe1 = data.entities.equipes.find(e => e.id === match.equipes[0]);
                const equipe2 = data.entities.equipes.find(e => e.id === match.equipes[1]);
                if ((!equipe1 || equipe1.institution !== this.filters.institution) &&
                    (!equipe2 || equipe2.institution !== this.filters.institution)) {
                    return false;
                }
            }
            
            // Venue
            if (this.filters.venue) {
                if (match.gymnase !== this.filters.venue) {
                    return false;
                }
            }
            
            // Days (nécessite jour de la semaine dans match.jour ou match.date)
            if (this.filters.days.length > 0) {
                // TODO: implémenter le filtre par jour
            }
            
            // Time range
            if (this.filters.timeStart && match.heure) {
                if (match.heure < this.filters.timeStart) {
                    return false;
                }
            }
            if (this.filters.timeEnd && match.heure) {
                if (match.heure > this.filters.timeEnd) {
                    return false;
                }
            }
            
            // Search
            if (this.filters.search) {
                const searchLower = this.filters.search.toLowerCase();
                const equipe1 = data.entities.equipes.find(e => e.id === match.equipes[0]);
                const equipe2 = data.entities.equipes.find(e => e.id === match.equipes[1]);
                
                const matchText = [
                    equipe1?.nom,
                    equipe2?.nom,
                    equipe1?.institution,
                    equipe2?.institution,
                    match.gymnase
                ].filter(Boolean).join(' ').toLowerCase();
                
                if (!matchText.includes(searchLower)) {
                    return false;
                }
            }
            
            return true;
        });
    }
    
    /**
     * Ajoute un callback
     */
    onChange(callback) {
        this.callbacks.push(callback);
    }
    
    /**
     * Obtient les filtres actuels
     */
    getFilters() {
        return { ...this.filters };
    }
}

// Export global
if (typeof window !== 'undefined') {
    window.EnhancedFilterSystem = EnhancedFilterSystem;
    window.filterSystem = new EnhancedFilterSystem();
}


// core/data-manager.js
/**
 * DataManager - Central data management for PyCalendar Interface
 * 
 * Responsibilities:
 * - Load and store solution data
 * - Manage current state (original + modifications)
 * - Provide data access to all views
 * - Notify observers of data changes
 * 
 * Data Flow:
 * 1. Load solution JSON (v2.0 format)
 * 2. Load modifications from localStorage
 * 3. Compute current state = original + modifications
 * 4. Expose data through clean API
 * 5. Notify components on changes
 */

class DataManager {
    constructor(solutionData) {
        // ==================== ORIGINAL DATA (IMMUTABLE) ====================
        this.original = Object.freeze(JSON.parse(JSON.stringify(solutionData)));
        
        // ==================== CURRENT STATE (COMPUTED) ====================
        this.current = {
            matches: {
                scheduled: [],
                unscheduled: []
            },
            slots: {
                available: [],
                occupied: []
            },
            entities: {
                equipes: [],
                gymnases: [],
                poules: []
            },
            statistics: {}
        };
        
        // ==================== INDEXES FOR FAST LOOKUP ====================
        this.indexes = {
            matchesById: new Map(),
            equipesById: new Map(),
            gymnasesById: new Map(),
            poulesById: new Map(),
            slotsById: new Map(),
            matchesByWeek: new Map(),
            matchesByPool: new Map(),
            matchesByVenue: new Map()
        };
        
        // ==================== OBSERVERS ====================
        this.observers = new Set();
        
        // ==================== INITIALIZATION ====================
        this._buildIndexes();
        this._recomputeState();
    }
    
    // ==================== DATA ACCESS METHODS ====================
    
    /**
     * Get all data (current state with modifications applied)
     * Returns complete data structure for views
     */
    getData() {
        return {
            version: this.current.version,
            metadata: this.current.metadata,
            config: this.current.config,
            entities: this.current.entities,
            matches: this.current.matches,
            slots: this.current.slots,
            statistics: this.current.statistics
        };
    }
    
    /**
     * Get all scheduled matches (current state with modifications applied)
     */
    getScheduledMatches() {
        return this.current.matches.scheduled;
    }
    
    /**
     * Get all unscheduled matches
     */
    getUnscheduledMatches() {
        return this.current.matches.unscheduled;
    }
    
    /**
     * Get match by ID
     */
    getMatch(matchId) {
        return this.indexes.matchesById.get(matchId);
    }
    
    /**
     * Alias for getMatch (used by views)
     */
    getMatchById(matchId) {
        return this.getMatch(matchId);
    }
    
    /**
     * Get matches for a specific week
     */
    getMatchesByWeek(week) {
        return this.indexes.matchesByWeek.get(week) || [];
    }
    
    /**
     * Get matches for a specific pool
     */
    getMatchesByPool(poolId) {
        return this.indexes.matchesByPool.get(poolId) || [];
    }
    
    /**
     * Get matches for a specific venue
     */
    getMatchesByVenue(venueId) {
        return this.indexes.matchesByVenue.get(venueId) || [];
    }
    
    /**
     * Get all teams
     */
    getEquipes() {
        return this.current.entities.equipes;
    }
    
    /**
     * Get team by ID
     */
    getEquipe(equipeId) {
        return this.indexes.equipesById.get(equipeId);
    }
    
    /**
     * Get multiple teams by IDs
     */
    getEquipesByIds(equipeIds) {
        if (!Array.isArray(equipeIds)) return [];
        return equipeIds.map(id => this.getEquipe(id)).filter(Boolean);
    }
    
    /**
     * Get all venues
     */
    getGymnases() {
        return this.current.entities.gymnases;
    }
    
    /**
     * Get venue by ID
     */
    getGymnase(gymnaseId) {
        return this.indexes.gymnasesById.get(gymnaseId);
    }
    
    /**
     * Alias for getGymnase (used by views)
     */
    getGymnaseById(gymnaseId) {
        return this.getGymnase(gymnaseId);
    }
    
    /**
     * Get all pools
     */
    getPoules() {
        return this.current.entities.poules;
    }
    
    /**
     * Get pool by ID
     */
    getPoule(pouleId) {
        return this.indexes.poulesById.get(pouleId);
    }
    
    /**
     * Alias for getPoule (used by views)
     */
    getPouleById(pouleId) {
        return this.getPoule(pouleId);
    }
    
    /**
     * Get all available slots
     */
    getAvailableSlots() {
        return this.current.slots.available;
    }
    
    /**
     * Get all occupied slots
     */
    getOccupiedSlots() {
        return this.current.slots.occupied;
    }
    
    /**
     * Get slot by ID
     */
    getSlot(slotId) {
        return this.indexes.slotsById.get(slotId);
    }
    
    /**
     * Check if a slot is available
     */
    isSlotAvailable(semaine, horaire, gymnase) {
        const slotId = `S_${gymnase}_${semaine}_${horaire}`;
        const slot = this.indexes.slotsById.get(slotId);
        return slot && slot.status === 'libre';
    }
    
    /**
     * Get statistics
     */
    getStatistics() {
        return this.current.statistics;
    }
    
    /**
     * Get metadata
     */
    getMetadata() {
        return this.original.metadata;
    }
    
    /**
     * Get config
     */
    getConfig() {
        return this.original.config;
    }
    
    // ==================== MODIFICATION METHODS ====================
    
    /**
     * Apply a modification to a match
     * This will trigger a state recomputation and notify observers
     */
    applyModification(matchId, newSlot) {
        const match = this.getMatch(matchId);
        if (!match) {
            return false;
        }
        
        // Check if slot is available
        if (!this.isSlotAvailable(newSlot.semaine, newSlot.horaire, newSlot.gymnase)) {
            return false;
        }
        
        // Store original state
        const original = {
            semaine: match.semaine,
            horaire: match.horaire,
            gymnase: match.gymnase
        };
        
        // Create modification record
        const modification = {
            match_id: matchId,
            timestamp: new Date().toISOString(),
            original: original,
            new: newSlot,
            author: 'user'
        };
        
        // Delegate to modification manager
        if (window.modificationManager) {
            window.modificationManager.addModification(modification);
        }
        
        // Recompute state
        this._recomputeState();
        
        // Notify observers
        this._notifyObservers({
            type: 'MODIFICATION_APPLIED',
            matchId,
            modification
        });
        
        return true;
    }
    
    /**
     * Revert all modifications
     */
    revertAllModifications() {
        if (window.modificationManager) {
            window.modificationManager.clearAll();
        }
        
        this._recomputeState();
        
        this._notifyObservers({
            type: 'ALL_MODIFICATIONS_REVERTED'
        });
    }
    
    // ==================== OBSERVER PATTERN ====================
    
    /**
     * Subscribe to data changes
     * @param {Function} callback - Called with event object
     * @returns {Function} Unsubscribe function
     */
    subscribe(callback) {
        this.observers.add(callback);
        return () => this.observers.delete(callback);
    }
    
    /**
     * Notify all observers of a change
     */
    _notifyObservers(event) {
        this.observers.forEach(callback => {
            try {
                callback(event);
            } catch (error) {
            }
        });
    }
    
    // ==================== INTERNAL METHODS ====================
    
    /**
     * Build indexes for fast data access
     */
    _buildIndexes() {
        // Index entities
        this.original.entities.equipes.forEach(equipe => {
            this.indexes.equipesById.set(equipe.id, equipe);
        });
        
        this.original.entities.gymnases.forEach(gymnase => {
            this.indexes.gymnasesById.set(gymnase.id, gymnase);
        });
        
        this.original.entities.poules.forEach(poule => {
            this.indexes.poulesById.set(poule.id, poule);
        });
        
        // Index matches
        this.original.matches.scheduled.forEach(match => {
            this.indexes.matchesById.set(match.match_id, match);
            
            // By week
            if (!this.indexes.matchesByWeek.has(match.semaine)) {
                this.indexes.matchesByWeek.set(match.semaine, []);
            }
            this.indexes.matchesByWeek.get(match.semaine).push(match);
            
            // By pool
            if (!this.indexes.matchesByPool.has(match.poule)) {
                this.indexes.matchesByPool.set(match.poule, []);
            }
            this.indexes.matchesByPool.get(match.poule).push(match);
            
            // By venue
            if (!this.indexes.matchesByVenue.has(match.gymnase)) {
                this.indexes.matchesByVenue.set(match.gymnase, []);
            }
            this.indexes.matchesByVenue.get(match.gymnase).push(match);
        });
        
        // Index slots
        [...this.original.slots.available, ...this.original.slots.occupied].forEach(slot => {
            this.indexes.slotsById.set(slot.slot_id, slot);
        });
    }
    
    /**
     * Recompute current state from original + modifications
     */
    _recomputeState() {
        // Clone original data
        this.current = JSON.parse(JSON.stringify(this.original));
        
        // Apply modifications if modification manager exists
        if (window.modificationManager) {
            const modifications = window.modificationManager.getAllModifications();
            
            modifications.forEach(mod => {
                const match = this.current.matches.scheduled.find(m => m.match_id === mod.match_id);
                if (match) {
                    // Update match slot
                    match.semaine = mod.new.semaine;
                    match.horaire = mod.new.horaire;
                    match.gymnase = mod.new.gymnase;
                    
                    // Update slot status
                    this._updateSlotStatus(mod.original, 'libre', null);
                    this._updateSlotStatus(mod.new, 'occupé', mod.match_id);
                }
            });
        }
        
        // Rebuild indexes with current data
        this._rebuildIndexes();
    }
    
    /**
     * Rebuild indexes after state change
     */
    _rebuildIndexes() {
        // Clear match indexes
        this.indexes.matchesById.clear();
        this.indexes.matchesByWeek.clear();
        this.indexes.matchesByPool.clear();
        this.indexes.matchesByVenue.clear();
        
        // Rebuild from current state
        this.current.matches.scheduled.forEach(match => {
            this.indexes.matchesById.set(match.match_id, match);
            
            if (!this.indexes.matchesByWeek.has(match.semaine)) {
                this.indexes.matchesByWeek.set(match.semaine, []);
            }
            this.indexes.matchesByWeek.get(match.semaine).push(match);
            
            if (!this.indexes.matchesByPool.has(match.poule)) {
                this.indexes.matchesByPool.set(match.poule, []);
            }
            this.indexes.matchesByPool.get(match.poule).push(match);
            
            if (!this.indexes.matchesByVenue.has(match.gymnase)) {
                this.indexes.matchesByVenue.set(match.gymnase, []);
            }
            this.indexes.matchesByVenue.get(match.gymnase).push(match);
        });
    }
    
    /**
     * Update slot status
     */
    _updateSlotStatus(slotInfo, status, matchId) {
        const slotId = `S_${slotInfo.gymnase}_${slotInfo.semaine}_${slotInfo.horaire}`;
        const slot = this.indexes.slotsById.get(slotId);
        
        if (slot) {
            slot.status = status;
            slot.match_id = matchId;
        }
    }
}

// Export for use in other modules
window.DataManager = DataManager;


// data/modification-manager.js
/**
 * ModificationManager - Manages calendar modifications with export capability
 * 
 * Responsibilities:
 * - Store modifications in localStorage
 * - Track modification history
 * - Export modifications to JSON
 * - Import modifications from JSON
 * - Undo/Redo functionality
 * 
 * Storage Format (localStorage):
 * {
 *   base_solution: "solution_file.json",
 *   modifications: [...],
 *   last_updated: "ISO timestamp"
 * }
 */

class ModificationManager {
    constructor(baseSolutionName = 'unknown') {
        this.baseSolutionName = baseSolutionName;
        this.storageKey = 'pycalendar_modifications';
        this.modifications = [];
        this.history = {
            past: [],
            future: []
        };
        this.listeners = []; // Pour les abonnements
        
        this._loadFromStorage();
    }
    
    // ==================== GESTION DES ÉCOUTEURS ====================

    /**
     * S'abonner aux changements.
     * @param {function} listener - La fonction à appeler lors d'un changement.
     */
    subscribe(listener) {
        this.listeners.push(listener);
    }

    /**
     * Se désabonner.
     * @param {function} listener - La fonction à retirer.
     */
    unsubscribe(listener) {
        this.listeners = this.listeners.filter(l => l !== listener);
    }

    /**
     * Notifie tous les écouteurs d'un changement.
     */
    _notify() {
        this.listeners.forEach(listener => {
            try {
                listener();
            } catch (error) {
                console.error("Erreur dans un écouteur de ModificationManager:", error);
            }
        });
    }

    // ==================== MODIFICATION MANAGEMENT ====================
    
    /**
     * Add a new modification
     */
    addModification(modification) {
        // Validate modification format
        if (!this._validateModification(modification)) {
            return false;
        }
        
        // Check if modification already exists for this match
        const existingIndex = this.modifications.findIndex(
            m => m.match_id === modification.match_id
        );
        
        if (existingIndex >= 0) {
            // Update existing modification
            this.modifications[existingIndex] = modification;
        } else {
            // Add new modification
            this.modifications.push(modification);
        }
        
        // Clear redo history when new modification is made
        this.history.future = [];
        
        // Save to storage
        this._saveToStorage();
        
        // Notifier les écouteurs
        this._notify();

        return true;
    }
    
    /**
     * Remove a modification
     */
    removeModification(matchId) {
        const index = this.modifications.findIndex(m => m.match_id === matchId);
        
        if (index >= 0) {
            const removed = this.modifications.splice(index, 1)[0];
            this._saveToStorage();
            this._notify(); // Notifier
            return removed;
        }
        
        return null;
    }
    
    /**
     * Get all modifications
     */
    getAllModifications() {
        return [...this.modifications];
    }
    
    /**
     * Get modification for a specific match
     */
    getModification(matchId) {
        return this.modifications.find(m => m.match_id === matchId);
    }
    
    /**
     * Check if a match has been modified
     */
    hasModification(matchId) {
        return this.modifications.some(m => m.match_id === matchId);
    }
    
    /**
     * Get number of modifications
     */
    getModificationCount() {
        return this.modifications.length;
    }
    
    /**
     * Clear all modifications
     */
    clearAll() {
        this.modifications = [];
        this.history = { past: [], future: [] };
        this._saveToStorage();
        this._notify(); // Notifier
    }
    
    // ==================== UNDO/REDO ====================
    
    /**
     * Undo last modification
     */
    undo() {
        if (this.modifications.length === 0) {
            return null;
        }
        
        const lastModification = this.modifications.pop();
        this.history.past.push([...this.modifications]);
        this.history.future.push(lastModification);
        
        this._saveToStorage();
        this._notify(); // Notifier
        
        return lastModification;
    }
    
    /**
     * Redo last undone modification
     */
    redo() {
        if (this.history.future.length === 0) {
            return null;
        }
        
        const modification = this.history.future.pop();
        this.modifications.push(modification);
        this.history.past.push([...this.modifications]);
        
        this._saveToStorage();
        this._notify(); // Notifier
        
        return modification;
    }
    
    /**
     * Check if undo is available
     */
    canUndo() {
        return this.modifications.length > 0;
    }
    
    /**
     * Check if redo is available
     */
    canRedo() {
        return this.history.future.length > 0;
    }
    
    // ==================== EXPORT/IMPORT ====================
    
    /**
     * Export modifications to JSON format
     * @returns {Object} Export data matching modification_schema.json
     */
    exportToJSON() {
        const exportData = {
            export_version: "1.0",
            exported_at: new Date().toISOString(),
            base_solution: this.baseSolutionName,
            modifications: this.modifications.map(mod => ({
                match_id: mod.match_id,
                timestamp: mod.timestamp,
                original: {
                    semaine: mod.original.semaine,
                    horaire: mod.original.horaire,
                    gymnase: mod.original.gymnase
                },
                new: {
                    semaine: mod.new.semaine,
                    horaire: mod.new.horaire,
                    gymnase: mod.new.gymnase
                },
                reason: mod.reason || '',
                author: mod.author || 'user'
            })),
            statistics: this._calculateStatistics()
        };
        
        return exportData;
    }
    
    /**
     * Export and download as JSON file
     */
    exportAndDownload(filename = null) {
        const exportData = this.exportToJSON();
        
        // Generate filename if not provided
        if (!filename) {
            const date = new Date().toISOString().split('T')[0];
            filename = `pycalendar_modifications_${date}.json`;
        }
        
        // Create blob and download
        const blob = new Blob([JSON.stringify(exportData, null, 2)], {
            type: 'application/json'
        });
        
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = filename;
        a.click();
        URL.revokeObjectURL(url);
        
        return exportData;
    }
    
    /**
     * Import modifications from JSON
     */
    importFromJSON(jsonData) {
        try {
            // Validate import data
            if (!jsonData.export_version || !jsonData.modifications) {
                throw new Error('Invalid import data format');
            }
            
            // Clear existing modifications (or merge?)
            const shouldClear = confirm(
                'Clear existing modifications before import?\n' +
                'Click OK to replace, Cancel to merge.'
            );
            
            if (shouldClear) {
                this.modifications = [];
            }
            
            // Import modifications
            jsonData.modifications.forEach(mod => {
                this.addModification(mod);
            });
            
            return true;
            
        } catch (error) {
            return false;
        }
    }
    
    // ==================== STATISTICS ====================
    
    /**
     * Calculate statistics about modifications
     */
    _calculateStatistics() {
        const stats = {
            total_modifications: this.modifications.length,
            matches_modified: new Set(this.modifications.map(m => m.match_id)).size,
            conflicts_resolved: 0, // TODO: Implement conflict tracking
            penalty_delta: 0 // TODO: Implement penalty calculation
        };
        
        return stats;
    }
    
    // ==================== STORAGE ====================
    
    /**
     * Load modifications from localStorage
     */
    _loadFromStorage() {
        try {
            const stored = localStorage.getItem(this.storageKey);
            if (stored) {
                const data = JSON.parse(stored);
                this.modifications = data.modifications || [];
                this.baseSolutionName = data.base_solution || this.baseSolutionName;
                
            }
        } catch (error) {
            this.modifications = [];
        }
    }
    
    /**
     * Save modifications to localStorage
     */
    _saveToStorage() {
        try {
            const data = {
                base_solution: this.baseSolutionName,
                modifications: this.modifications,
                last_updated: new Date().toISOString()
            };
            
            localStorage.setItem(this.storageKey, JSON.stringify(data));
            
        } catch (error) {
            
            // Check if quota exceeded
            if (error.name === 'QuotaExceededError') {
                alert('Storage quota exceeded. Consider exporting modifications and clearing old data.');
            }
        }
    }
    
    /**
     * Clear localStorage
     */
    clearStorage() {
        localStorage.removeItem(this.storageKey);
    }
    
    // ==================== VALIDATION ====================
    
    /**
     * Validate modification format
     */
    _validateModification(modification) {
        // Required fields
        const requiredFields = ['match_id', 'timestamp', 'original', 'new'];
        for (const field of requiredFields) {
            if (!(field in modification)) {
                return false;
            }
        }
        
        // Validate slot structure
        const requiredSlotFields = ['semaine', 'horaire', 'gymnase'];
        for (const slotField of requiredSlotFields) {
            if (!(slotField in modification.original)) {
                return false;
            }
            if (!(slotField in modification.new)) {
                return false;
            }
        }
        
        return true;
    }
}

// Export for use in other modules
window.ModificationManager = ModificationManager;


// components/ui/match-card.js
/**
 * match-card.js - Composant de carte de match réutilisable
 * 
 * Génère des cartes de match cohérentes pour toutes les vues.
 * Gère le drag & drop, l'édition, et l'affichage adaptatif.
 * Exposé globalement via window.MatchCard
 */

window.MatchCard = class MatchCard {
    /**
     * Constructeur
     * @param {Object} dataManager - Gestionnaire de données
     * @param {Object} modificationManager - Gestionnaire de modifications
     */
    constructor(dataManager, modificationManager) {
        this.dataManager = dataManager;
        this.modificationManager = modificationManager;
        this.draggedCard = null;
    }
    
    /**
     * Crée une carte de match
     * @param {Object} match - Données du match
     * @param {Object} options - Options d'affichage
     * @returns {HTMLElement} Élément DOM de la carte
     */
    create(match, options = {}) {
        const {
            showWeek = true,
            showPool = true,
            showTime = true,
            showInstitution = true,
            showGenre = true,
            showPenalties = false,
            draggable = true,
            compact = false,
            highlighted = []
        } = options;
        
        // Validation
        const validation = window.Validators.validateMatch(match);
        if (!validation.valid) {
        }
        
        // Récupérer les entités
        const data = this.dataManager.getData();
        const equipe1 = data.entities.equipes.find(e => e.id === match.equipes[0]);
        const equipe2 = data.entities.equipes.find(e => e.id === match.equipes[1]);
        const poule = data.entities.poules.find(p => equipe1?.poule === p.id);
        const gymnase = match.gymnase ? data.entities.gymnases.find(g => g.id === match.gymnase) : null;
        
        if (!equipe1 || !equipe2) {
            return this._createErrorCard(match);
        }
        
        // Créer l'élément
        const card = document.createElement('div');
        card.className = this._buildCardClasses(match, poule, compact);
        card.dataset.matchId = match.match_id;
        
        // Attributs pour drag & drop
        if (draggable && match.semaine) {
            card.draggable = true;
            card.addEventListener('dragstart', (e) => this._handleDragStart(e, match));
            card.addEventListener('dragend', (e) => this._handleDragEnd(e));
        }
        
        // Double-clic pour édition
        card.addEventListener('dblclick', () => this._handleEdit(match));
        
        // Construction du contenu
        card.innerHTML = `
            ${this._renderHeader(match, poule, { showWeek, showPool, showGenre, showTime })}
            ${this._renderTeams(equipe1, equipe2, { showInstitution, highlighted, compact })}
            ${this._renderFooter(match, gymnase, { showPenalties })}
        `;
        
        return card;
    }
    
    /**
     * Construit les classes CSS de la carte
     */
    _buildCardClasses(match, poule, compact) {
        const classes = ['match-card'];
        
        // Genre
        if (poule) {
            classes.push(`genre-${poule.genre.toLowerCase()}`);
            classes.push(`niveau-${poule.niveau.toLowerCase()}`);
        }
        
        // État
        if (!match.semaine) {
            classes.push('unscheduled');
        }
        
        if (match.is_fixed) {
            classes.push('fixed');
        }
        
        if (compact) {
            classes.push('compact');
        }
        
        // Score de pénalités
        if (match.penalties) {
            const totalPenalties = Object.values(match.penalties).reduce((sum, p) => sum + p, 0);
            if (totalPenalties > 10) {
                classes.push('high-penalties');
            } else if (totalPenalties > 5) {
                classes.push('medium-penalties');
            }
        }
        
        return classes.join(' ');
    }
    
    /**
     * Rendu de l'en-tête
     */
    _renderHeader(match, poule, options) {
        const { showWeek, showPool, showGenre, showTime } = options;
        
        const badges = [];
        
        if (showPool && poule) {
            badges.push(`<span class="badge badge-poule">${poule.nom}</span>`);
        }
        
        if (showGenre && poule) {
            const genderIcon = poule.genre === 'M' ? '♂' : '♀';
            badges.push(`<span class="badge badge-genre badge-${poule.genre.toLowerCase()}">
                ${genderIcon} ${window.Formatters.formatGenderShort(poule.genre)}
            </span>`);
        }
        
        if (poule) {
            badges.push(`<span class="badge badge-niveau">${poule.niveau}</span>`);
        }
        
        if (showWeek && match.semaine) {
            badges.push(`<span class="badge badge-semaine">📅 S${match.semaine}</span>`);
        }
        
        if (match.is_fixed) {
            badges.push(`<span class="badge badge-fixed">📌 Fixé</span>`);
        }
        
        return `
            <div class="match-header">
                <div class="match-badges">
                    ${badges.join('')}
                </div>
                ${showTime && match.horaire ? `
                    <div class="match-time">
                        <span class="time-icon">⏰</span>
                        <span class="time-value">${window.Formatters.formatTime(match.horaire)}</span>
                    </div>
                ` : ''}
                <button class="match-edit-btn" title="Éditer">
                    ✏️
                </button>
            </div>
        `;
    }
    
    /**
     * Rendu des équipes
     */
    _renderTeams(equipe1, equipe2, options) {
        const { showInstitution, highlighted, compact } = options;
        
        const team1Highlighted = highlighted.includes(equipe1.id);
        const team2Highlighted = highlighted.includes(equipe2.id);
        
        return `
            <div class="match-teams ${compact ? 'compact' : ''}">
                <div class="team team-1 ${team1Highlighted ? 'highlighted' : ''}">
                    <div class="team-name">${window.Formatters.formatTeamName(equipe1.nom, compact ? 25 : 40)}</div>
                    ${showInstitution && !compact ? `
                        <div class="team-institution">🏛️ ${equipe1.institution}</div>
                    ` : ''}
                </div>
                
                <div class="vs-divider">VS</div>
                
                <div class="team team-2 ${team2Highlighted ? 'highlighted' : ''}">
                    <div class="team-name">${window.Formatters.formatTeamName(equipe2.nom, compact ? 25 : 40)}</div>
                    ${showInstitution && !compact ? `
                        <div class="team-institution">🏛️ ${equipe2.institution}</div>
                    ` : ''}
                </div>
            </div>
        `;
    }
    
    /**
     * Rendu du pied de page
     */
    _renderFooter(match, gymnase, options) {
        const { showPenalties } = options;
        
        const parts = [];
        
        // Gymnase
        if (gymnase) {
            parts.push(`
                <div class="match-venue">
                    <span class="venue-icon">🏟️</span>
                    <span class="venue-name">${gymnase.nom}</span>
                </div>
            `);
        }
        
        // Pénalités
        if (showPenalties && match.penalties) {
            const totalPenalties = Object.values(match.penalties).reduce((sum, p) => sum + p, 0);
            const penaltyClass = totalPenalties > 10 ? 'high' : totalPenalties > 5 ? 'medium' : 'low';
            
            parts.push(`
                <div class="match-penalties">
                    <span class="penalty-icon">⚠️</span>
                    <span class="penalty-value penalty-${penaltyClass}">${totalPenalties.toFixed(1)}</span>
                </div>
            `);
        }
        
        if (parts.length === 0) {
            return '';
        }
        
        return `
            <div class="match-footer">
                ${parts.join('')}
            </div>
        `;
    }
    
    /**
     * Crée une carte d'erreur
     */
    _createErrorCard(match) {
        const card = document.createElement('div');
        card.className = 'match-card error';
        card.innerHTML = `
            <div class="match-error">
                <span class="error-icon">⚠️</span>
                <span class="error-message">Erreur: Match ${match.match_id} invalide</span>
            </div>
        `;
        return card;
    }
    
    /**
     * Gère le début du drag
     */
    _handleDragStart(event, match) {
        this.draggedCard = event.target;
        event.dataTransfer.effectAllowed = 'move';
        event.dataTransfer.setData('application/json', JSON.stringify(match));
        
        // Style visuel
        setTimeout(() => {
            event.target.classList.add('dragging');
        }, 0);
        
        // Notifier les drop zones
        document.dispatchEvent(new CustomEvent('match-drag-start', {
            detail: { match }
        }));
    }
    
    /**
     * Gère la fin du drag
     */
    _handleDragEnd(event) {
        event.target.classList.remove('dragging');
        this.draggedCard = null;
        
        // Notifier les drop zones
        document.dispatchEvent(new CustomEvent('match-drag-end'));
    }
    
    /**
     * Gère l'édition du match
     */
    _handleEdit(match) {
        // Émettre un événement pour ouvrir le modal d'édition
        document.dispatchEvent(new CustomEvent('match-edit-requested', {
            detail: { match }
        }));
    }
    
    /**
     * Crée une carte de match non planifié
     */
    createUnscheduledCard(match, options = {}) {
        return this.create(match, {
            ...options,
            showWeek: false,
            showTime: false,
            draggable: false
        });
    }
    
    /**
     * Crée une carte compacte
     */
    createCompactCard(match, options = {}) {
        return this.create(match, {
            ...options,
            compact: true,
            showInstitution: false,
            showPenalties: false
        });
    }
};


// components/filters/filter-panel.js
/**
 * filter-panel.js - Gestionnaire de panneau de filtres
 * 
 * Gère l'affichage et la logique des filtres pour toutes les vues.
 * Exposé globalement via window.FilterPanel
 */

window.FilterPanel = class FilterPanel {
    constructor(dataManager, container) {
        this.dataManager = dataManager;
        this.container = container;
        
        // État des filtres
        this.activeFilters = {
            gender: '',
            institution: '',
            pool: '',
            venue: '',
            week: ''
        };
        
        // Callbacks
        this.onFilterChange = null;
        
        // Initialiser
        this.init();
    }
    
    /**
     * Initialise le panneau
     */
    init() {
        this.render();
        this.attachEventListeners();
        this.loadFromStorage();
    }
    
    /**
     * Rendu du panneau
     */
    render() {
        const data = this.dataManager.getData();
        if (!data) return;
        
        // Extraire les valeurs uniques
        const genders = this._extractGenders(data);
        const institutions = this._extractInstitutions(data);
        const pools = this._extractPools(data);
        const venues = this._extractVenues(data);
        const weeks = this._extractWeeks(data);
        
        this.container.innerHTML = `
            <div class="filter-panel" style="padding: 1rem; background: rgba(255, 255, 255, 0.95); border-radius: 12px; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);">
                <h3 class="filter-title" style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 1.5rem; font-size: 1.125rem; font-weight: 700; color: #1e293b;">
                    <span style="display: flex; align-items: center; gap: 0.5rem;">
                        <span class="filter-icon">🔍</span>
                        Filtres
                    </span>
                    <button class="filter-reset-btn" id="filter-reset" title="Réinitialiser" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; border-radius: 8px; padding: 0.5rem 0.75rem; cursor: pointer; font-size: 1rem; transition: all 0.2s ease; box-shadow: 0 2px 6px rgba(102, 126, 234, 0.3);">
                        🔄
                    </button>
                </h3>
                
                <div class="filters-grid" style="display: flex; flex-direction: column; gap: 1rem;">
                    ${this._renderFilter('gender', 'Genre', genders, {
                        'M': '♂ Masculin',
                        'F': '♀ Féminin'
                    })}
                    
                    ${this._renderFilter('institution', 'Institution', institutions)}
                    
                    ${this._renderFilter('pool', 'Poule', pools)}
                    
                    ${this._renderFilter('venue', 'Gymnase', venues)}
                    
                    ${this._renderFilter('week', 'Semaine', weeks, null, 'Semaine')}
                </div>
                
                <div class="filter-status" style="margin-top: 1.5rem; padding-top: 1rem; border-top: 2px solid #e2e8f0; font-size: 0.875rem; color: #64748b; text-align: center; font-weight: 600;">
                    <span id="filter-active-count">0</span> filtre(s) actif(s)
                </div>
            </div>
        `;
    }
    
    /**
     * Rendu d'un filtre individuel
     */
    _renderFilter(id, label, values, customLabels = null, prefix = '') {
        if (!values || values.length === 0) {
            return '';
        }
        
        const options = values.map(value => {
            const displayValue = customLabels && customLabels[value] 
                ? customLabels[value]
                : prefix ? `${prefix} ${value}` : value;
            
            return `<option value="${value}">${displayValue}</option>`;
        }).join('');
        
        return `
            <div class="filter-group" style="display: flex; flex-direction: column; gap: 0.5rem;">
                <label class="filter-label" for="filter-${id}" style="font-size: 0.875rem; font-weight: 600; color: #1e293b; text-transform: uppercase; letter-spacing: 0.5px;">${label}</label>
                <select class="filter-select" id="filter-${id}" data-filter="${id}" style="width: 100%; padding: 0.75rem 1rem; border: 2px solid #e2e8f0; border-radius: 8px; background: white; font-size: 0.875rem; font-weight: 500; cursor: pointer; transition: all 0.2s ease; outline: none; color: #334155;">
                    <option value="">Tous</option>
                    ${options}
                </select>
            </div>
        `;
    }
    
    /**
     * Attache les événements
     */
    attachEventListeners() {
        // Changement de filtre
        this.container.querySelectorAll('.filter-select').forEach(select => {
            select.addEventListener('change', (e) => {
                const filterType = e.target.dataset.filter;
                const value = e.target.value;
                this.setFilter(filterType, value);
            });
        });
        
        // Réinitialisation
        const resetBtn = this.container.querySelector('#filter-reset');
        if (resetBtn) {
            resetBtn.addEventListener('click', () => this.resetFilters());
        }
    }
    
    /**
     * Définit un filtre
     */
    setFilter(type, value) {
        this.activeFilters[type] = value;
        this.saveToStorage();
        this.updateStatus();
        
        if (this.onFilterChange) {
            this.onFilterChange(this.activeFilters);
        }
    }
    
    /**
     * Réinitialise tous les filtres
     */
    resetFilters() {
        this.activeFilters = {
            gender: '',
            institution: '',
            pool: '',
            venue: '',
            week: ''
        };
        
        // Reset UI
        this.container.querySelectorAll('.filter-select').forEach(select => {
            select.value = '';
        });
        
        this.saveToStorage();
        this.updateStatus();
        
        if (this.onFilterChange) {
            this.onFilterChange(this.activeFilters);
        }
    }
    
    /**
     * Met à jour le statut
     */
    updateStatus() {
        const count = Object.values(this.activeFilters).filter(v => v !== '').length;
        const statusEl = this.container.querySelector('#filter-active-count');
        if (statusEl) {
            statusEl.textContent = count;
        }
    }
    
    /**
     * Applique les filtres à une liste de matchs
     */
    filterMatches(matches) {
        if (!matches) return [];
        
        return matches.filter(match => {
            // Récupérer les entités
            const data = this.dataManager.getData();
            const equipe1 = data.entities.equipes.find(e => e.id === match.equipes[0]);
            const equipe2 = data.entities.equipes.find(e => e.id === match.equipes[1]);
            
            if (!equipe1 || !equipe2) return false;
            
            // Filtre genre
            if (this.activeFilters.gender) {
                if (equipe1.genre !== this.activeFilters.gender) {
                    return false;
                }
            }
            
            // Filtre institution
            if (this.activeFilters.institution) {
                if (equipe1.institution !== this.activeFilters.institution &&
                    equipe2.institution !== this.activeFilters.institution) {
                    return false;
                }
            }
            
            // Filtre poule
            if (this.activeFilters.pool) {
                if (equipe1.poule !== this.activeFilters.pool) {
                    return false;
                }
            }
            
            // Filtre gymnase
            if (this.activeFilters.venue) {
                if (match.gymnase !== this.activeFilters.venue) {
                    return false;
                }
            }
            
            // Filtre semaine
            if (this.activeFilters.week) {
                if (match.semaine !== parseInt(this.activeFilters.week)) {
                    return false;
                }
            }
            
            return true;
        });
    }
    
    /**
     * Sauvegarde dans localStorage
     */
    saveToStorage() {
        try {
            localStorage.setItem('pycalendar_filters', JSON.stringify(this.activeFilters));
        } catch (e) {
        }
    }
    
    /**
     * Charge depuis localStorage
     */
    loadFromStorage() {
        try {
            const stored = localStorage.getItem('pycalendar_filters');
            if (stored) {
                const filters = JSON.parse(stored);
                this.activeFilters = { ...this.activeFilters, ...filters };
                
                // Appliquer aux selects
                Object.entries(this.activeFilters).forEach(([type, value]) => {
                    const select = this.container.querySelector(`#filter-${type}`);
                    if (select && value) {
                        select.value = value;
                    }
                });
                
                this.updateStatus();
            }
        } catch (e) {
        }
    }
    
    /**
     * Extrait les genres
     */
    _extractGenders(data) {
        const genders = new Set();
        data.entities.equipes.forEach(e => {
            if (e.genre) genders.add(e.genre);
        });
        return Array.from(genders).sort();
    }
    
    /**
     * Extrait les institutions
     */
    _extractInstitutions(data) {
        const institutions = new Set();
        data.entities.equipes.forEach(e => {
            if (e.institution) institutions.add(e.institution);
        });
        return Array.from(institutions).sort();
    }
    
    /**
     * Extrait les poules
     */
    _extractPools(data) {
        return data.entities.poules.map(p => p.id).sort();
    }
    
    /**
     * Extrait les gymnases
     */
    _extractVenues(data) {
        return data.entities.gymnases.map(g => g.id).sort();
    }
    
    /**
     * Extrait les semaines
     */
    _extractWeeks(data) {
        const weeks = new Set();
        data.matches.scheduled.forEach(m => {
            if (m.semaine) weeks.add(m.semaine);
        });
        return Array.from(weeks).sort((a, b) => a - b);
    }
    
    /**
     * Obtient les filtres actifs
     */
    getActiveFilters() {
        return { ...this.activeFilters };
    }
    
    /**
     * Définit un callback
     */
    onChange(callback) {
        this.onFilterChange = callback;
    }
};


// components/edit/edit-modal.js
/**
 * edit-modal.js - Modal d'édition de match
 * 
 * Permet d'éditer les propriétés d'un match (semaine, horaire, gymnase).
 * Détecte les conflits et propose des solutions.
 * Exposé globalement via window.EditModal
 */

window.EditModal = class EditModal {
    constructor(dataManager, modificationManager) {
        this.dataManager = dataManager;
        this.modificationManager = modificationManager;
        this.currentMatch = null;
        this.modal = null;
        
        this.createModal();
        this.attachEventListeners();
    }
    
    /**
     * Crée le HTML du modal
     */
    createModal() {
        const modal = document.createElement('div');
        modal.id = 'edit-modal';
        modal.className = 'modal-overlay hidden';
        
        modal.innerHTML = `
            <div class="modal modal-lg">
                <div class="modal-header">
                    <h2 class="modal-title">✏️ Éditer le Match</h2>
                    <button class="modal-close" id="edit-modal-close">×</button>
                </div>
                
                <div class="modal-body">
                    <!-- Info du match -->
                    <div class="match-info-section">
                        <div class="match-teams-display">
                            <span class="team-name" id="edit-team1">-</span>
                            <span class="vs">VS</span>
                            <span class="team-name" id="edit-team2">-</span>
                        </div>
                        <div class="match-meta">
                            <span class="badge" id="edit-pool">-</span>
                            <span class="badge" id="edit-gender">-</span>
                        </div>
                        <!-- Préférences des équipes -->
                        <div class="teams-preferences" id="edit-preferences" style="display: none; margin-top: 10px; font-size: 0.9em; color: #666;">
                            <div id="edit-team1-prefs"></div>
                            <div id="edit-team2-prefs"></div>
                        </div>
                    </div>
                    
                    <!-- Formulaire d'édition -->
                    <form id="edit-form" class="edit-form">
                        <div class="form-row">
                            <div class="filter-group">
                                <label class="filter-label" for="edit-week">Semaine</label>
                                <input type="number" 
                                       class="filter-input" 
                                       id="edit-week" 
                                       min="1" 
                                       max="52" 
                                       required>
                            </div>
                            
                            <div class="filter-group">
                                <label class="filter-label" for="edit-time">Horaire</label>
                                <select class="filter-select" id="edit-time" required>
                                    <option value="">-- Choisir --</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="filter-group">
                            <label class="filter-label" for="edit-venue">Gymnase</label>
                            <select class="filter-select" id="edit-venue" required>
                                <option value="">-- Choisir --</option>
                            </select>
                        </div>
                        
                        <!-- Alertes de conflit -->
                        <div class="alert alert-warning hidden" id="edit-conflict-alert">
                            <strong>⚠️ Conflit détecté !</strong>
                            <p id="edit-conflict-message"></p>
                        </div>
                        
                        <!-- Valeurs originales -->
                        <div class="original-values-section">
                            <h4>📋 Valeurs actuelles</h4>
                            <div id="edit-original-values" class="original-values"></div>
                        </div>
                    </form>
                </div>
                
                <div class="modal-footer">
                    <button class="modal-btn modal-btn-danger" id="edit-unschedule">
                        🗑️ Déplanifier
                    </button>
                    <div style="flex: 1;"></div>
                    <button class="modal-btn modal-btn-secondary" id="edit-cancel">
                        Annuler
                    </button>
                    <button class="modal-btn modal-btn-primary" id="edit-save">
                        💾 Enregistrer
                    </button>
                </div>
            </div>
        `;
        
        document.body.appendChild(modal);
        this.modal = modal;
    }
    
    /**
     * Attache les événements
     */
    attachEventListeners() {
        // Boutons
        document.getElementById('edit-modal-close').addEventListener('click', () => this.close());
        document.getElementById('edit-cancel').addEventListener('click', () => this.close());
        document.getElementById('edit-save').addEventListener('click', () => this.save());
        document.getElementById('edit-unschedule').addEventListener('click', () => this.unschedule());
        
        // Fermeture par clic sur overlay
        this.modal.addEventListener('click', (e) => {
            if (e.target === this.modal) {
                this.close();
            }
        });
        
        // Validation en temps réel
        document.getElementById('edit-week').addEventListener('input', () => this.validateForm());
        document.getElementById('edit-time').addEventListener('change', () => this.validateForm());
        document.getElementById('edit-venue').addEventListener('change', () => this.validateForm());
        
        // Écouter les demandes d'édition
        document.addEventListener('match-edit-requested', (e) => {
            this.open(e.detail.match);
        });
        
        // ESC pour fermer
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && !this.modal.classList.contains('hidden')) {
                this.close();
            }
        });
    }
    
    /**
     * Ouvre le modal pour un match
     */
    open(match) {
        this.currentMatch = match;
        
        // Remplir les infos - Les données sont déjà dans le match (format v2.0)
        const data = this.dataManager.getData();
        const equipe1 = {
            id: match.equipe1_id,
            nom: match.equipe1_nom,
            nom_complet: match.equipe1_nom_complet || match.equipe1_nom,
            institution: match.equipe1_institution,
            genre: match.equipe1_genre,
            horaires_preferes: match.equipe1_horaires_preferes || [],
            lieux_preferes: match.equipe1_lieux_preferes || [],
            poule: match.poule
        };
        const equipe2 = {
            id: match.equipe2_id,
            nom: match.equipe2_nom,
            nom_complet: match.equipe2_nom_complet || match.equipe2_nom,
            institution: match.equipe2_institution,
            genre: match.equipe2_genre,
            horaires_preferes: match.equipe2_horaires_preferes || [],
            lieux_preferes: match.equipe2_lieux_preferes || [],
            poule: match.poule
        };
        const poule = data.entities.poules.find(p => p.id === match.poule);
        
        document.getElementById('edit-team1').textContent = equipe1?.nom_complet || equipe1?.nom || '-';
        document.getElementById('edit-team2').textContent = equipe2?.nom_complet || equipe2?.nom || '-';
        document.getElementById('edit-pool').textContent = poule?.nom || '-';
        document.getElementById('edit-gender').textContent = window.Formatters.formatGender(equipe1?.genre);
        
        // Afficher les préférences des équipes
        this._showTeamPreferences(equipe1, equipe2);
        
        // Remplir les valeurs actuelles
        this._populateForm(match, data);
        
        // Afficher les valeurs originales
        this._showOriginalValues(match);
        
        // Afficher le modal
        this.modal.classList.remove('hidden');
    }
    
    /**
     * Affiche les préférences des équipes (horaires et lieux préférés)
     */
    _showTeamPreferences(equipe1, equipe2) {
        const prefsContainer = document.getElementById('edit-preferences');
        const team1Prefs = document.getElementById('edit-team1-prefs');
        const team2Prefs = document.getElementById('edit-team2-prefs');
        
        let hasPreferences = false;
        
        // Préférences équipe 1
        let prefs1 = [];
        if (equipe1?.horaires_preferes && equipe1.horaires_preferes.length > 0) {
            prefs1.push(`⏰ ${equipe1.horaires_preferes.join(', ')}`);
            hasPreferences = true;
        }
        if (equipe1?.lieux_preferes && equipe1.lieux_preferes.length > 0) {
            prefs1.push(`📍 ${equipe1.lieux_preferes.join(', ')}`);
            hasPreferences = true;
        }
        team1Prefs.innerHTML = prefs1.length > 0 
            ? `<strong>${equipe1.nom}:</strong> ${prefs1.join(' • ')}` 
            : '';
        
        // Préférences équipe 2
        let prefs2 = [];
        if (equipe2?.horaires_preferes && equipe2.horaires_preferes.length > 0) {
            prefs2.push(`⏰ ${equipe2.horaires_preferes.join(', ')}`);
            hasPreferences = true;
        }
        if (equipe2?.lieux_preferes && equipe2.lieux_preferes.length > 0) {
            prefs2.push(`📍 ${equipe2.lieux_preferes.join(', ')}`);
            hasPreferences = true;
        }
        team2Prefs.innerHTML = prefs2.length > 0 
            ? `<strong>${equipe2.nom}:</strong> ${prefs2.join(' • ')}` 
            : '';
        
        // Afficher/masquer le conteneur selon s'il y a des préférences
        prefsContainer.style.display = hasPreferences ? 'block' : 'none';
    }
    
    /**
     * Remplit le formulaire
     */
    _populateForm(match, data) {
        // Semaine
        document.getElementById('edit-week').value = match.semaine || '';
        
        // Horaires disponibles
        const timeSelect = document.getElementById('edit-time');
        timeSelect.innerHTML = '<option value="">-- Choisir --</option>';
        
        const times = this._getAvailableTimes(data);
        times.forEach(time => {
            const option = document.createElement('option');
            option.value = time;
            option.textContent = window.Formatters.formatTime(time);
            if (time === match.horaire) {
                option.selected = true;
            }
            timeSelect.appendChild(option);
        });
        
        // Gymnases disponibles
        const venueSelect = document.getElementById('edit-venue');
        venueSelect.innerHTML = '<option value="">-- Choisir --</option>';
        
        data.entities.gymnases.forEach(venue => {
            const option = document.createElement('option');
            option.value = venue.id;
            option.textContent = `${venue.nom} (${venue.capacite} places)`;
            if (venue.id === match.gymnase) {
                option.selected = true;
            }
            venueSelect.appendChild(option);
        });
    }
    
    /**
     * Affiche les valeurs originales
     */
    _showOriginalValues(match) {
        const data = this.dataManager.getData();
        const venue = data.entities.gymnases.find(v => v.id === match.gymnase);
        
        const html = `
            <div class="original-value-item">
                <span class="label">Semaine:</span>
                <span class="value">${window.Formatters.formatWeek(match.semaine)}</span>
            </div>
            <div class="original-value-item">
                <span class="label">Horaire:</span>
                <span class="value">${window.Formatters.formatTime(match.horaire)}</span>
            </div>
            <div class="original-value-item">
                <span class="label">Gymnase:</span>
                <span class="value">${venue?.nom || '-'}</span>
            </div>
        `;
        
        document.getElementById('edit-original-values').innerHTML = html;
    }
    
    /**
     * Extrait les horaires disponibles
     */
    _getAvailableTimes(data) {
        const times = new Set();
        
        // Tous les horaires utilisés
        data.matches.scheduled.forEach(m => {
            if (m.horaire) times.add(m.horaire);
        });
        
        // Horaires standards si peu de données
        if (times.size < 5) {
            ['08:00', '10:00', '12:00', '14:00', '16:00', '18:00', '20:00'].forEach(t => times.add(t));
        }
        
        return Array.from(times).sort();
    }
    
    /**
     * Valide le formulaire
     */
    validateForm() {
        const semaine = parseInt(document.getElementById('edit-week').value);
        const horaire = document.getElementById('edit-time').value;
        const gymnase = document.getElementById('edit-venue').value;
        
        if (!semaine || !horaire || !gymnase) {
            this._hideConflictAlert();
            return false;
        }
        
        const newSlot = { semaine, horaire, gymnase };
        
        // Validation du slot
        const validation = window.Validators.validateSlot(newSlot);
        if (!validation.valid) {
            this._showConflictAlert('Créneau invalide: ' + validation.errors.join(', '));
            return false;
        }
        
        // Vérifier disponibilité du créneau
        const data = this.dataManager.getData();
        if (!window.Validators.isSlotAvailable(newSlot, data.matches.scheduled, this.currentMatch.match_id)) {
            this._showConflictAlert('Ce créneau est déjà occupé par un autre match.');
            return false;
        }
        
        // Vérifier conflits d'équipes
        const equipe1Conflict = window.Validators.hasTeamConflict(
            this.currentMatch.equipe1_id, 
            newSlot, 
            data.matches.scheduled,
            this.currentMatch.match_id
        );
        
        const equipe2Conflict = window.Validators.hasTeamConflict(
            this.currentMatch.equipe2_id, 
            newSlot, 
            data.matches.scheduled,
            this.currentMatch.match_id
        );
        
        if (equipe1Conflict || equipe2Conflict) {
            const conflictTeams = [];
            if (equipe1Conflict) conflictTeams.push(this.currentMatch.equipe1_nom);
            if (equipe2Conflict) conflictTeams.push(this.currentMatch.equipe2_nom);
            
            this._showConflictAlert(`Conflit d'horaire pour: ${conflictTeams.join(', ')}`);
            return false;
        }
        
        this._hideConflictAlert();
        return true;
    }
    
    /**
     * Affiche l'alerte de conflit
     */
    _showConflictAlert(message) {
        const alert = document.getElementById('edit-conflict-alert');
        const messageEl = document.getElementById('edit-conflict-message');
        
        messageEl.textContent = message;
        alert.classList.remove('hidden');
    }
    
    /**
     * Cache l'alerte de conflit
     */
    _hideConflictAlert() {
        document.getElementById('edit-conflict-alert').classList.add('hidden');
    }
    
    /**
     * Sauvegarde les modifications
     */
    save() {
        if (!this.validateForm()) {
            return;
        }
        
        const semaine = parseInt(document.getElementById('edit-week').value);
        const horaire = document.getElementById('edit-time').value;
        const gymnase = document.getElementById('edit-venue').value;
        
        const originalSlot = {
            semaine: this.currentMatch.semaine,
            horaire: this.currentMatch.horaire,
            gymnase: this.currentMatch.gymnase
        };
        
        const newSlot = { semaine, horaire, gymnase };
        
        // Ajouter la modification
        this.modificationManager.addModification(
            this.currentMatch.match_id,
            originalSlot,
            newSlot
        );
        
        // Mettre à jour le match dans le DataManager
        this.dataManager.updateMatch(this.currentMatch.match_id, newSlot);
        
        this.close();
    }
    
    /**
     * Déplanifie le match
     */
    unschedule() {
        if (!confirm('Voulez-vous vraiment déplanifier ce match ?')) {
            return;
        }
        
        const originalSlot = {
            semaine: this.currentMatch.semaine,
            horaire: this.currentMatch.horaire,
            gymnase: this.currentMatch.gymnase
        };
        
        const newSlot = {
            semaine: null,
            horaire: null,
            gymnase: null
        };
        
        // Ajouter la modification
        this.modificationManager.addModification(
            this.currentMatch.match_id,
            originalSlot,
            newSlot
        );
        
        // Mettre à jour le match
        this.dataManager.updateMatch(this.currentMatch.match_id, newSlot);
        
        this.close();
    }
    
    /**
     * Ferme le modal
     */
    close() {
        this.modal.classList.add('hidden');
        this.currentMatch = null;
        document.getElementById('edit-form').reset();
        this._hideConflictAlert();
    }
};


// views/agenda-grid.js
/**
 * AgendaGridView - Vue agenda avec axe temporel vertical et colonnes par gymnase
 * 
 * Architecture:
 * - Axe vertical: Horaires de 13h à 23h
 * - Colonnes horizontales: Une par gymnase
 * - Matchs positionnés absolument selon leur horaire
 * - Matchs simultanés placés côte à côte
 */
class AgendaGridView {
    constructor(dataManager, container) {
        this.dataManager = dataManager;
        this.container = container;
        
        // Renderer pour les cartes de matchs
        this.cardRenderer = new MatchCardRenderer(dataManager);
        
        // Drag & drop
        this.dragDropManager = new DragDropManager(
            dataManager,
            window.modificationManager
        );
        this.dragDropManager.onModification = () => this.render();
        
        // Filtres actifs
        this.filters = {
            institution: '',
            pool: '',
            venue: '',
            team: '',
            gender: ''
        };
        
        // Mode d'affichage : 'week' (par journée) ou 'venue' (par gymnase)
        this.displayMode = 'week'; // Par défaut : navigation par journée
        
        // Mode de coloration des matchs
        this.colorCodingMode = 'none'; // Par défaut : pas de coloration
        
        // Navigation par journée (mode 'week')
        this.currentWeekIndex = 0;
        this.weeks = []; // Liste des journées disponibles
        
        // Navigation par gymnase (mode 'venue')
        this.currentVenueIndex = 0;
        this.venues = []; // Liste des gymnases disponibles
        
        // Configuration des colonnes
        this.columnMinWidth = 200; // Largeur minimale par colonne en pixels
        
        // Date de début du championnat (J1 = jeudi 16 octobre 2025)
        this.championshipStartDate = new Date(2025, 9, 16); // Mois 9 = octobre (0-indexed)
    }
    
    /**
     * Calcule la date du jeudi pour une journée donnée
     * @param {number} weekNumber - Numéro de la journée (J1, J2, etc.)
     * @returns {{date: Date, label: string}} - Date du jeudi et label formaté
     */
    getWeekDates(weekNumber) {
        // Calculer le jeudi de cette journée
        const matchDate = new Date(this.championshipStartDate);
        matchDate.setDate(matchDate.getDate() + (weekNumber - 1) * 7);
        
        return {
            date: matchDate,
            label: this.formatDate(matchDate)
        };
    }
    
    /**
     * Formate une date de manière concise
     * @param {Date} date - Date à formater
     * @returns {string} - Format "16 oct." ou "3 déc."
     */
    formatDate(date) {
        const months = ['janv.', 'févr.', 'mars', 'avr.', 'mai', 'juin',
                       'juil.', 'août', 'sept.', 'oct.', 'nov.', 'déc.'];
        
        const day = date.getDate();
        const month = months[date.getMonth()];
        
        return `${day} ${month}`;
    }
    
    /**
     * Retourne la configuration des options d'affichage pour le panneau latéral
     * @returns {Object} Configuration pour ViewOptionsManager
     */
    getDisplayOptions() {
        return {
            title: "Options d'affichage",
            options: [
                {
                    type: 'button-group',
                    id: 'agenda-navigation-mode',
                    label: 'Navigation par',
                    values: [
                        { value: 'week', text: '📅 Journée' },
                        { value: 'venue', text: '🏛️ Gymnase' }
                    ],
                    default: this.displayMode,
                    action: (value) => {
                        this.setDisplayMode(value);
                    }
                },
                {
                    type: 'button-group',
                    id: 'agenda-color-coding',
                    label: 'Coloration des matchs',
                    values: [
                        { value: 'none', text: '🎨 Aucune' },
                        { value: 'genre', text: '👥 Genre' },
                        { value: 'niveau', text: '🎯 Niveau (A1-A4)' },
                        { value: 'penalite', text: '⚠️ Pénalités' },
                        { value: 'statut', text: '✅ Statut' }
                    ],
                    default: this.colorCodingMode || 'none',
                    action: (value) => {
                        this.setColorCoding(value);
                    }
                }
            ]
        };
    }
    
    /**
     * Change le mode de coloration des matchs
     * @param {string} mode - 'none', 'genre', 'niveau', 'penalite', ou 'statut'
     */
    setColorCoding(mode) {
        const validModes = ['none', 'genre', 'niveau', 'penalite', 'statut'];
        if (!validModes.includes(mode)) {
            console.warn(`Mode de coloration invalide: ${mode}`);
            return;
        }
        
        this.colorCodingMode = mode;
        
        // Appliquer les classes de coloration sur le container
        const container = document.querySelector('.agenda-view-container');
        if (container) {
            // Retirer toutes les classes de coloration
            container.classList.remove('color-none', 'color-genre', 'color-niveau', 'color-penalite', 'color-statut');
            // Ajouter la nouvelle classe
            container.classList.add(`color-${mode}`);
        }
        
        // Re-rendre la vue pour appliquer les changements
        this.render();
        
        // FORCER l'application des couleurs via JavaScript (fallback si CSS ne fonctionne pas)
        setTimeout(() => this.applyColorCoding(), 50);
    }
    
    /**
     * Applique les couleurs directement via JavaScript (fallback)
     */
    applyColorCoding() {
        if (!this.colorCodingMode || this.colorCodingMode === 'none') return;
        
        const cards = document.querySelectorAll('.match-card');
        
        cards.forEach(card => {
            let background = null;
            
            if (this.colorCodingMode === 'genre') {
                if (card.classList.contains('male') || card.classList.contains('match-male')) {
                    // Bleu dynamique avec reflets clairs
                    background = 'linear-gradient(135deg, #60a5fa 0%, #3b82f6 50%, #2563eb 100%)';
                } else if (card.classList.contains('female') || card.classList.contains('match-female')) {
                    // Rose vibrant avec reflets
                    background = 'linear-gradient(135deg, #f472b6 0%, #ec4899 50%, #db2777 100%)';
                } else if (card.classList.contains('mixed')) {
                    // Violet énergique
                    background = 'linear-gradient(135deg, #a78bfa 0%, #8b5cf6 50%, #7c3aed 100%)';
                }
            } else if (this.colorCodingMode === 'niveau') {
                const category = card.getAttribute('data-category');
                const categoryLower = category ? category.toLowerCase() : '';
                if (categoryLower === 'a1') {
                    // Violet royal premium (A1 = élite)
                    background = 'linear-gradient(135deg, #a855f7 0%, #9333ea 40%, #7c3aed 100%)';
                } else if (categoryLower === 'a2') {
                    // Bleu indigo profond
                    background = 'linear-gradient(135deg, #6366f1 0%, #4f46e5 50%, #4338ca 100%)';
                } else if (categoryLower === 'a3') {
                    // Bleu ciel dynamique
                    background = 'linear-gradient(135deg, #38bdf8 0%, #0ea5e9 50%, #0284c7 100%)';
                } else if (categoryLower === 'a4') {
                    // Teal aqua frais
                    background = 'linear-gradient(135deg, #2dd4bf 0%, #14b8a6 50%, #0d9488 100%)';
                }
            } else if (this.colorCodingMode === 'penalite') {
                const penalties = parseInt(card.getAttribute('data-penalties') || '0');
                if (penalties === 0) {
                    // Vert émeraude positif
                    background = 'linear-gradient(135deg, #34d399 0%, #10b981 50%, #059669 100%)';
                } else if (penalties <= 5) {
                    // Orange ambre attention
                    background = 'linear-gradient(135deg, #fbbf24 0%, #f59e0b 50%, #d97706 100%)';
                } else {
                    // Rouge corail alerte
                    background = 'linear-gradient(135deg, #f87171 0%, #ef4444 50%, #dc2626 100%)';
                }
            } else if (this.colorCodingMode === 'statut') {
                if (card.classList.contains('match-fixed')) {
                    // Violet améthyste (fixé)
                    background = 'linear-gradient(135deg, #a78bfa 0%, #8b5cf6 50%, #7c3aed 100%)';
                } else if (card.classList.contains('match-conflict-critical')) {
                    // Rouge rubis critique
                    background = 'linear-gradient(135deg, #f87171 0%, #ef4444 50%, #dc2626 100%)';
                } else if (card.classList.contains('match-conflict-warning')) {
                    // Orange topaze warning
                    background = 'linear-gradient(135deg, #fbbf24 0%, #f59e0b 50%, #d97706 100%)';
                } else {
                    // Bleu saphir flexible
                    background = 'linear-gradient(135deg, #60a5fa 0%, #3b82f6 50%, #2563eb 100%)';
                }
            }
            
            if (background) {
                card.style.background = background;
                card.style.color = 'white';
            }
        });
    }
    
    /**
     * Change le mode d'affichage
     * @param {string} mode - 'week' pour navigation par journée, 'venue' pour navigation par gymnase
     */
    setDisplayMode(mode) {
        if (mode !== 'week' && mode !== 'venue') {
            console.warn(`Mode d'affichage invalide: ${mode}`);
            return;
        }
        
        this.displayMode = mode;
        
        // Réinitialiser l'index de navigation
        if (mode === 'week') {
            this.currentWeekIndex = 0;
        } else {
            this.currentVenueIndex = 0;
        }
        
        // Re-rendre la vue
        this.render();
    }
    
    /**
     * Initialise la vue
     */
    init() {
        this.render();
    }
    
    /**
     * Filtre les matchs selon les critères actifs
     */
    filterMatches(matches) {
        let filtered = [...matches];
        
        if (this.filters.gender) {
            filtered = filtered.filter(m => {
                const genre = m.equipe1_genre || m.equipe2_genre;
                return genre === this.filters.gender;
            });
        }
        
        if (this.filters.institution) {
            filtered = filtered.filter(m => 
                m.equipe1_institution === this.filters.institution || 
                m.equipe2_institution === this.filters.institution
            );
        }
        
        if (this.filters.pool) {
            filtered = filtered.filter(m => m.poule === this.filters.pool);
        }
        
        if (this.filters.venue) {
            filtered = filtered.filter(m => m.gymnase === this.filters.venue);
        }
        
        if (this.filters.team) {
            filtered = filtered.filter(m =>
                m.equipe1_nom.toLowerCase().includes(this.filters.team.toLowerCase()) ||
                m.equipe2_nom.toLowerCase().includes(this.filters.team.toLowerCase())
            );
        }
        
        return filtered;
    }
    
    /**
     * Organise les matchs par semaine
     */
    organizeMatchesByWeek(matches) {
        const weekMap = new Map();
        
        matches.forEach(match => {
            // Utiliser le champ 'semaine' directement
            const weekNumber = match.semaine;
            if (!weekNumber) return;
            
            const weekKey = `W${String(weekNumber).padStart(2, '0')}`;
            
            if (!weekMap.has(weekKey)) {
                weekMap.set(weekKey, {
                    key: weekKey,
                    weekNumber: weekNumber,
                    matches: []
                });
            }
            
            weekMap.get(weekKey).matches.push(match);
        });
        
        // Convertir en tableau et trier par numéro de semaine
        const weeks = Array.from(weekMap.values()).sort((a, b) => 
            a.weekNumber - b.weekNumber
        );
        
        return weeks;
    }
    
    /**
     * Organise les matchs par gymnase
     * @param {Array} matches - Liste des matchs
     * @returns {Array} Tableau d'objets {venueName, matches[]}
     */
    organizeMatchesByVenue(matches) {
        const venueMap = new Map();
        
        matches.forEach(match => {
            const venueName = match.gymnase;
            if (!venueName) return;
            
            if (!venueMap.has(venueName)) {
                venueMap.set(venueName, {
                    venueName: venueName,
                    matches: []
                });
            }
            
            venueMap.get(venueName).matches.push(match);
        });
        
        // Convertir en tableau et trier alphabétiquement
        const venues = Array.from(venueMap.values()).sort((a, b) => 
            a.venueName.localeCompare(b.venueName)
        );
        
        return venues;
    }
    
    /**
     * Calcule le numéro de semaine ISO 8601
     */
    getWeekNumber(date) {
        const d = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate()));
        const dayNum = d.getUTCDay() || 7;
        d.setUTCDate(d.getUTCDate() + 4 - dayNum);
        const yearStart = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));
        return Math.ceil((((d - yearStart) / 86400000) + 1) / 7);
    }
    
    /**
     * Retourne le lundi de la semaine
     */
    getWeekStartDate(date) {
        const d = new Date(date);
        const day = d.getDay();
        const diff = d.getDate() - day + (day === 0 ? -6 : 1);
        return new Date(d.setDate(diff));
    }
    
    /**
     * Formate le label d'une journée avec la date
     * @param {Object} week - Objet semaine avec weekNumber et matches
     * @returns {string} - Format "J2 (23 oct.)"
     */
    formatWeekLabel(week) {
        const weekDates = this.getWeekDates(week.weekNumber);
        return `J${week.weekNumber} (${weekDates.label})`;
    }

    /**
     * Rend la vue agenda complète
     */
    render() {
        try {
            const data = this.dataManager.getData();
            
            if (!data || !data.matches) {
                console.error('❌ [AgendaGrid] Aucune donnée disponible');
                this.container.innerHTML = '<div class="empty-state">Aucune donnée disponible</div>';
                return;
            }
            
            const allMatches = data.matches.scheduled || [];
            
            const filteredMatches = this.filterMatches(allMatches);
            
            if (filteredMatches.length === 0) {
                this.container.innerHTML = '<div class="empty-state">Aucun match ne correspond aux filtres sélectionnés</div>';
                return;
            }
            
            // ═══════════════════════════════════════════════════════════════
            // DUAL MODE LOGIC: Organiser selon le mode d'affichage
            // ═══════════════════════════════════════════════════════════════
            let matchesToDisplay = [];
            
            if (this.displayMode === 'week') {
                // MODE JOURNÉE: Organiser par semaine, naviguer entre J1, J2, J4...
                this.weeks = this.organizeMatchesByWeek(filteredMatches);
                
                if (this.weeks.length === 0) {
                    this.container.innerHTML = '<div class="empty-state">Aucun match trouvé</div>';
                    return;
                }
                
                // Valider l'index de journée
                if (this.currentWeekIndex >= this.weeks.length) {
                    this.currentWeekIndex = this.weeks.length - 1;
                }
                if (this.currentWeekIndex < 0) {
                    this.currentWeekIndex = 0;
                }
                
                const currentWeek = this.weeks[this.currentWeekIndex];
                matchesToDisplay = currentWeek.matches;
                console.log('🔍 [AgendaGrid] Journée courante:', currentWeek.key, 'matchs:', matchesToDisplay.length);
                
            } else if (this.displayMode === 'venue') {
                // MODE GYMNASE: Organiser par gymnase, naviguer entre BESSON, LAENNEC...
                this.venues = this.organizeMatchesByVenue(filteredMatches);
                console.log('🔍 [AgendaGrid] Mode Gymnase - Nombre de gymnases:', this.venues.length);
                
                if (this.venues.length === 0) {
                    this.container.innerHTML = '<div class="empty-state">Aucun match trouvé</div>';
                    return;
                }
                
                // Valider l'index de gymnase
                if (this.currentVenueIndex >= this.venues.length) {
                    this.currentVenueIndex = this.venues.length - 1;
                }
                if (this.currentVenueIndex < 0) {
                    this.currentVenueIndex = 0;
                }
                
                const currentVenue = this.venues[this.currentVenueIndex];
                matchesToDisplay = currentVenue.matches;
                console.log('🔍 [AgendaGrid] Gymnase courant:', currentVenue.key, 'matchs:', matchesToDisplay.length);
            }
            
            // ═══════════════════════════════════════════════════════════════
            // GÉNÉRATION DU HTML (commun aux deux modes)
            // ═══════════════════════════════════════════════════════════════
            const html = this.generateAgendaView(matchesToDisplay, data);
            
            this.container.innerHTML = html;
            
            // Initialiser le drag & drop
            this.dragDropManager.initializeDragDrop(this.container);
            
            // Attacher les événements
            this.attachEvents();
            
            // Réappliquer les couleurs si un mode de coloration est actif
            if (this.colorCodingMode && this.colorCodingMode !== 'none') {
                setTimeout(() => this.applyColorCoding(), 50);
            }
            
            console.log('✅ [AgendaGrid] render() terminé avec succès');
            
        } catch (error) {
            console.error('❌ [AgendaGrid] Erreur dans render():', error);
            this.container.innerHTML = `
                <div class="error-state">
                    <h3>⚠️ Erreur d'affichage</h3>
                    <p>${error.message}</p>
                    <pre>${error.stack}</pre>
                    <button onclick="location.reload()">Recharger la page</button>
                </div>
            `;
        }
    }


    /**
     * Génère la vue agenda complète avec axe temporel et colonnes de gymnases
     */
    generateAgendaView(matches, data) {
        // Paramètres de temps
        const minHour = 13;
        const maxHour = 23;
        const pixelsPerHour = 120;
        const matchDuration = 2; // Durée réelle du match
        const matchDisplayHeight = 1.85; // Hauteur affichée (avec marge pour éviter chevauchement)
        const totalHeight = (maxHour - minHour) * pixelsPerHour;
        
        // ═══════════════════════════════════════════════════════════════
        // DUAL MODE: Générer les colonnes selon le mode d'affichage
        // ═══════════════════════════════════════════════════════════════
        let columnsHTML = '';
        let venues = [];
        let containerClass = '';
        
        if (this.displayMode === 'week') {
            // MODE JOURNÉE: Colonnes = Gymnases
            venues = this.getVenuesWithCapacity(matches, data);
            const matchesByVenue = this.groupMatchesByVenue(matches);
            const venueMaxSimultaneous = this.calculateMaxSimultaneousMatches(matchesByVenue);
            
            // Calculer les largeurs proportionnelles pour chaque gymnase
            const columnWidths = this.calculateColumnWidths(venueMaxSimultaneous);
            
            console.log('🔍 [AgendaGrid] Mode Journée - Gymnases:', venues.length);
            
            columnsHTML = venues.map(venue => {
                const widthInfo = columnWidths.get(venue.id) || { width: this.columnMinWidth, widthPerSlot: 200 };
                return this.generateVenueColumnWithWidth(
                    venue, 
                    matchesByVenue.get(venue.id) || [], 
                    venueMaxSimultaneous.get(venue.id) || 1,
                    widthInfo.width,
                    widthInfo.widthPerSlot,
                    minHour,
                    pixelsPerHour,
                    matchDisplayHeight,
                    totalHeight
                );
            }).join('');
            
            containerClass = 'venues-container';
            
        } else if (this.displayMode === 'venue') {
            // MODE GYMNASE: Colonnes = Journées
            const weeks = this.getWeeksFromMatches(matches);
            const matchesByWeek = this.groupMatchesByWeek(matches);
            const weekMaxSimultaneous = this.calculateMaxSimultaneousMatchesByWeek(matchesByWeek);
            
            // Calculer les largeurs proportionnelles pour chaque journée
            const columnWidths = this.calculateColumnWidths(weekMaxSimultaneous);
            
            console.log('🔍 [AgendaGrid] Mode Gymnase - Journées:', weeks.length);
            
            columnsHTML = weeks.map(week => {
                const widthInfo = columnWidths.get(week.weekNumber) || { width: this.columnMinWidth, widthPerSlot: 200 };
                return this.generateWeekColumnWithWidth(
                    week,
                    matchesByWeek.get(week.weekNumber) || [],
                    weekMaxSimultaneous.get(week.weekNumber) || 1,
                    widthInfo.width,
                    widthInfo.widthPerSlot,
                    minHour,
                    pixelsPerHour,
                    matchDisplayHeight,
                    totalHeight
                );
            }).join('');
            
            containerClass = 'weeks-container';
        }
        
        // ═══════════════════════════════════════════════════════════════
        // Structure HTML commune
        // ═══════════════════════════════════════════════════════════════
        
        // Conserver la classe de coloration si elle est définie
        const colorClass = this.colorCodingMode && this.colorCodingMode !== 'none' ? ` color-${this.colorCodingMode}` : '';
        
        return `
            <div class="agenda-view-container${colorClass}">
                <!-- Barre de navigation en haut (non-scrollable) -->
                ${this.generateNavigationBar(matches, venues, data)}
                
                <!-- Zone de contenu (scrollable verticalement uniquement) -->
                <div class="agenda-scroll-wrapper">
                    <div class="agenda-grid-container" style="display:flex; flex-direction:row; background:#fafbfc; padding:0.5rem;">
                        <!-- Colonne des horaires (fixée à gauche) -->
                        <div class="time-column-fixed" style="width: 85px; flex-shrink: 0; background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); border-right: 3px solid #667eea; box-shadow: 2px 0 8px rgba(0,0,0,0.06); margin-right: 4px; position: sticky; left: 0; z-index: 10;">
                            ${this.generateTimeScale(minHour, maxHour, pixelsPerHour, totalHeight)}
                        </div>
                        
                        <!-- Colonnes dynamiques selon le mode -->
                        <div class="${containerClass}" style="display:flex; flex-direction:row; flex-wrap:nowrap; overflow-x:auto; background:#ffffff; padding:0.25rem; gap:0;">
                            ${columnsHTML}
                        </div>
                    </div>
                </div>
            </div>
        `;
    }

    /**
     * Récupère tous les gymnases avec leurs capacités
     */
    getVenuesWithCapacity(matches, data) {
        const venueMap = new Map();
        const venues = data.entities?.venues || {};
        
        // D'abord, ajouter tous les gymnases depuis les entités
        Object.entries(venues).forEach(([id, venueData]) => {
            venueMap.set(id, {
                id: id,
                name: venueData.nom || id,
                capacity: venueData.capacite || 1
            });
        });
        
        // Ensuite, vérifier les matchs pour s'assurer qu'on n'a pas oublié de gymnases
        matches.forEach(match => {
            const venueId = match.gymnase; // Utiliser 'gymnase' au lieu de 'gymnase_id'
            if (venueId && !venueMap.has(venueId)) {
                venueMap.set(venueId, {
                    id: venueId,
                    name: venueId,
                    capacity: 1
                });
            }
        });
        
        return Array.from(venueMap.values()).sort((a, b) => a.name.localeCompare(b.name));
    }

    /**
     * Groupe les matchs par gymnase
     */
    groupMatchesByVenue(matches) {
        const grouped = new Map();
        
        matches.forEach(match => {
            const venueId = match.gymnase; // Utiliser 'gymnase' au lieu de 'gymnase_id'
            if (!venueId) return;
            
            if (!grouped.has(venueId)) {
                grouped.set(venueId, []);
            }
            grouped.get(venueId).push(match);
        });
        
        return grouped;
    }

    /**
     * Calcule le nombre maximum de matchs simultanés dans chaque gymnase
     */
    calculateMaxSimultaneousMatches(matchesByVenue) {
        const maxSimultaneous = new Map();
        
        matchesByVenue.forEach((matches, venueId) => {
            let max = 1;
            
            // Pour chaque match, vérifier combien de matchs se chevauchent
            matches.forEach(match1 => {
                const time1 = this.parseTime(match1.horaire);
                if (!time1) return;
                
                const end1 = time1 + 2; // durée de 2h
                
                let simultaneous = 1;
                matches.forEach(match2 => {
                    if (match1.match_id === match2.match_id) return;
                    
                    const time2 = this.parseTime(match2.horaire);
                    if (!time2) return;
                    
                    const end2 = time2 + 2;
                    
                    // Vérifier le chevauchement
                    if (!(end1 <= time2 || time1 >= end2)) {
                        simultaneous++;
                    }
                });
                
                max = Math.max(max, simultaneous);
            });
            
            maxSimultaneous.set(venueId, max);
        });
        
        return maxSimultaneous;
    }

    /**
     * Parse une heure au format "HH:MM" en nombre décimal
     */
    parseTime(timeStr) {
        if (!timeStr) return null;
        const [hours, minutes] = timeStr.split(':').map(Number);
        if (isNaN(hours) || isNaN(minutes)) return null;
        return hours + minutes / 60;
    }

    /**
     * Calcule les largeurs de colonnes de manière proportionnelle
     * avec un minimum de 200px par colonne
     * 
     * @param {Map} maxSimultaneousMap - Map(id -> nombre max de matchs simultanés)
     * @returns {Map} Map(id -> {width: number, widthPerSlot: number})
     */
    calculateColumnWidths(maxSimultaneousMap) {
        const minColumnWidth = this.columnMinWidth; // 200px
        const padding = 16;
        const widths = new Map();
        
        // Pour chaque colonne, calculer la largeur par slot en fonction du nombre de matchs simultanés
        maxSimultaneousMap.forEach((maxSimultaneous, id) => {
            let widthPerSlot;
            
            // Adapter la largeur par slot selon le nombre de matchs simultanés
            // Plus il y a de matchs simultanés, plus on réduit la largeur par slot
            if (maxSimultaneous <= 1) {
                widthPerSlot = 250; // Largeur généreuse pour 1 seul match
            } else if (maxSimultaneous <= 3) {
                widthPerSlot = 230; // Largeur confortable
            } else if (maxSimultaneous <= 6) {
                widthPerSlot = 200; // Largeur normale
            } else if (maxSimultaneous <= 10) {
                widthPerSlot = 170; // Réduction légère
            } else if (maxSimultaneous <= 15) {
                widthPerSlot = 150; // Réduction moyenne
            } else {
                widthPerSlot = 130; // Réduction importante
            }
            
            // Calculer la largeur totale de la colonne
            let columnWidth = (maxSimultaneous * widthPerSlot) + padding;
            
            // Appliquer le minimum de 200px
            columnWidth = Math.max(columnWidth, minColumnWidth);
            
            widths.set(id, {
                width: columnWidth,
                widthPerSlot: widthPerSlot
            });
            
            console.log(`📏 [Column ${id}] maxSimultaneous: ${maxSimultaneous}, widthPerSlot: ${widthPerSlot}px, columnWidth: ${columnWidth}px`);
        });
        
        return widths;
    }

    /**
     * ═══════════════════════════════════════════════════════════════
     * MÉTHODES POUR MODE GYMNASE (colonnes = journées)
     * ═══════════════════════════════════════════════════════════════
     */

    /**
     * Récupère toutes les journées présentes dans les matchs
     */
    getWeeksFromMatches(matches) {
        const weekSet = new Set();
        matches.forEach(match => {
            if (match.semaine) {
                weekSet.add(match.semaine);
            }
        });
        
        const weeks = Array.from(weekSet).sort((a, b) => a - b).map(weekNum => ({
            weekNumber: weekNum,
            label: this.formatWeekLabel({ weekNumber: weekNum })
        }));
        
        return weeks;
    }

    /**
     * Groupe les matchs par journée (semaine)
     */
    groupMatchesByWeek(matches) {
        const grouped = new Map();
        
        matches.forEach(match => {
            const weekNum = match.semaine;
            if (!weekNum) return;
            
            if (!grouped.has(weekNum)) {
                grouped.set(weekNum, []);
            }
            grouped.get(weekNum).push(match);
        });
        
        return grouped;
    }

    /**
     * Calcule le nombre maximum de matchs simultanés dans chaque journée
     */
    calculateMaxSimultaneousMatchesByWeek(matchesByWeek) {
        const maxSimultaneous = new Map();
        
        matchesByWeek.forEach((matches, weekNum) => {
            let max = 1;
            
            matches.forEach(match1 => {
                const time1 = this.parseTime(match1.horaire);
                if (!time1) return;
                
                const end1 = time1 + 2;
                let simultaneous = 1;
                
                matches.forEach(match2 => {
                    if (match1.match_id === match2.match_id) return;
                    
                    const time2 = this.parseTime(match2.horaire);
                    if (!time2) return;
                    
                    const end2 = time2 + 2;
                    
                    if (!(end1 <= time2 || time1 >= end2)) {
                        simultaneous++;
                    }
                });
                
                max = Math.max(max, simultaneous);
            });
            
            maxSimultaneous.set(weekNum, max);
        });
        
        return maxSimultaneous;
    }

    /**
     * Génère une colonne pour une journée (mode gymnase)
     */
    generateWeekColumn(week, matches, maxSimultaneous, minHour, pixelsPerHour, matchDuration, totalHeight) {
        // Largeur adaptative basée sur le nombre max de matchs simultanés
        let widthPerSlot;
        if (maxSimultaneous <= 3) {
            widthPerSlot = 230;
        } else if (maxSimultaneous <= 6) {
            widthPerSlot = 200;
        } else if (maxSimultaneous <= 10) {
            widthPerSlot = 170;
        } else if (maxSimultaneous <= 15) {
            widthPerSlot = 150;
        } else {
            widthPerSlot = 130;
        }
        
        const padding = 4;
        const columnWidth = Math.max(this.columnMinWidth, (maxSimultaneous * widthPerSlot) + padding);
        const weekDates = this.getWeekDates(week.weekNumber);
        
        console.log(`🔍 [Week ${week.weekNumber}] maxSimultaneous: ${maxSimultaneous}, widthPerSlot: ${widthPerSlot}px, columnWidth: ${columnWidth}px`);
        
        return `
            <div class="week-column" 
                 data-week="${week.weekNumber}"
                 data-max-simultaneous="${maxSimultaneous}"
                 style="width: ${columnWidth}px; flex-shrink: 0; margin-right: 4px;">
                <!-- En-tête de la journée -->
                <div class="column-header week-header">
                    <div class="column-title">${week.label}</div>
                    <div class="column-subtitle">${weekDates.label}</div>
                    <div class="column-stats">
                        <span>📊 ${matches.length} match${matches.length > 1 ? 's' : ''}</span>
                        ${maxSimultaneous > 1 ? `<span>🔀 Max: ${maxSimultaneous}</span>` : ''}
                    </div>
                </div>
                
                <!-- Corps avec les matchs -->
                <div class="column-body" style="height: ${totalHeight}px; position: relative;">
                    ${this.generateWeekMatches(matches, minHour, pixelsPerHour, matchDuration, maxSimultaneous, widthPerSlot)}
                </div>
            </div>
        `;
    }

    /**
     * Génère une colonne pour une journée avec largeur personnalisée (mode gymnase)
     */
    generateWeekColumnWithWidth(week, matches, maxSimultaneous, columnWidth, widthPerSlot, minHour, pixelsPerHour, matchDuration, totalHeight) {
        const weekDates = this.getWeekDates(week.weekNumber);
        
        console.log(`🔍 [Week ${week.weekNumber}] maxSimultaneous: ${maxSimultaneous}, widthPerSlot: ${widthPerSlot}px, columnWidth: ${columnWidth}px`);
        
        return `
            <div class="week-column" 
                 data-week="${week.weekNumber}"
                 data-max-simultaneous="${maxSimultaneous}"
                 style="width: ${columnWidth}px; flex-shrink: 0; background: linear-gradient(180deg, #ffffff 0%, #f8f9fa 100%); border-right: 2px solid #e9ecef; margin-right: 8px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.08);">
                <!-- En-tête de la journée -->
                <div class="week-header" style="padding: 0; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; display: flex; flex-direction: column; position: sticky; top: 0; z-index: 5; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                    <div class="week-name" style="font-size: 1.2rem; font-weight: 800; text-transform: uppercase; letter-spacing: 1.5px; text-shadow: 0 2px 4px rgba(0,0,0,0.3); background: rgba(0, 0, 0, 0.15); padding: 0.8rem 1rem; border-bottom: 2px solid rgba(255, 255, 255, 0.15); text-align: center;">${week.label}</div>
                    <div class="week-info" style="display: flex; gap: 0.75rem; font-size: 0.8rem; font-weight: 600; padding: 0.6rem 1rem; justify-content: center; flex-wrap: wrap;">
                        <span class="week-matches" style="display: flex; align-items: center; gap: 0.3rem; background: rgba(255, 255, 255, 0.25); padding: 0.3rem 0.7rem; border-radius: 12px; font-size: 0.75rem; white-space: nowrap;">📊 ${matches.length} match${matches.length > 1 ? 's' : ''}</span>
                        ${maxSimultaneous > 1 ? `<span class="week-simultaneous" style="display: flex; align-items: center; gap: 0.3rem; background: rgba(255, 215, 0, 0.4); padding: 0.3rem 0.7rem; border-radius: 12px; font-size: 0.75rem; white-space: nowrap; font-weight: 700;">🔀 Max: ${maxSimultaneous}</span>` : ''}
                    </div>
                </div>
                
                <!-- Corps avec les matchs -->
                <div class="week-body" style="height: ${totalHeight}px; position: relative; background-image: repeating-linear-gradient(to bottom, transparent 0, transparent 119px, rgba(102, 126, 234, 0.08) 119px, rgba(102, 126, 234, 0.08) 120px);">
                    ${this.generateWeekMatches(matches, minHour, pixelsPerHour, matchDuration, maxSimultaneous, widthPerSlot)}
                </div>
            </div>
        `;
    }

    /**
     * Génère les matchs d'une journée avec positionnement absolu
     */
    generateWeekMatches(matches, minHour, pixelsPerHour, matchDuration, maxSimultaneous, widthPerSlot) {
        if (!matches || matches.length === 0) return '';
        
        // Trier les matchs par horaire
        const sortedMatches = matches.slice().sort((a, b) => {
            const timeA = this.parseTime(a.horaire) || 0;
            const timeB = this.parseTime(b.horaire) || 0;
            return timeA - timeB;
        });
        
        // Assigner un slot horizontal à chaque match
        const matchSlots = this.assignMatchSlots(sortedMatches);
        
        let html = '';
        sortedMatches.forEach((match, index) => {
            const time = this.parseTime(match.horaire);
            if (!time) return;
            
            // Position verticale basée sur l'horaire
            const top = (time - minHour) * pixelsPerHour;
            const height = matchDuration * pixelsPerHour - 10;
            
            // Position horizontale basée sur le slot
            const slot = matchSlots.get(match.match_id) || 0;
            const left = slot * widthPerSlot + 2;
            const width = widthPerSlot - 4;
            
            html += `
                <div class="match-wrapper" style="
                    position: absolute;
                    top: ${top}px;
                    left: ${left}px;
                    width: ${width}px;
                    height: ${height}px;
                ">
                    ${this.cardRenderer.renderMatchCard(match, false, index, true, null)}
                </div>
            `;
        });
        
        return html;
    }

    /**
     * Positionne les matchs dans une colonne (gestion des chevauchements)
     */
    /**
     * ═══════════════════════════════════════════════════════════════
     * FIN MÉTHODES MODE GYMNASE
     * ═══════════════════════════════════════════════════════════════
     */

    /**
     * ÉTAPE 1: Génère la barre de navigation en haut (non-scrollable)
     * Structure propre avec 3 sections : info gauche, navigation centrale, stats droite
     */
    generateNavigationBar(matches, venues, data) {
        const totalVenues = venues.length;
        const totalMatches = matches.length;
        
        // ═══════════════════════════════════════════════════════════════
        // DUAL MODE: Informations de navigation selon le mode
        // ═══════════════════════════════════════════════════════════════
        let navigationContent = '';
        
        if (this.displayMode === 'week') {
            // MODE JOURNÉE: Naviguer entre J1, J2, J4...
            const currentWeek = this.weeks[this.currentWeekIndex];
            const weekLabel = this.formatWeekLabel(currentWeek);
            const weekDates = this.getWeekDates(currentWeek.weekNumber);
            
            const fullDate = weekDates.date.toLocaleDateString('fr-FR', { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });
            
            const prevDisabled = this.currentWeekIndex === 0 ? 'disabled' : '';
            const nextDisabled = this.currentWeekIndex === this.weeks.length - 1 ? 'disabled' : '';
            const weekIndicator = `${this.currentWeekIndex + 1}/${this.weeks.length}`;
            
            const btnStyle = "padding: 0.75rem 1.25rem; background: linear-gradient(135deg, #667eea, #764ba2); color: white; border: none; border-radius: 12px; cursor: pointer; font-weight: 700; box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3); transition: all 0.2s ease;";
            const btnDisabledStyle = "padding: 0.75rem 1.25rem; background: linear-gradient(135deg, #adb5bd, #868e96); color: white; border: none; border-radius: 12px; cursor: not-allowed; font-weight: 700; box-shadow: none; opacity: 0.3;";
            
            navigationContent = `
                <button id="prev-week" class="nav-button nav-prev" ${prevDisabled} title="Journée précédente" style="${prevDisabled ? btnDisabledStyle : btnStyle}">
                    <span class="nav-button-icon" style="font-size: 1.25rem; font-weight: 900;">◀</span>
                </button>
                
                <div class="nav-current-item" style="display: flex; flex-direction: column; align-items: center; gap: 0.5rem; min-width: 350px; padding: 0.75rem 1.5rem; background: white; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.08);">
                    <div class="nav-item-main" style="display: flex; align-items: center; gap: 1rem;">
                        <span class="nav-item-label" style="font-size: 1.5rem; font-weight: 900; color: #667eea; letter-spacing: 1px;">${weekLabel}</span>
                        <span class="nav-item-indicator" style="padding: 0.25rem 0.75rem; background: linear-gradient(135deg, #f8f9fa, #e9ecef); border-radius: 20px; font-size: 0.85rem; font-weight: 600; color: #495057;">${weekIndicator}</span>
                    </div>
                    <div class="nav-item-subtitle" title="${fullDate}" style="font-size: 0.9rem; color: #6c757d; font-weight: 600;">
                        ${fullDate}
                    </div>
                </div>
                
                <button id="next-week" class="nav-button nav-next" ${nextDisabled} title="Journée suivante" style="${nextDisabled ? btnDisabledStyle : btnStyle}">
                    <span class="nav-button-icon" style="font-size: 1.25rem; font-weight: 900;">▶</span>
                </button>
            `;
            
        } else if (this.displayMode === 'venue') {
            // MODE GYMNASE: Naviguer entre BESSON, LAENNEC, DESCARTES...
            const currentVenue = this.venues[this.currentVenueIndex];
            const venueName = currentVenue.key;
            
            const prevDisabled = this.currentVenueIndex === 0 ? 'disabled' : '';
            const nextDisabled = this.currentVenueIndex === this.venues.length - 1 ? 'disabled' : '';
            const venueIndicator = `${this.currentVenueIndex + 1}/${this.venues.length}`;
            
            // Compter le nombre de journées différentes dans ce gymnase
            const uniqueWeeks = new Set(currentVenue.matches.map(m => m.semaine));
            const weekCount = uniqueWeeks.size;
            
            const btnStyle = "padding: 0.75rem 1.25rem; background: linear-gradient(135deg, #667eea, #764ba2); color: white; border: none; border-radius: 12px; cursor: pointer; font-weight: 700; box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3); transition: all 0.2s ease;";
            const btnDisabledStyle = "padding: 0.75rem 1.25rem; background: linear-gradient(135deg, #adb5bd, #868e96); color: white; border: none; border-radius: 12px; cursor: not-allowed; font-weight: 700; box-shadow: none; opacity: 0.3;";
            
            navigationContent = `
                <button id="prev-venue" class="nav-button nav-prev" ${prevDisabled} title="Gymnase précédent" style="${prevDisabled ? btnDisabledStyle : btnStyle}">
                    <span class="nav-button-icon" style="font-size: 1.25rem; font-weight: 900;">◀</span>
                </button>
                
                <div class="nav-current-item" style="display: flex; flex-direction: column; align-items: center; gap: 0.5rem; min-width: 350px; padding: 0.75rem 1.5rem; background: white; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.08);">
                    <div class="nav-item-main" style="display: flex; align-items: center; gap: 1rem;">
                        <span class="nav-item-icon" style="font-size: 1.5rem;">🏛️</span>
                        <span class="nav-item-label" style="font-size: 1.5rem; font-weight: 900; color: #667eea; letter-spacing: 1px;">${venueName}</span>
                        <span class="nav-item-indicator" style="padding: 0.25rem 0.75rem; background: linear-gradient(135deg, #f8f9fa, #e9ecef); border-radius: 20px; font-size: 0.85rem; font-weight: 600; color: #495057;">${venueIndicator}</span>
                    </div>
                    <div class="nav-item-subtitle" style="font-size: 0.9rem; color: #6c757d; font-weight: 600;">
                        ${totalMatches} match${totalMatches > 1 ? 's' : ''} • ${weekCount} journée${weekCount > 1 ? 's' : ''}
                    </div>
                </div>
                
                <button id="next-venue" class="nav-button nav-next" ${nextDisabled} title="Gymnase suivant" style="${nextDisabled ? btnDisabledStyle : btnStyle}">
                    <span class="nav-button-icon" style="font-size: 1.25rem; font-weight: 900;">▶</span>
                </button>
            `;
        }
        
        return `
            <div class="agenda-navigation-bar" style="display: flex; justify-content: space-between; align-items: center; padding: 1rem 1.5rem; background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%); border-bottom: 3px solid #667eea; box-shadow: 0 4px 12px rgba(0,0,0,0.08); flex-shrink: 0; gap: 2rem; z-index: 100;">
                <!-- Section gauche: Informations générales -->
                <div class="nav-section nav-left" style="display: flex; align-items: center; gap: 1rem; min-width: 250px;">
                    <div class="nav-info-group" style="display: flex; align-items: center; gap: 0.5rem; padding: 0.5rem 1rem; background: rgba(102, 126, 234, 0.05); border-radius: 8px; transition: all 0.2s ease;">
                        <span class="nav-icon" style="font-size: 1.25rem;">🏟️</span>
                        <span class="nav-label" style="font-size: 0.85rem; color: #6c757d; font-weight: 600;">Gymnases</span>
                        <span class="nav-value" style="font-size: 1rem; font-weight: 700; color: #667eea;">${totalVenues}</span>
                    </div>
                    <div class="nav-info-group" style="display: flex; align-items: center; gap: 0.5rem; padding: 0.5rem 1rem; background: rgba(102, 126, 234, 0.05); border-radius: 8px; transition: all 0.2s ease;">
                        <span class="nav-icon" style="font-size: 1.25rem;">🎯</span>
                        <span class="nav-label" style="font-size: 0.85rem; color: #6c757d; font-weight: 600;">Matchs</span>
                        <span class="nav-value" style="font-size: 1rem; font-weight: 700; color: #667eea;">${totalMatches}</span>
                    </div>
                </div>
                
                <!-- Section centrale: Navigation dynamique selon le mode -->
                <div class="nav-section nav-center" style="display: flex; align-items: center; gap: 1rem; flex: 1; justify-content: center; min-width: 500px;">
                    ${navigationContent}
                </div>
                
                <!-- Section droite: Informations horaires et version -->
                <div class="nav-section nav-right" style="display: flex; align-items: center; gap: 1rem; min-width: 250px; justify-content: flex-end;">
                    <div class="nav-info-group" style="display: flex; align-items: center; gap: 0.5rem; padding: 0.5rem 1rem; background: rgba(102, 126, 234, 0.05); border-radius: 8px; transition: all 0.2s ease;">
                        <span class="nav-icon" style="font-size: 1.25rem;">🕒</span>
                        <span class="nav-label" style="font-size: 0.85rem; color: #6c757d; font-weight: 600;">Horaires</span>
                        <span class="nav-value" style="font-size: 1rem; font-weight: 700; color: #667eea;">13h - 23h</span>
                    </div>
                    <div class="nav-version-badge" style="display: flex; align-items: center; gap: 0.35rem; padding: 0.5rem 1rem; background: linear-gradient(135deg, #667eea, #764ba2); color: white; border-radius: 20px; font-weight: 700; box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);">
                        <span class="version-icon" style="font-size: 1rem;">✨</span>
                        <span class="version-text" style="font-size: 0.85rem;">v2.0</span>
                    </div>
                </div>
            </div>
        `;
    }
    
    /**
     * Génère la toolbar avec statistiques et navigation
     * @deprecated Utiliser generateNavigationBar à la place (ÉTAPE 1)
     */
    generateToolbar(matches, venues, data) {
        const totalVenues = venues.length;
        const totalMatches = matches.length;
        
        // Info sur la semaine courante
        const currentWeek = this.weeks[this.currentWeekIndex];
        const weekLabel = this.formatWeekLabel(currentWeek);
        
        // Boutons de navigation
        const prevDisabled = this.currentWeekIndex === 0 ? 'disabled' : '';
        const nextDisabled = this.currentWeekIndex === this.weeks.length - 1 ? 'disabled' : '';
        
        return `
            <div class="agenda-toolbar">
                <div class="toolbar-left">
                    <span class="stat-item">
                        <span class="stat-icon">🏟️</span>
                        <strong>${totalVenues}</strong> gymnase${totalVenues > 1 ? 's' : ''}
                    </span>
                </div>
                
                <div class="toolbar-center">
                    <div class="week-navigation">
                        <button id="prev-week" class="week-nav-btn" ${prevDisabled}>
                            ◀ Semaine précédente
                        </button>
                        <div class="current-week-info">
                            <div class="week-label">${weekLabel}</div>
                            <div class="week-stats">
                                <span class="stat-icon">🎯</span>
                                <strong>${totalMatches}</strong> match${totalMatches > 1 ? 's' : ''}
                            </div>
                        </div>
                        <button id="next-week" class="week-nav-btn" ${nextDisabled}>
                            Semaine suivante ▶
                        </button>
                    </div>
                </div>
                
                <div class="toolbar-right">
                    <span class="stat-item">
                        <span class="stat-icon">🕒</span>
                        13h - 23h
                    </span>
                    <span class="stat-item" style="background: linear-gradient(135deg, #4ade80, #22c55e); color: white; font-size: 0.75rem; padding: 0.4rem 0.8rem;">
                        ✨ V2.0
                    </span>
                </div>
            </div>
        `;
    }
    
    /**
     * Génère l'échelle des horaires (13h à 23h)
     */
    generateTimeScale(minHour, maxHour, pixelsPerHour, totalHeight) {
        let html = '<div class="time-scale" style="height: ' + totalHeight + 'px; position: relative;">';
        
        for (let hour = minHour; hour <= maxHour; hour++) {
            const top = (hour - minHour) * pixelsPerHour;
            html += `
                <div class="time-marker" style="position: absolute; top: ${top}px; width: 100%;">
                    <span class="time-label">${hour}:00</span>
                    <div class="time-line"></div>
                </div>
            `;
        }
        
        html += '</div>';
        return html;
    }
    
    /**
     * Génère une colonne pour un gymnase
     */
    generateVenueColumn(venue, matches, maxSimultaneous, minHour, pixelsPerHour, matchDuration, totalHeight) {
        // Largeur adaptative avec réduction progressive si trop de matchs simultanés
        let widthPerSlot;
        if (maxSimultaneous <= 3) {
            widthPerSlot = 230; // Largeur normale
        } else if (maxSimultaneous <= 6) {
            widthPerSlot = 200; // Réduction légère
        } else if (maxSimultaneous <= 10) {
            widthPerSlot = 170; // Réduction moyenne
        } else if (maxSimultaneous <= 15) {
            widthPerSlot = 150; // Réduction importante
        } else {
            widthPerSlot = 130; // Réduction maximale pour beaucoup de matchs
        }
        
        const padding = 16; // Padding total de la colonne
        const columnWidth = (maxSimultaneous * widthPerSlot) + padding;
        
        console.log(`🔍 [Venue ${venue.name}] maxSimultaneous: ${maxSimultaneous}, widthPerSlot: ${widthPerSlot}px, columnWidth: ${columnWidth}px`);
        
        return `
            <div class="venue-column" 
                 data-venue-id="${venue.id}"
                 data-capacity="${venue.capacity}"
                 data-max-simultaneous="${maxSimultaneous}"
                 style="width: ${columnWidth}px; flex-shrink: 0;">
                <!-- En-tête du gymnase -->
                <div class="venue-header">
                    <div class="venue-name">${venue.name}</div>
                    <div class="venue-info">
                        <span class="venue-capacity">⚡ Capacité: ${venue.capacity}</span>
                        <span class="venue-matches">📊 ${matches.length} matchs</span>
                        ${maxSimultaneous > 1 ? `<span class="venue-simultaneous">🔀 Max: ${maxSimultaneous}</span>` : ''}
                    </div>
                </div>
                
                <!-- Corps avec les matchs -->
                <div class="venue-body" style="height: ${totalHeight}px; position: relative;">
                    ${this.generateVenueMatches(matches, minHour, pixelsPerHour, matchDuration, maxSimultaneous, widthPerSlot)}
                </div>
            </div>
        `;
    }
    
    /**
     * Génère une colonne pour un gymnase avec largeur personnalisée
     */
    generateVenueColumnWithWidth(venue, matches, maxSimultaneous, columnWidth, widthPerSlot, minHour, pixelsPerHour, matchDuration, totalHeight) {
        console.log(`🔍 [Venue ${venue.name}] maxSimultaneous: ${maxSimultaneous}, widthPerSlot: ${widthPerSlot}px, columnWidth: ${columnWidth}px`);
        
        return `
            <div class="venue-column" 
                 data-venue-id="${venue.id}"
                 data-capacity="${venue.capacity}"
                 data-max-simultaneous="${maxSimultaneous}"
                 style="width: ${columnWidth}px; flex-shrink: 0; background: linear-gradient(180deg, #ffffff 0%, #f8f9fa 100%); border-right: 2px solid #e9ecef; margin-right: 4px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.08);">
                <!-- En-tête du gymnase -->
                <div class="venue-header" style="padding: 0; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; display: flex; flex-direction: column; position: sticky; top: 0; z-index: 5; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                    <div class="venue-name" style="font-size: 1.2rem; font-weight: 800; text-transform: uppercase; letter-spacing: 1.5px; text-shadow: 0 2px 4px rgba(0,0,0,0.3); background: rgba(0, 0, 0, 0.15); padding: 0.8rem 1rem; border-bottom: 2px solid rgba(255, 255, 255, 0.15); text-align: center;">${venue.name}</div>
                    <div class="venue-info" style="display: flex; gap: 0.75rem; font-size: 0.8rem; font-weight: 600; padding: 0.6rem 1rem; justify-content: center; flex-wrap: wrap;">
                        <span class="venue-capacity" style="display: flex; align-items: center; gap: 0.3rem; background: rgba(255, 255, 255, 0.25); padding: 0.3rem 0.7rem; border-radius: 12px; font-size: 0.75rem; white-space: nowrap;">⚡ Capacité: ${venue.capacity}</span>
                        <span class="venue-matches" style="display: flex; align-items: center; gap: 0.3rem; background: rgba(255, 255, 255, 0.25); padding: 0.3rem 0.7rem; border-radius: 12px; font-size: 0.75rem; white-space: nowrap;">📊 ${matches.length} matchs</span>
                        ${maxSimultaneous > 1 ? `<span class="venue-simultaneous" style="display: flex; align-items: center; gap: 0.3rem; background: rgba(255, 215, 0, 0.4); padding: 0.3rem 0.7rem; border-radius: 12px; font-size: 0.75rem; white-space: nowrap; font-weight: 700;">🔀 Max: ${maxSimultaneous}</span>` : ''}
                    </div>
                </div>
                
                <!-- Corps avec les matchs -->
                <div class="venue-body" style="height: ${totalHeight}px; position: relative; background-image: repeating-linear-gradient(to bottom, transparent 0, transparent 119px, rgba(102, 126, 234, 0.08) 119px, rgba(102, 126, 234, 0.08) 120px);">
                    ${this.generateVenueMatches(matches, minHour, pixelsPerHour, matchDuration, maxSimultaneous, widthPerSlot)}
                </div>
            </div>
        `;
    }
    
    /**
     * Génère les matchs d'un gymnase avec positionnement absolu
     */
    generateVenueMatches(matches, minHour, pixelsPerHour, matchDuration, maxSimultaneous, widthPerSlot) {
        if (!matches || matches.length === 0) return '';
        
        // Trier les matchs par horaire
        const sortedMatches = matches.slice().sort((a, b) => {
            const timeA = this.parseTime(a.horaire) || 0;
            const timeB = this.parseTime(b.horaire) || 0;
            return timeA - timeB;
        });
        
        // Assigner un slot horizontal à chaque match
        const matchSlots = this.assignMatchSlots(sortedMatches);
        
        let html = '';
        sortedMatches.forEach((match, index) => {
            const time = this.parseTime(match.horaire);
            if (!time) return;
            
            // Position verticale basée sur l'horaire
            const top = (time - minHour) * pixelsPerHour;
            const height = matchDuration * pixelsPerHour - 10; // marge pour séparation
            
            // Position horizontale basée sur le slot
            const slot = matchSlots.get(match.match_id) || 0;
            const left = slot * widthPerSlot + 2;
            const width = widthPerSlot - 4;
            
            html += `
                <div class="match-wrapper" style="
                    position: absolute;
                    top: ${top}px;
                    left: ${left}px;
                    width: ${width}px;
                    height: ${height}px;
                ">
                    ${this.cardRenderer.renderMatchCard(match, false, index, true, null)}
                </div>
            `;
        });
        
        return html;
    }
    
    /**
     * Assigne un slot horizontal à chaque match pour éviter les chevauchements visuels
     */
    assignMatchSlots(matches) {
        const slots = new Map();
        
        // Grouper les matchs qui se chevauchent
        const overlappingGroups = [];
        
        matches.forEach(match => {
            const startTime = this.parseTime(match.horaire);
            if (!startTime) return;
            
            const endTime = startTime + 2; // durée fixe de 2h
            
            // Chercher un groupe existant qui chevauche ce match
            let foundGroup = false;
            
            for (let group of overlappingGroups) {
                // Vérifier si ce match chevauche avec au moins un match du groupe
                const overlaps = group.matches.some(m => {
                    const mStart = this.parseTime(m.horaire);
                    const mEnd = mStart + 2;
                    // Chevauchement si : !(fin1 <= début2 || début1 >= fin2)
                    return !(endTime <= mStart || startTime >= mEnd);
                });
                
                if (overlaps) {
                    group.matches.push(match);
                    foundGroup = true;
                    break;
                }
            }
            
            // Si aucun groupe ne convient, créer un nouveau groupe
            if (!foundGroup) {
                overlappingGroups.push({
                    matches: [match]
                });
            }
        });
        
        // Pour chaque groupe, assigner des slots en fonction de l'horaire
        overlappingGroups.forEach(group => {
            // Trier les matchs du groupe par horaire
            const sortedGroupMatches = group.matches.sort((a, b) => {
                const timeA = this.parseTime(a.horaire) || 0;
                const timeB = this.parseTime(b.horaire) || 0;
                return timeA - timeB;
            });
            
            // Assigner les slots séquentiellement
            const usedSlots = []; // [{slot: number, endTime: number}]
            
            sortedGroupMatches.forEach(match => {
                const startTime = this.parseTime(match.horaire);
                const endTime = startTime + 2;
                
                // Nettoyer les slots qui ont expiré avant ce match
                const activeSlots = usedSlots.filter(s => s.endTime > startTime);
                
                // Trouver le premier slot disponible
                let slot = 0;
                while (activeSlots.some(s => s.slot === slot)) {
                    slot++;
                }
                
                // Assigner ce slot
                slots.set(match.match_id, slot);
                activeSlots.push({ slot, endTime });
                
                // Mettre à jour usedSlots
                usedSlots.length = 0;
                usedSlots.push(...activeSlots);
            });
        });
        
        return slots;
    }
    
    /**
     * Attache les événements aux éléments de la vue
     */
    attachEvents() {
        // ═══════════════════════════════════════════════════════════════
        // DUAL MODE: Navigation selon le mode d'affichage
        // ═══════════════════════════════════════════════════════════════
        
        if (this.displayMode === 'week') {
            // MODE JOURNÉE: Navigation entre J1, J2, J4...
            const prevBtn = this.container.querySelector('#prev-week');
            const nextBtn = this.container.querySelector('#next-week');
            
            if (prevBtn) {
                prevBtn.addEventListener('click', () => {
                    if (this.currentWeekIndex > 0) {
                        this.currentWeekIndex--;
                        console.log(`🔍 [AgendaGrid] Navigation: Journée précédente (index: ${this.currentWeekIndex})`);
                        this.render();
                    }
                });
            }
            
            if (nextBtn) {
                nextBtn.addEventListener('click', () => {
                    if (this.currentWeekIndex < this.weeks.length - 1) {
                        this.currentWeekIndex++;
                        console.log(`🔍 [AgendaGrid] Navigation: Journée suivante (index: ${this.currentWeekIndex})`);
                        this.render();
                    }
                });
            }
            
        } else if (this.displayMode === 'venue') {
            // MODE GYMNASE: Navigation entre BESSON, LAENNEC, DESCARTES...
            const prevBtn = this.container.querySelector('#prev-venue');
            const nextBtn = this.container.querySelector('#next-venue');
            
            if (prevBtn) {
                prevBtn.addEventListener('click', () => {
                    if (this.currentVenueIndex > 0) {
                        this.currentVenueIndex--;
                        console.log(`🔍 [AgendaGrid] Navigation: Gymnase précédent (index: ${this.currentVenueIndex})`);
                        this.render();
                    }
                });
            }
            
            if (nextBtn) {
                nextBtn.addEventListener('click', () => {
                    if (this.currentVenueIndex < this.venues.length - 1) {
                        this.currentVenueIndex++;
                        console.log(`🔍 [AgendaGrid] Navigation: Gymnase suivant (index: ${this.currentVenueIndex})`);
                        this.render();
                    }
                });
            }
        }
        
        // ═══════════════════════════════════════════════════════════════
        // Événements communs aux deux modes
        // ═══════════════════════════════════════════════════════════════
        
        // Clic sur les cartes de match
        this.container.querySelectorAll('[data-match-id]').forEach(card => {
            card.addEventListener('click', (e) => {
                // Ne pas ouvrir si on commence un drag
                if (e.target.closest('.match-card').classList.contains('dragging')) {
                    return;
                }
                
                const matchId = card.dataset.matchId;
                const match = this.dataManager.getMatch(matchId);
                if (match && window.editModal) {
                    window.editModal.open(match);
                }
            });
        });
    }
    
    /**
     * Met à jour les filtres depuis le panneau latéral
     */
    updateFilters(filters) {
        this.filters = { ...this.filters, ...filters };
        this.render();
    }
}

// Export global
window.AgendaGridView = AgendaGridView;


// views/agenda/agenda-view.js
/**
 * agenda-view.js - Wrapper de compatibilité
 *
 * Certaines parties du code s'attendent à une classe `AgendaView`.
 * Le projet actuel définit `AgendaGridView`. Ce fichier crée une
 * classe légère `AgendaView` qui délègue vers `AgendaGridView` afin
 * d'assurer la compatibilité ascendante sans modifier le code appelant.
 */

class AgendaView {
    constructor(dataManager, container) {
        if (typeof window !== 'undefined' && window.AgendaGridView) {
            this._impl = new window.AgendaGridView(dataManager, container);
        } else {
            // Implémentation de secours minimale
            this._impl = null;
            this.container = container;
        }
    }

    init() {
        if (this._impl && typeof this._impl.init === 'function') {
            this._impl.init();
        } else if (this.container) {
            // Afficher un message d'erreur léger au lieu d'une page blanche
            this.container.innerHTML = `<div class="empty-state">Vue agenda indisponible</div>`;
        }
    }

    render() {
        if (this._impl && typeof this._impl.render === 'function') {
            this._impl.render();
        } else if (this._impl && typeof this._impl.init === 'function') {
            // Fallback vers init si render n'existe pas
            this._impl.init();
        } else if (this.container) {
            this.container.innerHTML = `<div class="empty-state">Vue agenda indisponible</div>`;
        }
    }

    setFilters(filters) {
        if (this._impl && typeof this._impl.updateFilters === 'function') {
            this._impl.updateFilters(filters);
        } else if (this._impl && typeof this._impl.setFilters === 'function') {
            this._impl.setFilters(filters);
        }
    }

    // Déléguation générique pour les autres appels potentiels
    __get(target) {
        return this._impl ? this._impl[target] : undefined;
    }

    /**
     * Retourne la configuration des options d'affichage pour cette vue.
     * @returns {object|null} Configuration pour ViewOptionsManager, ou null si aucune option.
     */
    getDisplayOptions() {
        // Tente de récupérer les options de l'implémentation réelle (AgendaGridView)
        if (this._impl && typeof this._impl.getDisplayOptions === 'function') {
            return this._impl.getDisplayOptions();
        }

        // Si l'implémentation ne fournit pas d'options, on retourne une configuration par défaut.
        // Cela assure la compatibilité et permet au wrapper de fonctionner même si AgendaGridView n'est pas à jour.
        return {
            title: "Options de l'Agenda",
            options: [
                {
                    type: 'select',
                    id: 'agenda-display-mode',
                    label: 'Afficher par',
                    values: [
                        { value: 'venue', text: 'Gymnase' },
                        { value: 'week', text: 'Semaine' }
                    ],
                    action: (value) => {
                        if (this._impl && typeof this._impl.setDisplayMode === 'function') {
                            this._impl.setDisplayMode(value);
                        } else {
                            console.warn("La méthode setDisplayMode n'est pas implémentée.");
                        }
                    }
                },
                {
                    type: 'checkbox',
                    id: 'agenda-show-available',
                    label: 'Afficher créneaux libres',
                    default: true,
                    action: (checked) => {
                        if (this._impl && typeof this._impl.setShowAvailableSlots === 'function') {
                            this._impl.setShowAvailableSlots(checked);
                        } else {
                            console.warn("La méthode setShowAvailableSlots n'est pas implémentée.");
                        }
                    }
                }
            ]
        };
    }
}

// Export global
if (typeof window !== 'undefined') {
    window.AgendaView = AgendaView;
}


// views/pools-view.js
/**
 * pools-view.js - Vue Poules Améliorée
 * 
 * Affiche les poules organisées par genre et niveau avec :
 * - Organisation claire en colonnes par genre (F/M)
 * - Classement par niveau au sein de chaque genre
 * - Statistiques détaillées et informations riches
 * - Matchs passés, à venir et résultats
 * - Interactions fluides et animations élégantes
 * 
 * Code de haute qualité, maintenable et performant.
 */

class PoolsView {
    constructor(dataManager, container) {
        this.dataManager = dataManager;
        this.container = container;
        this.expandedPools = new Set();
        this.selectedFilters = {};
        this.activeMatchTabs = {}; // Onglet actif par poule (played/upcoming/all)
        
        // Options d'affichage
        this.displayOptions = {
            format: 'cards', // 'cards', 'compact', 'list'
            showTeams: false,
            showLevelSeparators: true,
            showPreferences: false
        };
        
        // Subscribe to data changes
        this.dataManager.subscribe('matches', () => this.render());
    }
    
    /**
     * Initialise la vue
     */
    init() {
        this.render();
    }
    
    /**
     * Définit les filtres actifs
     */
    setFilters(filters) {
        this.selectedFilters = filters;
        this.render();
    }
    
    /**
     * Retourne la configuration des options d'affichage pour cette vue.
     * Options réellement fonctionnelles et utiles pour la vue Poules.
     */
    getDisplayOptions() {
        return {
            title: "Options - Vue Poules",
            options: [
                // Format d'affichage - FONCTIONNEL
                {
                    type: 'button-group',
                    id: 'pools-format',
                    label: '📐 Format',
                    values: [
                        { value: 'cards', text: 'Cartes' },
                        { value: 'compact', text: 'Compact' },
                        { value: 'list', text: 'Liste' }
                    ],
                    default: this.displayOptions.format,
                    action: (value) => {
                        this.displayOptions.format = value;
                        this.render();
                    }
                },
                
                // Coloration des matchs - NOUVEAU
                {
                    type: 'select',
                    id: 'pools-color-scheme',
                    label: '🎨 Coloration des matchs',
                    values: [
                        { value: 'none', text: 'Aucune' },
                        { value: 'by-status', text: 'Par statut' },
                        { value: 'by-venue', text: 'Par lieu' },
                        { value: 'by-gender', text: 'Par genre' },
                        { value: 'by-level', text: 'Par niveau' }
                    ],
                    default: this.displayOptions.colorScheme || 'none',
                    action: (value) => {
                        this.displayOptions.colorScheme = value;
                        this.applyColorScheme(value);
                    }
                },
                
                // Afficher les équipes - FONCTIONNEL
                {
                    type: 'checkbox',
                    id: 'pools-show-teams',
                    label: '👥 Afficher liste des équipes',
                    default: this.displayOptions.showTeams,
                    action: (checked) => {
                        this.displayOptions.showTeams = checked;
                        this.render();
                    }
                },
                
                // Afficher les préférences - FONCTIONNEL
                {
                    type: 'checkbox',
                    id: 'pools-show-preferences',
                    label: '⭐ Afficher préférences équipes',
                    default: this.displayOptions.showPreferences,
                    action: (checked) => {
                        this.displayOptions.showPreferences = checked;
                        this.render();
                    }
                },
                
                // Séparateurs de niveau - FONCTIONNEL
                {
                    type: 'checkbox',
                    id: 'pools-level-separators',
                    label: '📊 Séparateurs de niveau',
                    default: this.displayOptions.showLevelSeparators,
                    action: (checked) => {
                        this.displayOptions.showLevelSeparators = checked;
                        this.render();
                    }
                },
                
                // Auto-expand - FONCTIONNEL
                {
                    type: 'checkbox',
                    id: 'pools-auto-expand',
                    label: '� Tout développer',
                    default: this.displayOptions.autoExpand || false,
                    action: (checked) => {
                        this.displayOptions.autoExpand = checked;
                        if (checked) {
                            // Expand all pools
                            const data = this.dataManager.getData();
                            if (data?.entities?.poules) {
                                data.entities.poules.forEach(pool => {
                                    this.expandedPools.add(pool.id);
                                });
                            }
                        } else {
                            // Collapse all
                            this.expandedPools.clear();
                        }
                        this.render();
                    }
                }
            ]
        };
    }
    
    /**
     * Applique un schéma de couleurs aux matchs
     * @param {string} scheme - Le schéma à appliquer ('none', 'by-status', 'by-venue', etc.)
     */
    applyColorScheme(scheme) {
        // Appliquer l'attribut data-color-scheme sur le conteneur
        if (scheme === 'none') {
            this.container.removeAttribute('data-color-scheme');
        } else {
            this.container.setAttribute('data-color-scheme', scheme);
        }
        
        // Sauvegarder la préférence
        localStorage.setItem('pools-color-scheme', scheme);
        
        // Si on doit ajouter des attributs spécifiques sur chaque match, on re-render
        this.render();
    }
    
    /**
     * Affiche la vue complète
     */
    render() {
        const data = this.dataManager.getData();
        
        if (!data || !data.entities?.poules) {
            this.renderEmpty();
            return;
        }
        
        // Filtrer les poules selon les filtres actifs
        const filteredPools = this._filterPools(data.entities.poules);
        
        if (filteredPools.length === 0) {
            this.renderNoResults();
            return;
        }
        
        // Générer le HTML
        const html = this._generateHTML(filteredPools, data);
        
        this.container.innerHTML = html;
        
        // Attacher les event listeners
        this._attachEventListeners();
    }
    
    /**
     * Affiche l'état vide
     */
    renderEmpty() {
        this.container.innerHTML = `
            <div class="empty-state" style="display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 4rem 2rem; text-align: center;">
                <div class="empty-state-icon" style="font-size: 5rem; margin-bottom: 1.5rem; opacity: 0.5;">🎯</div>
                <h3 class="empty-state-title" style="font-size: 1.5rem; font-weight: 700; color: #333; margin: 0 0 0.75rem 0; font-family: 'Inter', 'Roboto', sans-serif;">Aucune poule</h3>
                <p class="empty-state-message" style="font-size: 1rem; color: #666; margin: 0; font-family: 'Roboto', sans-serif;">Les poules apparaîtront ici une fois configurées.</p>
            </div>
        `;
    }
    
    /**
     * Affiche aucun résultat
     */
    renderNoResults() {
        this.container.innerHTML = `
            <div class="empty-state" style="display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 4rem 2rem; text-align: center;">
                <div class="empty-state-icon" style="font-size: 5rem; margin-bottom: 1.5rem; opacity: 0.5;">🔍</div>
                <h3 class="empty-state-title" style="font-size: 1.5rem; font-weight: 700; color: #333; margin: 0 0 0.75rem 0; font-family: 'Inter', 'Roboto', sans-serif;">Aucune poule correspondante</h3>
                <p class="empty-state-message" style="font-size: 1rem; color: #666; margin: 0; font-family: 'Roboto', sans-serif;">Aucune poule ne correspond aux filtres sélectionnés.</p>
            </div>
        `;
    }
    
    /**
     * Filtre les poules selon les filtres actifs
     */
    _filterPools(pools) {
        return pools.filter(pool => {
            // Filtre par genre
            if (this.selectedFilters.gender && pool.genre !== this.selectedFilters.gender) {
                return false;
            }
            
            // Filtre par poule (ID exact)
            if (this.selectedFilters.pool && pool.id !== this.selectedFilters.pool) {
                return false;
            }
            
            return true;
        });
    }
    
    /**
     * Génère le HTML de la vue - Organisation par genre
     */
    _generateHTML(pools, data) {
        let html = '<div class="pools-view">';
        
        // En-tête avec résumé global
        html += this._generateGlobalSummary(pools, data);
        
        // Organisation par genre
        html += this._generatePoolsByGender(pools, data);
        
        html += '</div>';
        
        return html;
    }
    
    /**
     * Supprimé : les options sont maintenant gérées par ViewOptionsManager
     */
    // _generateDisplayOptions() { ... }
    
    /**
     * Génère le résumé global
     */
    _generateGlobalSummary(pools, data) {
        const totalTeams = pools.reduce((sum, p) => sum + (p.nb_equipes || 0), 0);
        const totalMatches = pools.reduce((sum, p) => 
            sum + (p.nb_matchs_planifies || 0) + (p.nb_matchs_non_planifies || 0), 0);
        const scheduledMatches = pools.reduce((sum, p) => 
            sum + (p.nb_matchs_planifies || 0), 0);
        const unscheduledMatches = pools.reduce((sum, p) => 
            sum + (p.nb_matchs_non_planifies || 0), 0);
        
        return `
            <div class="pools-summary" style="display: flex; gap: 1rem; margin-bottom: 1.5rem; flex-wrap: wrap; padding: 1rem; background: linear-gradient(135deg, rgba(0, 85, 164, 0.05) 0%, rgba(0, 85, 164, 0.02) 100%); border-radius: 12px;">
                <div class="summary-card" style="flex: 1; min-width: 140px; padding: 1rem; background: white; border-radius: 8px; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); border: 1px solid rgba(0, 85, 164, 0.1); text-align: center;">
                    <div class="summary-value" style="font-size: 2rem; font-weight: 900; color: #0055A4; font-family: 'Roboto Mono', monospace; margin-bottom: 0.5rem;">${pools.length}</div>
                    <div class="summary-label" style="font-size: 0.75rem; font-weight: 700; color: #666; text-transform: uppercase; letter-spacing: 0.08em; font-family: 'Roboto', sans-serif;">Poules</div>
                </div>
                <div class="summary-card" style="flex: 1; min-width: 140px; padding: 1rem; background: white; border-radius: 8px; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); border: 1px solid rgba(0, 85, 164, 0.1); text-align: center;">
                    <div class="summary-value" style="font-size: 2rem; font-weight: 900; color: #0055A4; font-family: 'Roboto Mono', monospace; margin-bottom: 0.5rem;">${totalTeams}</div>
                    <div class="summary-label" style="font-size: 0.75rem; font-weight: 700; color: #666; text-transform: uppercase; letter-spacing: 0.08em; font-family: 'Roboto', sans-serif;">Équipes</div>
                </div>
                <div class="summary-card" style="flex: 1; min-width: 140px; padding: 1rem; background: white; border-radius: 8px; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); border: 1px solid rgba(0, 85, 164, 0.1); text-align: center;">
                    <div class="summary-value" style="font-size: 2rem; font-weight: 900; color: #0055A4; font-family: 'Roboto Mono', monospace; margin-bottom: 0.5rem;">${totalMatches}</div>
                    <div class="summary-label" style="font-size: 0.75rem; font-weight: 700; color: #666; text-transform: uppercase; letter-spacing: 0.08em; font-family: 'Roboto', sans-serif;">Matchs Total</div>
                </div>
                <div class="summary-card" style="flex: 1; min-width: 140px; padding: 1rem; background: white; border-radius: 8px; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); border: 1px solid rgba(0, 85, 164, 0.1); text-align: center;">
                    <div class="summary-value" style="font-size: 2rem; font-weight: 900; color: #27AE60; font-family: 'Roboto Mono', monospace; margin-bottom: 0.5rem;">${scheduledMatches}</div>
                    <div class="summary-label" style="font-size: 0.75rem; font-weight: 700; color: #666; text-transform: uppercase; letter-spacing: 0.08em; font-family: 'Roboto', sans-serif;">Planifiés</div>
                </div>
                <div class="summary-card" style="flex: 1; min-width: 140px; padding: 1rem; background: white; border-radius: 8px; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); border: 1px solid rgba(239, 65, 53, 0.1); text-align: center;">
                    <div class="summary-value" style="font-size: 2rem; font-weight: 900; color: #EF4135; font-family: 'Roboto Mono', monospace; margin-bottom: 0.5rem;">${unscheduledMatches}</div>
                    <div class="summary-label" style="font-size: 0.75rem; font-weight: 700; color: #666; text-transform: uppercase; letter-spacing: 0.08em; font-family: 'Roboto', sans-serif;">Non Planifiés</div>
                </div>
            </div>
        `;
    }
    
    /**
     * Génère l'organisation par genre
     */
    _generatePoolsByGender(pools, data) {
        // Grouper par genre
        const byGender = this._groupPoolsByGender(pools);
        
        let html = '<div class="pools-by-gender">';
        
        // Genre Féminin
        if (byGender.F && byGender.F.length > 0) {
            html += this._generateGenderSection('F', byGender.F, data);
        }
        
        // Genre Masculin
        if (byGender.M && byGender.M.length > 0) {
            html += this._generateGenderSection('M', byGender.M, data);
        }
        
        html += '</div>';
        
        return html;
    }
    
    /**
     * Groupe les poules par genre
     */
    _groupPoolsByGender(pools) {
        const grouped = { F: [], M: [] };
        
        pools.forEach(pool => {
            if (pool.genre === 'F') {
                grouped.F.push(pool);
            } else if (pool.genre === 'M') {
                grouped.M.push(pool);
            }
        });
        
        // Trier par niveau au sein de chaque genre
        grouped.F.sort((a, b) => this._comparePoolsByLevel(a, b));
        grouped.M.sort((a, b) => this._comparePoolsByLevel(a, b));
        
        return grouped;
    }
    
    /**
     * Compare deux poules par niveau
     */
    _comparePoolsByLevel(a, b) {
        // Extraire les niveaux (ex: "VBFA1PA" -> 1)
        const levelA = this._extractLevel(a.niveau || a.nom);
        const levelB = this._extractLevel(b.niveau || b.nom);
        
        if (levelA !== levelB) {
            return levelA - levelB;
        }
        
        // Si même niveau, trier par nom
        return a.nom.localeCompare(b.nom);
    }
    
    /**
     * Extrait le niveau numérique d'un nom de poule
     */
    _extractLevel(name) {
        // Chercher un chiffre dans le nom (ex: "VBFA1PA" -> 1)
        const match = name.match(/\d+/);
        return match ? parseInt(match[0]) : 999;
    }
    
    /**
     * Formate le niveau pour affichage (ex: "VBFA1PA" -> "A1")
     */
    _formatLevel(name) {
        // Extraire la lettre de catégorie (A, B, C...) et le chiffre
        // Ex: "VBFA1PA" -> "A1", "VBFA2PB" -> "A2"
        const match = name.match(/([A-Z])(\d+)/);
        if (match) {
            return `${match[1]}${match[2]}`;
        }
        // Fallback: juste le numéro
        const numMatch = name.match(/\d+/);
        return numMatch ? `N${numMatch[0]}` : 'N/A';
    }
    
    /**
     * Génère une section de genre
     */
    _generateGenderSection(gender, pools, data) {
        const genderLabel = gender === 'F' ? 'Féminin' : 'Masculin';
        const genderIcon = gender === 'F' ? '♀️' : '♂️';
        const genderClass = gender === 'F' ? 'female' : 'male';
        
        const totalTeams = pools.reduce((sum, p) => sum + (p.nb_equipes || 0), 0);
        const totalMatches = pools.reduce((sum, p) => 
            sum + (p.nb_matchs_planifies || 0) + (p.nb_matchs_non_planifies || 0), 0);
        
        let html = `
            <div class="gender-section ${genderClass}">
                <div class="gender-header">
                    <div class="gender-icon">${genderIcon}</div>
                    <div class="gender-title">
                        <h2>${genderLabel}</h2>
                        <div class="gender-subtitle">
                            ${pools.length} poule${pools.length > 1 ? 's' : ''} • 
                            ${totalTeams} équipe${totalTeams > 1 ? 's' : ''} • 
                            ${totalMatches} match${totalMatches > 1 ? 's' : ''}
                        </div>
                    </div>
                </div>
                <div class="pools-list ${this.displayOptions.format}">
        `;
        
        // Grouper par niveau si l'option est activée
        if (this.displayOptions.showLevelSeparators) {
            const poolsByLevel = this._groupPoolsByLevel(pools);
            let isFirst = true;
            
            for (const [level, levelPools] of Object.entries(poolsByLevel)) {
                if (!isFirst) {
                    html += this._generateLevelSeparator(level, levelPools, data);
                }
                isFirst = false;
                
                levelPools.forEach(pool => {
                    html += this._generatePoolMarkup(pool, data, gender);
                });
            }
        } else {
            pools.forEach(pool => {
                html += this._generatePoolMarkup(pool, data, gender);
            });
        }
        
        html += '</div></div>';
        
        return html;
    }
    
    /**
     * Groupe les poules par niveau
     */
    _groupPoolsByLevel(pools) {
        const grouped = {};
        
        pools.forEach(pool => {
            const level = this._formatLevel(pool.niveau || pool.nom);
            if (!grouped[level]) {
                grouped[level] = [];
            }
            grouped[level].push(pool);
        });
        
        return grouped;
    }
    
    /**
     * Génère un séparateur de niveau
     */
    _generateLevelSeparator(level, pools, data) {
        const totalTeams = pools.reduce((sum, p) => sum + (p.nb_equipes || 0), 0);
        
        return `
            <div class="level-separator">
                <div class="level-separator-line"></div>
                <div class="level-separator-label">
                    <span class="level-name">Niveau ${level}</span>
                    <span class="level-info">${pools.length} poule${pools.length > 1 ? 's' : ''} • ${totalTeams} équipe${totalTeams > 1 ? 's' : ''}</span>
                </div>
                <div class="level-separator-line"></div>
            </div>
        `;
    }
    
    /**
     * Génère le balisage pour une poule en fonction du format d'affichage.
     */
    _generatePoolMarkup(pool, data, gender) {
        switch (this.displayOptions.format) {
            case 'compact':
                return this._generatePoolCompact(pool, data, gender);
            case 'list':
                // Pour le format 'list', nous pourrions avoir besoin de construire les lignes
                // dans un contexte de tableau plus large, donc cela pourrait être différent.
                // Pour l'instant, traitons-le comme une ligne simple.
                return this._generatePoolListRow(pool, data, gender);
            case 'cards':
            default:
                return this._generatePoolCard(pool, data, gender);
        }
    }

    /**
     * Génère la vue compacte d'une poule.
     */
    _generatePoolCompact(pool, data, gender) {
        const genderClass = gender === 'F' ? 'female' : 'male';
        const poolMatches = this.dataManager.getMatchesByPool(pool.id);
        const completion = poolMatches.length > 0 ? (pool.nb_matchs_planifies / poolMatches.length) * 100 : 0;

        return `
            <div class="pool-compact ${genderClass}" data-pool-id="${pool.id}" onclick="window.poolsView.togglePool('${pool.id}')">
                <div class="pool-compact-main">
                    <span class="pool-compact-name">${pool.nom}</span>
                    <span class="pool-compact-level">${this._formatLevel(pool.niveau || pool.nom)}</span>
                </div>
                <div class="pool-compact-stats">
                    <span class="pool-compact-teams" title="${pool.nb_equipes} équipes">👥 ${pool.nb_equipes}</span>
                    <span class="pool-compact-matches" title="${poolMatches.length} matchs">⚽ ${poolMatches.length}</span>
                    <div class="pool-compact-progress" title="${completion.toFixed(0)}% planifié">
                        <div class="progress-bar" style="width: ${completion}%;"></div>
                    </div>
                </div>
                <button class="expand-btn ${this.expandedPools.has(pool.id) ? 'expanded' : ''}">▶</button>
            </div>
            ${this.expandedPools.has(pool.id) ? this._generateExpandedContent(pool, data) : ''}
        `;
    }

    /**
     * Génère une ligne de liste pour une poule.
     */
    _generatePoolListRow(pool, data, gender) {
        const genderClass = gender === 'F' ? 'female' : 'male';
        const poolMatches = this.dataManager.getMatchesByPool(pool.id);
        const scheduled = pool.nb_matchs_planifies || 0;
        const unscheduled = pool.nb_matchs_non_planifies || 0;

        return `
            <div class="pool-list-row ${genderClass}" data-pool-id="${pool.id}" onclick="window.poolsView.togglePool('${pool.id}')">
                <div class="pool-list-cell name">${pool.nom}</div>
                <div class="pool-list-cell level">${this._formatLevel(pool.niveau || pool.nom)}</div>
                <div class="pool-list-cell teams">${pool.nb_equipes}</div>
                <div class="pool-list-cell scheduled">${scheduled}</div>
                <div class="pool-list-cell unscheduled">${unscheduled}</div>
                <div class="pool-list-cell total">${scheduled + unscheduled}</div>
                <div class="pool-list-cell expand"><button class="expand-btn ${this.expandedPools.has(pool.id) ? 'expanded' : ''}">▶</button></div>
            </div>
            ${this.expandedPools.has(pool.id) ? this._generateExpandedContent(pool, data) : ''}
        `;
    }

    /**
     * Génère la carte d'une poule avec statistiques détaillées
     */
    _generatePoolCard(pool, data, gender) {
        const isExpanded = this.expandedPools.has(pool.id);
        const genderClass = gender === 'F' ? 'female' : 'male';
        const genderIcon = gender === 'F' ? '♀️' : '♂️';
        
        // Récupérer les matchs de la poule
        const poolMatches = this.dataManager.getMatchesByPool(pool.id);
        const scheduledMatches = poolMatches.filter(m => m.semaine);
        const unscheduledMatches = poolMatches.filter(m => !m.semaine);
        
        // Un match est joué SEULEMENT s'il a un score valide
        const playedMatches = scheduledMatches.filter(m => 
            m.score && m.score.has_score && 
            m.score.equipe1 !== null && m.score.equipe1 !== undefined &&
            m.score.equipe2 !== null && m.score.equipe2 !== undefined
        );
        
        // Les matchs à venir sont ceux planifiés mais sans score
        const upcomingMatches = scheduledMatches.filter(m => 
            !m.score || !m.score.has_score ||
            m.score.equipe1 === null || m.score.equipe1 === undefined ||
            m.score.equipe2 === null || m.score.equipe2 === undefined
        );
        
        let html = `
            <div class="pool-card ${genderClass} ${isExpanded ? 'expanded' : ''}" data-pool-id="${pool.id}" style="background: white; border: 2px solid rgba(0, 85, 164, 0.15); border-radius: 12px; overflow: hidden; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); margin-bottom: 1.5rem; transition: all 0.3s ease;">
                <div class="pool-header" data-toggle-pool="${pool.id}" style="padding: 1.25rem; background: linear-gradient(135deg, #0055A4 0%, rgba(0, 85, 164, 0.9) 100%); color: white; cursor: pointer; position: relative; border-bottom: 3px solid rgba(255, 255, 255, 0.2);">
                    <div class="pool-title" style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 0.75rem;">
                        <h3 style="margin: 0; font-size: 1.25rem; font-weight: 800; color: white; font-family: 'Inter', 'Roboto', sans-serif; letter-spacing: 0.02em; text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);">${pool.nom}</h3>
                        <button class="expand-btn ${isExpanded ? 'expanded' : ''}" aria-label="Développer" style="background: rgba(255, 255, 255, 0.2); border: 1px solid rgba(255, 255, 255, 0.3); color: white; font-size: 1rem; font-weight: 700; padding: 0.4rem 0.8rem; border-radius: 6px; cursor: pointer; transition: all 0.2s ease; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">
                            ${isExpanded ? '▼' : '▶'}
                        </button>
                    </div>
                    <div class="pool-info" style="display: flex; gap: 1.5rem; flex-wrap: wrap; align-items: center;">
                        <span class="pool-level" style="font-size: 0.75rem; font-weight: 800; padding: 0.3rem 0.6rem; background: rgba(255, 255, 255, 0.25); border-radius: 6px; text-transform: uppercase; letter-spacing: 0.08em; font-family: 'Roboto', sans-serif; border: 1px solid rgba(255, 255, 255, 0.2); box-shadow: 0 1px 3px rgba(0, 0, 0, 0.15);">${this._formatLevel(pool.niveau || pool.nom)}</span>
                        <span class="pool-teams" style="font-size: 0.85rem; font-weight: 600; color: rgba(255, 255, 255, 0.95); display: inline-flex; align-items: center; gap: 0.4rem;">👥 ${pool.nb_equipes} équipes</span>
                        <span class="pool-matches" style="font-size: 0.85rem; font-weight: 600; color: rgba(255, 255, 255, 0.95); display: inline-flex; align-items: center; gap: 0.4rem;">⚽ ${poolMatches.length} matchs</span>
                    </div>
                </div>
        `;
        
        if (isExpanded) {
            html += this._generateExpandedContent(pool, data);
        }
        
        html += '</div>';
        
        return html;
    }

    /**
     * Génère le contenu détaillé (développé) pour une poule.
     * Ce contenu est partagé par tous les formats d'affichage.
     */
    _generateExpandedContent(pool, data) {
        const poolMatches = this.dataManager.getMatchesByPool(pool.id);
        const scheduledMatches = poolMatches.filter(m => m.semaine);
        
        // Un match est joué SEULEMENT s'il a un score valide
        const playedMatches = scheduledMatches.filter(m => 
            m.score && m.score.has_score && 
            m.score.equipe1 !== null && m.score.equipe1 !== undefined &&
            m.score.equipe2 !== null && m.score.equipe2 !== undefined
        );
        
        // Les matchs à venir sont ceux planifiés mais sans score
        const upcomingMatches = scheduledMatches.filter(m => 
            !m.score || !m.score.has_score ||
            m.score.equipe1 === null || m.score.equipe1 === undefined ||
            m.score.equipe2 === null || m.score.equipe2 === undefined
        );
        
        const unscheduledMatches = poolMatches.filter(m => !m.semaine);

        let html = '<div class="pool-content" style="padding: 1.5rem; background: rgba(0, 85, 164, 0.02);">';
            
        // Afficher les équipes si l'option est activée
        if (this.displayOptions.showTeams) {
            html += this._generateTeamsList(pool, data);
        }
        
        // Conteneur flex pour stats et classement
        html += '<div class="pool-details-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem; margin-bottom: 1.5rem;">';

        // Statistiques détaillées
        html += '<div class="pool-content-section" style="background: white; border-radius: 10px; padding: 1.25rem; box-shadow: 0 2px 6px rgba(0, 0, 0, 0.06); border: 1px solid rgba(0, 85, 164, 0.1);">';
        html += '<h4 class="pool-content-section-title" style="margin: 0 0 1rem 0; font-size: 1rem; font-weight: 800; color: #0055A4; display: flex; align-items: center; gap: 0.5rem; font-family: \'Inter\', \'Roboto\', sans-serif; border-bottom: 2px solid rgba(0, 85, 164, 0.1); padding-bottom: 0.75rem;">📊 Statistiques</h4>';
        html += this._generatePoolStats(pool, playedMatches, upcomingMatches, unscheduledMatches);
        html += '</div>';
        
        // Classement
        html += '<div class="pool-content-section" style="background: white; border-radius: 10px; padding: 1.25rem; box-shadow: 0 2px 6px rgba(0, 0, 0, 0.06); border: 1px solid rgba(0, 85, 164, 0.1);">';
        html += '<h4 class="pool-content-section-title" style="margin: 0 0 1rem 0; font-size: 1rem; font-weight: 800; color: #0055A4; display: flex; align-items: center; gap: 0.5rem; font-family: \'Inter\', \'Roboto\', sans-serif; border-bottom: 2px solid rgba(0, 85, 164, 0.1); padding-bottom: 0.75rem;">🏆 Classement</h4>';
        html += this._generateStandings(pool, data, playedMatches);
        html += '</div>';

        html += '</div>'; // Fin de pool-details-grid
        
        // Matchs avec onglets
        html += '<div class="pool-content-section" style="background: white; border-radius: 10px; padding: 1.25rem; box-shadow: 0 2px 6px rgba(0, 0, 0, 0.06); border: 1px solid rgba(0, 85, 164, 0.1);">';
        html += '<h4 class="pool-content-section-title" style="margin: 0 0 1rem 0; font-size: 1rem; font-weight: 800; color: #0055A4; display: flex; align-items: center; gap: 0.5rem; font-family: \'Inter\', \'Roboto\', sans-serif; border-bottom: 2px solid rgba(0, 85, 164, 0.1); padding-bottom: 0.75rem;">⚽ Matchs</h4>';
        html += this._generatePoolMatchesWithTabs(pool.id, playedMatches, upcomingMatches, data);
        html += '</div>';
        
        html += '</div>'; // Fin de pool-content

        return html;
    }
    
    /**
     * Génère la liste des équipes d'une poule
     */
    _generateTeamsList(pool, data) {
        if (!pool.equipes || pool.equipes.length === 0) {
            return '';
        }
        
        // Récupérer les détails des équipes
        const teams = pool.equipes.map(teamId => {
            const team = data.entities.equipes.find(t => t.id === teamId);
            return team || { id: teamId, nom: `Équipe ${teamId}` };
        });
        
        let html = `
            <div class="pool-content-section">
                <h4 class="pool-content-section-title">👥 Équipes (${teams.length})</h4>
                <div class="pool-teams-list">
        `;
        
        teams.forEach(team => {
            html += `
                <div class="team-item">
                    <div class="team-item-icon">🏐</div>
                    <div class="team-item-content">
                        <div class="team-item-name">${team.nom}</div>
            `;
            
            // Afficher les préférences si l'option est activée
            if (this.displayOptions.showPreferences) {
                html += '<div class="team-item-details">';
                
                // Horaires préférés
                if (team.horaires_preferes && team.horaires_preferes.length > 0) {
                    html += `
                        <div class="team-preference">
                            <span class="preference-icon">🕐</span>
                            <span class="preference-label">Horaires :</span>
                            <span class="preference-value">${team.horaires_preferes.join(', ')}</span>
                        </div>
                    `;
                }
                
                // Lieux préférés
                if (team.lieux_preferes && team.lieux_preferes.length > 0) {
                    html += `
                        <div class="team-preference">
                            <span class="preference-icon">📍</span>
                            <span class="preference-label">Lieux :</span>
                            <span class="preference-value">${team.lieux_preferes.join(', ')}</span>
                        </div>
                    `;
                }
                
                // Indisponibilités
                if (team.semaines_indisponibles && team.semaines_indisponibles.length > 0) {
                    html += `
                        <div class="team-preference">
                            <span class="preference-icon">❌</span>
                            <span class="preference-label">Indisponible :</span>
                            <span class="preference-value">Semaines ${team.semaines_indisponibles.join(', ')}</span>
                        </div>
                    `;
                }
                
                html += '</div>';
            }
            
            html += `
                    </div>
                </div>
            `;
        });
        
        html += `
                </div>
            </div>
        `;
        
        return html;
    }
    
    /**
     * Récupère la semaine actuelle (pour distinguer passé/futur)
     */
    _getCurrentWeek(data) {
        // Dans un vrai contexte, on utiliserait la date actuelle
        // Ici on prend la médiane des semaines pour simuler
        const allWeeks = data.matches.scheduled
            .map(m => m.semaine)
            .filter(w => w)
            .sort((a, b) => a - b);
        
        if (allWeeks.length === 0) return 1;
        
        return allWeeks[Math.floor(allWeeks.length / 2)] || 1;
    }
    
    /**
     * Génère les statistiques détaillées d'une poule
     */
    _generatePoolStats(pool, playedMatches, upcomingMatches, unscheduledMatches) {
        const totalMatches = pool.nb_matchs_planifies + pool.nb_matchs_non_planifies;
        const completionRate = totalMatches > 0 
            ? Math.round((pool.nb_matchs_planifies / totalMatches) * 100) 
            : 0;
        
        return `
            <div class="pool-stats" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); gap: 1rem;">
                <div class="stat-item" style="text-align: center; padding: 0.75rem; background: rgba(39, 174, 96, 0.08); border-radius: 8px; border: 1px solid rgba(39, 174, 96, 0.2);">
                    <div class="stat-item-value" style="font-size: 1.5rem; font-weight: 900; color: #27AE60; font-family: 'Roboto Mono', monospace; margin-bottom: 0.25rem;">${playedMatches.length}</div>
                    <div class="stat-item-label" style="font-size: 0.7rem; font-weight: 700; color: #666; text-transform: uppercase; letter-spacing: 0.05em; font-family: 'Roboto', sans-serif;">Joués</div>
                </div>
                <div class="stat-item" style="text-align: center; padding: 0.75rem; background: rgba(0, 123, 255, 0.08); border-radius: 8px; border: 1px solid rgba(0, 123, 255, 0.2);">
                    <div class="stat-item-value" style="font-size: 1.5rem; font-weight: 900; color: #007BFF; font-family: 'Roboto Mono', monospace; margin-bottom: 0.25rem;">${upcomingMatches.length}</div>
                    <div class="stat-item-label" style="font-size: 0.7rem; font-weight: 700; color: #666; text-transform: uppercase; letter-spacing: 0.05em; font-family: 'Roboto', sans-serif;">À venir</div>
                </div>
                <div class="stat-item" style="text-align: center; padding: 0.75rem; background: rgba(239, 65, 53, 0.08); border-radius: 8px; border: 1px solid rgba(239, 65, 53, 0.2);">
                    <div class="stat-item-value" style="font-size: 1.5rem; font-weight: 900; color: #EF4135; font-family: 'Roboto Mono', monospace; margin-bottom: 0.25rem;">${unscheduledMatches.length}</div>
                    <div class="stat-item-label" style="font-size: 0.7rem; font-weight: 700; color: #666; text-transform: uppercase; letter-spacing: 0.05em; font-family: 'Roboto', sans-serif;">Non planifiés</div>
                </div>
                <div class="stat-item" style="text-align: center; padding: 0.75rem; background: rgba(0, 85, 164, 0.08); border-radius: 8px; border: 1px solid rgba(0, 85, 164, 0.2);">
                    <div class="stat-item-value" style="font-size: 1.5rem; font-weight: 900; color: #0055A4; font-family: 'Roboto Mono', monospace; margin-bottom: 0.25rem;">${completionRate}%</div>
                    <div class="stat-item-label" style="font-size: 0.7rem; font-weight: 700; color: #666; text-transform: uppercase; letter-spacing: 0.05em; font-family: 'Roboto', sans-serif;">Complétude</div>
                </div>
            </div>
        `;
    }
    
    /**
     * Génère le classement d'une poule avec données améliorées
     */
    _generateStandings(pool, data, playedMatches) {
        // Récupérer les équipes de la poule
        const teams = this._getPoolTeams(pool.id, data);
        
        if (teams.length === 0) {
            return '<div class="no-matches" style="text-align: center; padding: 2rem; color: #999; font-size: 0.9rem; font-family: \'Roboto\', sans-serif;">Aucune équipe dans cette poule</div>';
        }
        
        // Calculer les stats des équipes basées sur les matchs joués
        const standings = this._calculateDetailedStandings(teams, playedMatches);
        
        let html = `
            <div class="pool-standings" style="overflow-x: auto;">
                <table class="standings-table" style="width: 100%; border-collapse: collapse; font-size: 0.85rem; font-family: 'Roboto', sans-serif;">
                    <thead>
                        <tr style="background: rgba(0, 85, 164, 0.08); border-bottom: 2px solid rgba(0, 85, 164, 0.2);">
                            <th style="padding: 0.6rem 0.5rem; text-align: center; font-size: 0.7rem; font-weight: 800; color: #666; text-transform: uppercase; letter-spacing: 0.05em;">#</th>
                            <th style="padding: 0.6rem 0.75rem; text-align: left; font-size: 0.7rem; font-weight: 800; color: #666; text-transform: uppercase; letter-spacing: 0.05em;">Équipe</th>
                            <th style="padding: 0.6rem 0.5rem; text-align: center; font-size: 0.7rem; font-weight: 800; color: #666; text-transform: uppercase; letter-spacing: 0.05em;" title="Matchs Joués">J</th>
                            <th style="padding: 0.6rem 0.5rem; text-align: center; font-size: 0.7rem; font-weight: 800; color: #666; text-transform: uppercase; letter-spacing: 0.05em;" title="Victoires">G</th>
                            <th style="padding: 0.6rem 0.5rem; text-align: center; font-size: 0.7rem; font-weight: 800; color: #666; text-transform: uppercase; letter-spacing: 0.05em;" title="Nuls">N</th>
                            <th style="padding: 0.6rem 0.5rem; text-align: center; font-size: 0.7rem; font-weight: 800; color: #666; text-transform: uppercase; letter-spacing: 0.05em;" title="Défaites">P</th>
                            <th style="padding: 0.6rem 0.5rem; text-align: center; font-size: 0.7rem; font-weight: 800; color: #0055A4; text-transform: uppercase; letter-spacing: 0.05em;" title="Points">Pts</th>
                        </tr>
                    </thead>
                    <tbody>
        `;
        
        standings.forEach((team, index) => {
            const positionClass = index < 3 ? `position-${index + 1}` : '';
            let rowStyle = 'border-bottom: 1px solid rgba(0, 85, 164, 0.1);';
            if (index === 0) rowStyle += ' background: rgba(255, 215, 0, 0.1);'; // Or pour 1er
            else if (index === 1) rowStyle += ' background: rgba(192, 192, 192, 0.1);'; // Argent pour 2e
            else if (index === 2) rowStyle += ' background: rgba(205, 127, 50, 0.1);'; // Bronze pour 3e
            
            html += `
                <tr class="${positionClass}" style="${rowStyle}">
                    <td style="padding: 0.6rem 0.5rem; text-align: center; font-weight: 700; color: ${index < 3 ? '#0055A4' : '#666'}; font-family: 'Roboto Mono', monospace;">${index + 1}</td>
                    <td class="team-name" title="${team.nom_complet || team.nom}" style="padding: 0.6rem 0.75rem; font-weight: 600; color: #333;">${team.nom}</td>
                    <td style="padding: 0.6rem 0.5rem; text-align: center; font-weight: 600; color: #666; font-family: 'Roboto Mono', monospace;">${team.played}</td>
                    <td style="padding: 0.6rem 0.5rem; text-align: center; font-weight: 600; color: #27AE60; font-family: 'Roboto Mono', monospace;">${team.won}</td>
                    <td style="padding: 0.6rem 0.5rem; text-align: center; font-weight: 600; color: #FF9500; font-family: 'Roboto Mono', monospace;">${team.drawn}</td>
                    <td style="padding: 0.6rem 0.5rem; text-align: center; font-weight: 600; color: #EF4135; font-family: 'Roboto Mono', monospace;">${team.lost}</td>
                    <td class="points" style="padding: 0.6rem 0.5rem; text-align: center; font-weight: 900; font-size: 1rem; color: #0055A4; font-family: 'Roboto Mono', monospace;">${team.points}</td>
                </tr>
            `;
        });
        
        html += `
                    </tbody>
                </table>
            </div>
        `;
        
        return html;
    }
    
    /**
     * Récupère les équipes d'une poule
     */
    _getPoolTeams(poolId, data) {
        if (!data.entities?.equipes) return [];
        
        return data.entities.equipes.filter(e => e.poule === poolId);
    }
    
    /**
     * Calcule le classement détaillé avec victoires/défaites basé sur les scores réels
     */
    _calculateDetailedStandings(teams, matches) {
        const stats = {};
        
        // Initialiser les stats
        teams.forEach(team => {
            stats[team.id] = {
                id: team.id,
                nom: team.nom,
                nom_complet: team.nom_complet,
                played: 0,
                won: 0,
                drawn: 0,
                lost: 0,
                points: 0,
                goalsFor: 0,
                goalsAgainst: 0
            };
        });
        
        // Analyser les matchs avec scores
        matches.forEach(match => {
            // Un match est joué seulement s'il a un score valide
            if (!match.score || !match.score.has_score) return;
            
            const team1Id = match.equipe1_id;
            const team2Id = match.equipe2_id;
            const score1 = match.score.equipe1;
            const score2 = match.score.equipe2;
            
            // Vérifier que les scores sont valides
            if (score1 === null || score1 === undefined || score2 === null || score2 === undefined) return;
            if (!stats[team1Id] || !stats[team2Id]) return;
            
            // Incrémenter les matchs joués
            stats[team1Id].played++;
            stats[team2Id].played++;
            
            // Enregistrer les buts
            stats[team1Id].goalsFor += score1;
            stats[team1Id].goalsAgainst += score2;
            stats[team2Id].goalsFor += score2;
            stats[team2Id].goalsAgainst += score1;
            
            // Déterminer le résultat et attribuer les points
            if (score1 > score2) {
                // Victoire équipe 1
                stats[team1Id].won++;
                stats[team1Id].points += 3;
                stats[team2Id].lost++;
            } else if (score2 > score1) {
                // Victoire équipe 2
                stats[team2Id].won++;
                stats[team2Id].points += 3;
                stats[team1Id].lost++;
            } else {
                // Match nul
                stats[team1Id].drawn++;
                stats[team1Id].points += 1;
                stats[team2Id].drawn++;
                stats[team2Id].points += 1;
            }
        });
        
        // Trier par points, puis goal average, puis buts marqués, puis nom
        return Object.values(stats).sort((a, b) => {
            // D'abord par points
            if (b.points !== a.points) return b.points - a.points;
            
            // Puis par goal average (différence de buts)
            const diffA = a.goalsFor - a.goalsAgainst;
            const diffB = b.goalsFor - b.goalsAgainst;
            if (diffB !== diffA) return diffB - diffA;
            
            // Puis par buts marqués
            if (b.goalsFor !== a.goalsFor) return b.goalsFor - a.goalsFor;
            
            // Enfin par nom
            return a.nom.localeCompare(b.nom);
        });
    }
    
    /**
     * Génère les matchs avec onglets (joués / à venir)
     */
    _generatePoolMatchesWithTabs(poolId, playedMatches, upcomingMatches, data) {
        // Déterminer l'onglet actif
        const activeTab = this.activeMatchTabs[poolId] || 'upcoming';
        
        let html = `
            <div class="pool-matches">
                
                <div class="matches-tabs" style="display: flex; gap: 0.5rem; margin-bottom: 1rem; border-bottom: 2px solid rgba(0, 85, 164, 0.1); padding-bottom: 0.5rem;">
                    <button class="match-tab ${activeTab === 'upcoming' ? 'active' : ''}" 
                            data-tab="upcoming" data-pool="${poolId}"
                            style="flex: 1; padding: 0.6rem 1rem; background: ${activeTab === 'upcoming' ? 'linear-gradient(135deg, #0055A4 0%, rgba(0, 85, 164, 0.9) 100%)' : 'rgba(0, 85, 164, 0.05)'}; color: ${activeTab === 'upcoming' ? 'white' : '#0055A4'}; border: 1px solid ${activeTab === 'upcoming' ? '#0055A4' : 'rgba(0, 85, 164, 0.2)'}; border-radius: 8px; font-weight: 700; font-size: 0.85rem; cursor: pointer; transition: all 0.2s ease; font-family: 'Roboto', sans-serif; display: flex; align-items: center; justify-content: center; gap: 0.5rem; box-shadow: ${activeTab === 'upcoming' ? '0 2px 6px rgba(0, 85, 164, 0.3)' : 'none'};">
                        À venir
                        <span class="match-tab-count" style="display: inline-flex; align-items: center; justify-content: center; min-width: 24px; height: 24px; background: ${activeTab === 'upcoming' ? 'rgba(255, 255, 255, 0.25)' : 'rgba(0, 85, 164, 0.15)'}; border-radius: 50%; font-size: 0.75rem; font-weight: 900; font-family: 'Roboto Mono', monospace; padding: 0 0.3rem;">${upcomingMatches.length}</span>
                    </button>
                    <button class="match-tab ${activeTab === 'played' ? 'active' : ''}" 
                            data-tab="played" data-pool="${poolId}"
                            style="flex: 1; padding: 0.6rem 1rem; background: ${activeTab === 'played' ? 'linear-gradient(135deg, #0055A4 0%, rgba(0, 85, 164, 0.9) 100%)' : 'rgba(0, 85, 164, 0.05)'}; color: ${activeTab === 'played' ? 'white' : '#0055A4'}; border: 1px solid ${activeTab === 'played' ? '#0055A4' : 'rgba(0, 85, 164, 0.2)'}; border-radius: 8px; font-weight: 700; font-size: 0.85rem; cursor: pointer; transition: all 0.2s ease; font-family: 'Roboto', sans-serif; display: flex; align-items: center; justify-content: center; gap: 0.5rem; box-shadow: ${activeTab === 'played' ? '0 2px 6px rgba(0, 85, 164, 0.3)' : 'none'};">
                        Joués
                        <span class="match-tab-count" style="display: inline-flex; align-items: center; justify-content: center; min-width: 24px; height: 24px; background: ${activeTab === 'played' ? 'rgba(255, 255, 255, 0.25)' : 'rgba(0, 85, 164, 0.15)'}; border-radius: 50%; font-size: 0.75rem; font-weight: 900; font-family: 'Roboto Mono', monospace; padding: 0 0.3rem;">${playedMatches.length}</span>
                    </button>
                    <button class="match-tab ${activeTab === 'all' ? 'active' : ''}" 
                            data-tab="all" data-pool="${poolId}"
                            style="flex: 1; padding: 0.6rem 1rem; background: ${activeTab === 'all' ? 'linear-gradient(135deg, #0055A4 0%, rgba(0, 85, 164, 0.9) 100%)' : 'rgba(0, 85, 164, 0.05)'}; color: ${activeTab === 'all' ? 'white' : '#0055A4'}; border: 1px solid ${activeTab === 'all' ? '#0055A4' : 'rgba(0, 85, 164, 0.2)'}; border-radius: 8px; font-weight: 700; font-size: 0.85rem; cursor: pointer; transition: all 0.2s ease; font-family: 'Roboto', sans-serif; display: flex; align-items: center; justify-content: center; gap: 0.5rem; box-shadow: ${activeTab === 'all' ? '0 2px 6px rgba(0, 85, 164, 0.3)' : 'none'};">
                        Tous
                        <span class="match-tab-count" style="display: inline-flex; align-items: center; justify-content: center; min-width: 24px; height: 24px; background: ${activeTab === 'all' ? 'rgba(255, 255, 255, 0.25)' : 'rgba(0, 85, 164, 0.15)'}; border-radius: 50%; font-size: 0.75rem; font-weight: 900; font-family: 'Roboto Mono', monospace; padding: 0 0.3rem;">${playedMatches.length + upcomingMatches.length}</span>
                    </button>
                </div>
                
                <div class="matches-content ${activeTab === 'upcoming' ? 'active' : ''}" 
                     data-content="upcoming" data-pool="${poolId}"
                     style="display: ${activeTab === 'upcoming' ? 'block' : 'none'};">
                    ${this._generateMatchesList(upcomingMatches, data, 'upcoming')}
                </div>
                
                <div class="matches-content ${activeTab === 'played' ? 'active' : ''}" 
                     data-content="played" data-pool="${poolId}"
                     style="display: ${activeTab === 'played' ? 'block' : 'none'};">
                    ${this._generateMatchesList(playedMatches, data, 'played')}
                </div>
                
                <div class="matches-content ${activeTab === 'all' ? 'active' : ''}" 
                     data-content="all" data-pool="${poolId}"
                     style="display: ${activeTab === 'all' ? 'block' : 'none'};">
                    ${this._generateMatchesList([...playedMatches, ...upcomingMatches], data, 'all')}
                </div>
            </div>
        `;
        
        return html;
    }
    
    /**
     * Génère une liste de matchs
     */
    _generateMatchesList(matches, data, type) {
        if (matches.length === 0) {
            const emptyMessage = type === 'upcoming' ? 'Aucun match à venir' :
                               type === 'played' ? 'Aucun match joué' :
                               'Aucun match';
            return `<div class="no-matches" style="text-align: center; padding: 3rem 2rem; color: #999; font-size: 0.95rem; font-weight: 600; background: rgba(0, 85, 164, 0.03); border-radius: 8px; border: 1px dashed rgba(0, 85, 164, 0.2); font-family: 'Roboto', sans-serif;">${emptyMessage}</div>`;
        }
        
        // Grouper par semaine
        const byWeek = new Map();
        matches.forEach(match => {
            const week = match.semaine || 'Non planifié';
            if (!byWeek.has(week)) {
                byWeek.set(week, []);
            }
            byWeek.get(week).push(match);
        });
        
        // Trier les semaines
        const sortedWeeks = Array.from(byWeek.keys()).sort((a, b) => {
            if (a === 'Non planifié') return 1;
            if (b === 'Non planifié') return -1;
            return type === 'played' ? b - a : a - b; // Ordre décroissant pour "joués"
        });
        
        let html = '';
        
        sortedWeeks.forEach(week => {
            const weekMatches = byWeek.get(week);
            
            html += `<div class="week-group" style="margin-bottom: 1.5rem;">`;
            html += `<h5 style="font-size: 0.9rem; font-weight: 800; color: #0055A4; margin: 0 0 0.75rem 0; padding: 0.5rem 0.75rem; background: rgba(0, 85, 164, 0.08); border-left: 4px solid #0055A4; border-radius: 6px; font-family: 'Roboto', sans-serif; display: flex; align-items: center; gap: 0.5rem;">📅 Semaine ${week}</h5>`;
            html += `<div class="matches-grid" style="display: grid; gap: 0.75rem;">`;
            
            weekMatches.forEach(match => {
                html += this._generateMatchCardNew(match, data, type); // Utilisation du nouveau design
            });
            
            html += `</div></div>`;
        });
        
        return html;
    }

    /**
     * Génère une carte de match avec le nouveau design.
     */
    _generateMatchCardNew(match, data, type) {
        const gymnase = this.dataManager.getGymnaseById(match.gymnase);
        const equipe1Nom = match.equipe1_nom_complet || match.equipe1_nom || 'Équipe 1';
        const equipe2Nom = match.equipe2_nom_complet || match.equipe2_nom || 'Équipe 2';
        const equipe1Num = match.equipe1_num ? `#${match.equipe1_num}` : '';
        const equipe2Num = match.equipe2_num ? `#${match.equipe2_num}` : '';

        // Déterminer si le match est réellement joué (a un score)
        const hasScore = match.score && match.score.has_score && 
                        match.score.equipe1 !== null && match.score.equipe1 !== undefined &&
                        match.score.equipe2 !== null && match.score.equipe2 !== undefined;
        
        const statusClass = hasScore ? 'played' : 'upcoming';
        const statusLabel = hasScore ? 'Terminé' : 'À venir';
        const statusIcon = hasScore ? '✅' : '⏳';
        
        // Déterminer le gagnant si le match a un score
        let team1Winner = false;
        let team2Winner = false;
        if (hasScore) {
            if (match.score.equipe1 > match.score.equipe2) {
                team1Winner = true;
            } else if (match.score.equipe2 > match.score.equipe1) {
                team2Winner = true;
            }
        }
        
        // Déterminer la couleur de fond selon le genre
        const genre = match.equipe1_genre || match.equipe2_genre;
        let bgGradient = 'linear-gradient(135deg, rgba(0, 85, 164, 0.08) 0%, rgba(0, 85, 164, 0.03) 100%)';
        if (genre === 'M') {
            bgGradient = 'linear-gradient(135deg, rgba(0, 123, 255, 0.08) 0%, rgba(0, 123, 255, 0.03) 100%)';
        } else if (genre === 'F') {
            bgGradient = 'linear-gradient(135deg, rgba(255, 20, 147, 0.08) 0%, rgba(255, 20, 147, 0.03) 100%)';
        }

        const totalPenalties = Object.values(match.penalties || {}).reduce((sum, p) => sum + p, 0);
        const penaltyColor = totalPenalties > 10 ? '#EF4135' : totalPenalties > 5 ? '#FF9500' : '#27AE60';

        return `
            <div class="match-card-new ${statusClass}" data-match-id="${match.match_id}" style="background: white; border: 1px solid rgba(0, 85, 164, 0.15); border-radius: 10px; padding: 1rem; margin-bottom: 0.75rem; box-shadow: 0 2px 6px rgba(0, 0, 0, 0.06); transition: all 0.2s ease;">
                <div class="match-card-new-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.75rem; padding-bottom: 0.5rem; border-bottom: 1px solid rgba(0, 85, 164, 0.1);">
                    <div class="match-card-new-status" style="display: inline-flex; align-items: center; gap: 0.4rem; padding: 0.25rem 0.6rem; background: ${hasScore ? 'rgba(39, 174, 96, 0.1)' : 'rgba(0, 123, 255, 0.1)'}; border-radius: 6px; border: 1px solid ${hasScore ? 'rgba(39, 174, 96, 0.25)' : 'rgba(0, 123, 255, 0.25)'};">
                        <span class="status-icon" style="font-size: 0.9rem;">${statusIcon}</span>
                        <span class="status-label" style="font-size: 0.7rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.05em; color: ${hasScore ? '#27AE60' : '#007BFF'}; font-family: 'Roboto', sans-serif;">${statusLabel}</span>
                    </div>
                    <div class="match-card-new-week" style="font-size: 0.75rem; font-weight: 800; color: #666; font-family: 'Roboto Mono', monospace; padding: 0.25rem 0.6rem; background: rgba(0, 85, 164, 0.08); border-radius: 6px; border: 1px solid rgba(0, 85, 164, 0.15);">
                        Semaine ${match.semaine || 'N/A'}
                    </div>
                </div>

                <div class="match-card-new-body" style="display: flex; align-items: center; gap: 1rem; margin-bottom: 0.75rem; background: ${bgGradient}; padding: 0.75rem; border-radius: 8px;">
                    <div class="team-info" style="flex: 1; display: flex; flex-direction: column; align-items: flex-start; ${team1Winner ? 'background: rgba(255, 215, 0, 0.15); padding: 0.5rem; border-radius: 6px; border: 2px solid rgba(255, 215, 0, 0.4);' : ''}">
                        <div style="display: flex; align-items: center; gap: 0.4rem; width: 100%; justify-content: space-between;">
                            <div style="display: flex; align-items: center; gap: 0.4rem;">
                                ${equipe1Num ? `<span style="font-size: 0.65rem; font-weight: 800; background: rgba(0, 85, 164, 0.15); padding: 0.15rem 0.4rem; border-radius: 4px; font-family: 'Roboto Mono', monospace; color: #0055A4;">${equipe1Num}</span>` : ''}
                                <span class="team-name" style="font-size: 0.85rem; font-weight: ${team1Winner ? '900' : '700'}; color: ${team1Winner ? '#0055A4' : '#333'}; font-family: 'Inter', 'Roboto', sans-serif; text-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);">${equipe1Nom}</span>
                            </div>
                            ${hasScore ? `<span style="font-size: 1.1rem; font-weight: 900; color: ${team1Winner ? '#FFD700' : '#333'}; font-family: 'Roboto Mono', monospace; min-width: 30px; text-align: center;">${match.score.equipe1}</span>` : ''}
                            ${team1Winner ? '<span style="font-size: 1.2rem; margin-left: 0.3rem;">🏆</span>' : ''}
                        </div>
                    </div>
                    <div class="match-center" style="display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                        <span class="vs-circle" style="display: inline-flex; align-items: center; justify-content: center; width: 36px; height: 36px; background: white; border: 2px solid rgba(0, 85, 164, 0.2); border-radius: 50%; font-size: 0.65rem; font-weight: 900; color: #0055A4; box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1); font-family: 'Roboto', sans-serif;">VS</span>
                    </div>
                    <div class="team-info team-info-right" style="flex: 1; display: flex; flex-direction: column; align-items: flex-end; ${team2Winner ? 'background: rgba(255, 215, 0, 0.15); padding: 0.5rem; border-radius: 6px; border: 2px solid rgba(255, 215, 0, 0.4);' : ''}">
                        <div style="display: flex; align-items: center; gap: 0.4rem; width: 100%; justify-content: space-between; flex-direction: row-reverse;">
                            <div style="display: flex; align-items: center; gap: 0.4rem;">
                                <span class="team-name" style="font-size: 0.85rem; font-weight: ${team2Winner ? '900' : '700'}; color: ${team2Winner ? '#0055A4' : '#333'}; font-family: 'Inter', 'Roboto', sans-serif; text-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);">${equipe2Nom}</span>
                                ${equipe2Num ? `<span style="font-size: 0.65rem; font-weight: 800; background: rgba(0, 85, 164, 0.15); padding: 0.15rem 0.4rem; border-radius: 4px; font-family: 'Roboto Mono', monospace; color: #0055A4;">${equipe2Num}</span>` : ''}
                            </div>
                            ${hasScore ? `<span style="font-size: 1.1rem; font-weight: 900; color: ${team2Winner ? '#FFD700' : '#333'}; font-family: 'Roboto Mono', monospace; min-width: 30px; text-align: center;">${match.score.equipe2}</span>` : ''}
                            ${team2Winner ? '<span style="font-size: 1.2rem; margin-right: 0.3rem;">🏆</span>' : ''}
                        </div>
                    </div>
                </div>

                <div class="match-card-new-footer" style="display: flex; gap: 1rem; flex-wrap: wrap; font-size: 0.75rem;">
                    <div class="footer-info location" style="display: inline-flex; align-items: center; gap: 0.3rem; padding: 0.25rem 0.5rem; background: rgba(0, 85, 164, 0.06); border-radius: 6px; border: 1px solid rgba(0, 85, 164, 0.1);">
                        <span class="footer-icon" style="font-size: 0.85rem;">📍</span>
                        <span style="font-weight: 600; color: #555; font-family: 'Roboto', sans-serif;">${gymnase?.nom || 'Non défini'}</span>
                    </div>
                    <div class="footer-info time" style="display: inline-flex; align-items: center; gap: 0.3rem; padding: 0.25rem 0.5rem; background: rgba(0, 85, 164, 0.06); border-radius: 6px; border: 1px solid rgba(0, 85, 164, 0.1);">
                        <span class="footer-icon" style="font-size: 0.85rem;">🕒</span>
                        <span style="font-weight: 800; color: #555; font-family: 'Roboto Mono', monospace;">${match.jour || ''} ${match.horaire || ''}</span>
                    </div>
                    ${totalPenalties > 0 ? `<div class="footer-info penalty" style="display: inline-flex; align-items: center; gap: 0.3rem; padding: 0.25rem 0.5rem; background: rgba(${totalPenalties > 10 ? '239, 65, 53' : totalPenalties > 5 ? '255, 149, 0' : '39, 174, 96'}, 0.1); border-radius: 6px; border: 1px solid rgba(${totalPenalties > 10 ? '239, 65, 53' : totalPenalties > 5 ? '255, 149, 0' : '39, 174, 96'}, 0.25);" title="Pénalités: ${totalPenalties.toFixed(1)}">
                        <span class="footer-icon" style="font-size: 0.85rem;">⚠️</span>
                        <span style="font-weight: 900; color: ${penaltyColor}; font-family: 'Roboto Mono', monospace;">${totalPenalties.toFixed(1)}</span>
                    </div>` : ''}
                </div>
            </div>
        `;
    }
    
    /**
     * Génère une carte de match riche en informations
     */
    _generateMatchCard(match, data, type) {
        const gymnase = this.dataManager.getGymnaseById(match.gymnase);
        
        // Les données d'équipe sont dans le match (format v2.0)
        const equipe1Nom = match.equipe1_nom_complet || match.equipe1_nom || 'Équipe 1';
        const equipe2Nom = match.equipe2_nom_complet || match.equipe2_nom || 'Équipe 2';
        
        const totalPenalties = Object.values(match.penalties || {}).reduce((sum, p) => sum + p, 0);
        const penaltyClass = totalPenalties > 10 ? 'high' : totalPenalties > 5 ? 'medium' : 'low';
        
        const statusClass = type === 'played' ? 'played' : 'upcoming';
        const statusLabel = type === 'played' ? 'Terminé' : 'À venir';
        
        let html = `
            <div class="match-card ${statusClass}" data-match-id="${match.match_id}">
                <div class="match-time">
                    ${match.jour || 'N/A'} - ${match.horaire || 'N/A'}
                </div>
                <div class="match-teams-mini">
                    <span class="team">${equipe1Nom}</span>
                    <span class="vs">vs</span>
                    <span class="team">${equipe2Nom}</span>
                </div>
                <div class="match-venue">
                    📍 ${gymnase?.nom || 'Lieu non défini'}
                </div>
                <div class="match-footer">
                    <span class="match-status ${statusClass}">${statusLabel}</span>
                    <span class="match-penalty-badge penalty-${penaltyClass}" 
                          title="Pénalités totales">
                        ${totalPenalties.toFixed(1)}
                    </span>
                </div>
            </div>
        `;
        
        return html;
    }
    
    /**
     * Attache les event listeners
     */
    _attachEventListeners() {
        // Toggle expand/collapse des poules
        const toggleElements = this.container.querySelectorAll('[data-toggle-pool], .pool-compact, .pool-list-row');
        toggleElements.forEach(element => {
            element.addEventListener('click', (e) => {
                // Éviter de déclencher sur un clic de bouton ou de lien à l'intérieur
                if (e.target.closest('button, a')) return;

                const poolId = e.currentTarget.dataset.poolId || e.currentTarget.dataset.togglePool;
                if (poolId) {
                    this.togglePool(poolId);
                }
            });
        });
        
        // Gestion des onglets de matchs
        const matchTabs = this.container.querySelectorAll('.match-tab');
        matchTabs.forEach(tab => {
            tab.addEventListener('click', (e) => {
                const tabName = e.currentTarget.dataset.tab;
                const poolId = e.currentTarget.dataset.pool;
                this.switchMatchTab(poolId, tabName);
            });
        });
        
        // Double-clic sur match pour éditer
        const matchCards = this.container.querySelectorAll('.match-card, .match-card_new');
        matchCards.forEach(card => {
            card.addEventListener('dblclick', (e) => {
                const matchId = e.currentTarget.dataset.matchId;
                this._editMatch(matchId);
            });
        });
    }
    
    /**
     * Toggle l'expansion d'une poule
     */
    togglePool(poolId) {
        if (this.expandedPools.has(poolId)) {
            this.expandedPools.delete(poolId);
        } else {
            this.expandedPools.add(poolId);
        }
        this.render();
    }
    
    /**
     * Change l'onglet actif pour les matchs d'une poule
     */
    switchMatchTab(poolId, tabName) {
        this.activeMatchTabs[poolId] = tabName;
        this.render();
    }
    
    /**
     * Édite un match (ouvre le formulaire d'édition)
     */
    _editMatch(matchId) {
        // Logique pour ouvrir le formulaire d'édition d'un match
        console.log('Éditer le match:', matchId);
    }
}

// Export global
window.PoolsView = PoolsView;



// views/matches-view.js
/**
 * matches-view.js - Vue Matchs (anciennement Cartes)
 * 
 * Affiche tous les matchs sous forme de cartes détaillées avec filtrage avancé
 * et options de groupement multiples.
 */

class MatchesView {
    constructor(dataManager, container) {
        this.dataManager = dataManager;
        this.container = container;
        
        // État des filtres
        this.activeFilters = {
            status: 'all', // 'all', 'fixed', 'scheduled', 'unscheduled', 'entente'
            gender: '',
            institution: '',
            pool: '',
            venue: '',
            week: '',
            team: ''
        };
        
        // Options de groupement
        this.groupBy = 'week'; // 'week', 'venue', 'pool', 'gender', 'level', 'none'
        
        // Options d'affichage
        this.sortBy = 'week'; // 'week', 'penalties', 'pool'
        this.showPenalties = true;
        this.showPoolInfo = true;
        
        // Subscribe to data changes
        this.dataManager.subscribe('matches', () => this.render());
    }
    
    /**
     * Initialise la vue
     */
    init() {
        this.render();
    }
    
    /**
     * Met à jour les filtres
     */
    updateFilters(filters) {
        this.activeFilters = { ...this.activeFilters, ...filters };
        this.render();
    }
    
    /**
     * Change le mode de groupement
     */
    setGroupBy(groupBy) {
        this.groupBy = groupBy;
        this.render();
    }
    
    /**
     * Change le mode de tri
     */
    setSortBy(sortBy) {
        this.sortBy = sortBy;
        this.render();
    }
    
    /**
     * Retourne la configuration des options d'affichage pour le panneau latéral
     */
    getDisplayOptions() {
        return {
            title: "Options d'affichage",
            options: [
                {
                    type: 'button-group',
                    id: 'matches-group-by',
                    label: 'Grouper par',
                    values: [
                        { value: 'none', text: 'Aucun' },
                        { value: 'week', text: '📅 Semaine' },
                        { value: 'venue', text: '🏛️ Gymnase' },
                        { value: 'pool', text: '🏆 Poule' },
                        { value: 'gender', text: '👥 Genre' },
                        { value: 'level', text: '🎯 Niveau' }
                    ],
                    default: this.groupBy,
                    action: (value) => {
                        this.setGroupBy(value);
                    }
                },
                {
                    type: 'select',
                    id: 'matches-sort-by',
                    label: 'Trier par',
                    values: [
                        { value: 'week', text: 'Semaine' },
                        { value: 'penalties', text: 'Pénalités' },
                        { value: 'pool', text: 'Poule' }
                    ],
                    default: this.sortBy,
                    action: (value) => {
                        this.setSortBy(value);
                    }
                },
                {
                    type: 'checkbox',
                    id: 'matches-show-penalties',
                    label: 'Afficher les pénalités détaillées',
                    default: this.showPenalties,
                    action: (checked) => {
                        this.showPenalties = checked;
                        this.render();
                    }
                },
                {
                    type: 'checkbox',
                    id: 'matches-show-pool-info',
                    label: 'Afficher les informations de poule',
                    default: this.showPoolInfo,
                    action: (checked) => {
                        this.showPoolInfo = checked;
                        this.render();
                    }
                }
            ]
        };
    }
    
    /**
     * Affiche la vue complète
     */
    render() {
        const data = this.dataManager.getData();
        
        if (!data || !data.matches) {
            this.renderEmpty();
            return;
        }
        
        // Combiner tous les matchs (planifiés, non planifiés, fixes)
        const allMatches = this._getAllMatches(data);
        
        // Appliquer les filtres
        const filteredMatches = this._applyFilters(allMatches);
        
        if (filteredMatches.length === 0) {
            this.renderNoResults();
            return;
        }
        
        // Trier les matchs
        const sortedMatches = this._sortMatches(filteredMatches);
        
        // Grouper les matchs
        const groupedMatches = this._groupMatches(sortedMatches);
        
        // Générer le HTML
        const html = this._generateHTML(groupedMatches, filteredMatches.length, data);
        
        this.container.innerHTML = html;
        
        // Attacher les event listeners
        this._attachEventListeners();
    }
    
    /**
     * Affiche l'état vide
     */
    renderEmpty() {
        this.container.innerHTML = `
            <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 60vh; text-align: center; padding: 2rem;">
                <div style="font-size: 5rem; margin-bottom: 1.5rem; opacity: 0.5;">🏐</div>
                <h3 style="font-size: 1.5rem; font-weight: 700; color: #333; margin-bottom: 0.75rem; font-family: 'Inter', 'Roboto', sans-serif;">Aucun match</h3>
                <p style="font-size: 1rem; color: #666; font-family: 'Roboto', sans-serif;">Les matchs apparaîtront ici une fois planifiés.</p>
            </div>
        `;
    }
    
    /**
     * Affiche aucun résultat
     */
    renderNoResults() {
        this.container.innerHTML = `
            <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 60vh; text-align: center; padding: 2rem;">
                <div style="font-size: 5rem; margin-bottom: 1.5rem; opacity: 0.5;">🔍</div>
                <h3 style="font-size: 1.5rem; font-weight: 700; color: #333; margin-bottom: 0.75rem; font-family: 'Inter', 'Roboto', sans-serif;">Aucun résultat</h3>
                <p style="font-size: 1rem; color: #666; font-family: 'Roboto', sans-serif;">Aucun match ne correspond aux filtres sélectionnés.</p>
            </div>
        `;
    }
    
    /**
     * Récupère tous les matchs (planifiés + non planifiés + fixes + ententes)
     */
    _getAllMatches(data) {
        const allMatches = [];
        
        // Matchs planifiés
        if (data.matches.scheduled) {
            data.matches.scheduled.forEach(match => {
                allMatches.push({
                    ...match,
                    status: this._determineMatchStatus(match)
                });
            });
        }
        
        // Matchs non planifiés (peuvent inclure des ententes)
        if (data.matches.unscheduled) {
            data.matches.unscheduled.forEach(match => {
                const matchWithNulls = {
                    ...match,
                    semaine: null,
                    horaire: null,
                    gymnase: null,
                    jour: null
                };
                // Déterminer si c'est une entente ou un match non planifié normal
                matchWithNulls.status = this._determineMatchStatus(matchWithNulls);
                allMatches.push(matchWithNulls);
            });
        }
        
        return allMatches;
    }
    
    /**
     * Détermine le statut d'un match
     * Une entente est un match NON PLANIFIÉ entre institutions de la liste des ententes
     */
    _determineMatchStatus(match) {
        // Vérifier si c'est un match fixé avant planification
        if (match.is_fixed === true || match.fixed === true) {
            return 'fixed';
        }
        
        // Vérifier si le match a un gymnase et un horaire (= planifié par le solveur)
        if (match.gymnase && match.horaire && match.semaine) {
            return 'scheduled';
        }
        
        // Si le match n'est pas planifié, vérifier si c'est une entente
        // Une entente = match non planifié spécial (moins pénalisé)
        if (match.is_entente || (match.penalties && match.penalties.entente !== undefined)) {
            return 'entente';
        }
        
        // Sinon non planifié normal
        return 'unscheduled';
    }
    
    /**
     * Applique les filtres aux matchs
     */
    _applyFilters(matches) {
        let filtered = matches;
        
        // Filtre par statut
        if (this.activeFilters.status !== 'all') {
            filtered = filtered.filter(m => m.status === this.activeFilters.status);
        }
        
        // Filtre par genre
        if (this.activeFilters.gender) {
            filtered = filtered.filter(m => {
                const genre = m.equipe1_genre || m.equipe2_genre;
                return genre === this.activeFilters.gender;
            });
        }
        
        // Filtre par institution
        if (this.activeFilters.institution) {
            filtered = filtered.filter(m => 
                m.equipe1_institution === this.activeFilters.institution || 
                m.equipe2_institution === this.activeFilters.institution
            );
        }
        
        // Filtre par poule
        if (this.activeFilters.pool) {
            filtered = filtered.filter(m => m.poule === this.activeFilters.pool);
        }
        
        // Filtre par gymnase
        if (this.activeFilters.venue) {
            filtered = filtered.filter(m => m.gymnase === this.activeFilters.venue);
        }
        
        // Filtre par semaine
        if (this.activeFilters.week) {
            const weekNum = parseInt(this.activeFilters.week);
            filtered = filtered.filter(m => m.semaine === weekNum);
        }
        
        // Filtre par équipe
        if (this.activeFilters.team) {
            const searchTerm = this.activeFilters.team.toLowerCase();
            filtered = filtered.filter(m =>
                (m.equipe1_nom && m.equipe1_nom.toLowerCase().includes(searchTerm)) ||
                (m.equipe2_nom && m.equipe2_nom.toLowerCase().includes(searchTerm)) ||
                (m.equipe1_nom_complet && m.equipe1_nom_complet.toLowerCase().includes(searchTerm)) ||
                (m.equipe2_nom_complet && m.equipe2_nom_complet.toLowerCase().includes(searchTerm))
            );
        }
        
        return filtered;
    }
    
    /**
     * Trie les matchs selon le mode choisi
     */
    _sortMatches(matches) {
        const sorted = [...matches];
        
        switch (this.sortBy) {
            case 'week':
                sorted.sort((a, b) => {
                    // Non planifiés à la fin
                    if (!a.semaine && b.semaine) return 1;
                    if (a.semaine && !b.semaine) return -1;
                    if (!a.semaine && !b.semaine) return 0;
                    
                    // Tri par semaine puis horaire
                    if (a.semaine !== b.semaine) return a.semaine - b.semaine;
                    if (a.horaire && b.horaire) return a.horaire.localeCompare(b.horaire);
                    return 0;
                });
                break;
                
            case 'penalties':
                sorted.sort((a, b) => {
                    const penA = this._getTotalPenalties(a);
                    const penB = this._getTotalPenalties(b);
                    return penB - penA; // Décroissant
                });
                break;
                
            case 'pool':
                sorted.sort((a, b) => {
                    if (a.poule !== b.poule) return a.poule.localeCompare(b.poule);
                    if (a.semaine && b.semaine && a.semaine !== b.semaine) return a.semaine - b.semaine;
                    return 0;
                });
                break;
        }
        
        return sorted;
    }
    
    /**
     * Groupe les matchs selon le mode choisi
     */
    _groupMatches(matches) {
        if (this.groupBy === 'none') {
            return { 'Tous les matchs': matches };
        }
        
        const groups = {};
        
        matches.forEach(match => {
            let groupKey;
            
            switch (this.groupBy) {
                case 'week':
                    groupKey = match.semaine ? `Semaine ${match.semaine}` : 'Non planifiés';
                    break;
                    
                case 'venue':
                    groupKey = match.gymnase || 'Sans gymnase';
                    break;
                    
                case 'pool':
                    groupKey = match.poule || 'Sans poule';
                    break;
                    
                case 'gender':
                    const genre = match.equipe1_genre || match.equipe2_genre;
                    groupKey = genre === 'M' ? 'Masculin' : genre === 'F' ? 'Féminin' : 'Non défini';
                    break;
                    
                case 'level':
                    const poule = this.dataManager.getPouleById(match.poule);
                    if (poule && poule.niveau) {
                        groupKey = `Niveau ${poule.niveau}`;
                    } else {
                        groupKey = 'Niveau non défini';
                    }
                    break;
                    
                default:
                    groupKey = 'Tous les matchs';
            }
            
            if (!groups[groupKey]) {
                groups[groupKey] = [];
            }
            groups[groupKey].push(match);
        });
        
        return groups;
    }
    
    /**
     * Calcule le total des pénalités
     */
    _getTotalPenalties(match) {
        if (!match.penalties) return 0;
        return Object.values(match.penalties).reduce((sum, p) => sum + (p || 0), 0);
    }
    
    /**
     * Génère le HTML de la vue
     */
    _generateHTML(groupedMatches, totalMatches, data) {
        let html = '<div class="matches-view-container" style="padding: 1.5rem;">';
        
        // En-tête avec statistiques
        html += this._generateHeader(totalMatches, groupedMatches);
        
        // Groupes de matchs
        const groupKeys = Object.keys(groupedMatches).sort((a, b) => {
            // Trier les groupes de manière logique
            if (this.groupBy === 'week') {
                if (a === 'Non planifiés') return 1;
                if (b === 'Non planifiés') return -1;
                const numA = parseInt(a.match(/\d+/)?.[0] || 0);
                const numB = parseInt(b.match(/\d+/)?.[0] || 0);
                return numA - numB;
            }
            return a.localeCompare(b);
        });
        
        groupKeys.forEach(groupKey => {
            const matches = groupedMatches[groupKey];
            html += this._generateGroup(groupKey, matches, data);
        });
        
        html += '</div>';
        
        return html;
    }
    
    /**
     * Génère l'en-tête avec statistiques
     */
    _generateHeader(totalMatches, groupedMatches) {
        const groupCount = Object.keys(groupedMatches).length;
        
        return `
            <div style="background: linear-gradient(135deg, rgba(0, 85, 164, 0.08) 0%, rgba(0, 85, 164, 0.03) 100%); border: 1px solid rgba(0, 85, 164, 0.15); border-radius: 12px; padding: 1.25rem; margin-bottom: 1.5rem; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);">
                <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem;">
                    <div>
                        <h2 style="font-size: 1.5rem; font-weight: 800; color: #0055A4; margin: 0 0 0.5rem 0; font-family: 'Inter', 'Roboto', sans-serif;">Vue Matchs</h2>
                        <p style="font-size: 0.9rem; color: #666; margin: 0; font-family: 'Roboto', sans-serif;">
                            <span style="font-weight: 700; font-family: 'Roboto Mono', monospace; color: #0055A4;">${totalMatches}</span> match${totalMatches > 1 ? 's' : ''} affiché${totalMatches > 1 ? 's' : ''}
                            ${this.groupBy !== 'none' ? ` • <span style="font-weight: 700; font-family: 'Roboto Mono', monospace;">${groupCount}</span> groupe${groupCount > 1 ? 's' : ''}` : ''}
                        </p>
                    </div>
                    <div style="display: flex; gap: 0.75rem; flex-wrap: wrap;">
                        ${this._generateStatusBadges()}
                    </div>
                </div>
            </div>
        `;
    }
    
    /**
     * Génère les badges de statut
     */
    _generateStatusBadges() {
        const data = this.dataManager.getData();
        if (!data || !data.matches) return '';
        
        const allMatches = this._getAllMatches(data);
        const fixedCount = allMatches.filter(m => m.status === 'fixed').length;
        const scheduledCount = allMatches.filter(m => m.status === 'scheduled').length;
        const unscheduledCount = allMatches.filter(m => m.status === 'unscheduled').length;
        const ententeCount = allMatches.filter(m => m.status === 'entente').length;
        
        return `
            <div style="display: inline-flex; align-items: center; gap: 0.4rem; padding: 0.4rem 0.75rem; background: rgba(138, 43, 226, 0.1); border-radius: 8px; border: 1px solid rgba(138, 43, 226, 0.25);">
                <span style="font-size: 0.85rem;">🔒</span>
                <span style="font-size: 0.75rem; font-weight: 800; color: #8A2BE2; font-family: 'Roboto Mono', monospace;">${fixedCount}</span>
                <span style="font-size: 0.75rem; font-weight: 600; color: #8A2BE2; font-family: 'Roboto', sans-serif;">Fixés</span>
            </div>
            <div style="display: inline-flex; align-items: center; gap: 0.4rem; padding: 0.4rem 0.75rem; background: rgba(39, 174, 96, 0.1); border-radius: 8px; border: 1px solid rgba(39, 174, 96, 0.25);">
                <span style="font-size: 0.85rem;">✅</span>
                <span style="font-size: 0.75rem; font-weight: 800; color: #27AE60; font-family: 'Roboto Mono', monospace;">${scheduledCount}</span>
                <span style="font-size: 0.75rem; font-weight: 600; color: #27AE60; font-family: 'Roboto', sans-serif;">Planifiés</span>
            </div>
            <div style="display: inline-flex; align-items: center; gap: 0.4rem; padding: 0.4rem 0.75rem; background: rgba(239, 65, 53, 0.1); border-radius: 8px; border: 1px solid rgba(239, 65, 53, 0.25);">
                <span style="font-size: 0.85rem;">❌</span>
                <span style="font-size: 0.75rem; font-weight: 800; color: #EF4135; font-family: 'Roboto Mono', monospace;">${unscheduledCount}</span>
                <span style="font-size: 0.75rem; font-weight: 600; color: #EF4135; font-family: 'Roboto', sans-serif;">Non planifiés</span>
            </div>
            ${ententeCount > 0 ? `
            <div style="display: inline-flex; align-items: center; gap: 0.4rem; padding: 0.4rem 0.75rem; background: rgba(255, 149, 0, 0.1); border-radius: 8px; border: 1px solid rgba(255, 149, 0, 0.25);">
                <span style="font-size: 0.85rem;">🤝</span>
                <span style="font-size: 0.75rem; font-weight: 800; color: #FF9500; font-family: 'Roboto Mono', monospace;">${ententeCount}</span>
                <span style="font-size: 0.75rem; font-weight: 600; color: #FF9500; font-family: 'Roboto', sans-serif;">Ententes</span>
            </div>
            ` : ''}
        `;
    }
    
    /**
     * Génère un groupe de matchs
     */
    _generateGroup(groupTitle, matches, data) {
        let html = `
            <div style="margin-bottom: 2rem;">
                <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 1rem; padding-bottom: 0.5rem; border-bottom: 2px solid rgba(0, 85, 164, 0.15);">
                    <h3 style="font-size: 1.25rem; font-weight: 800; color: #0055A4; margin: 0; font-family: 'Inter', 'Roboto', sans-serif;">${groupTitle}</h3>
                    <span style="font-size: 0.85rem; font-weight: 700; color: #666; font-family: 'Roboto Mono', monospace; padding: 0.25rem 0.6rem; background: rgba(0, 85, 164, 0.08); border-radius: 6px;">${matches.length}</span>
                </div>
                <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(380px, 1fr)); gap: 1.25rem;">
        `;
        
        matches.forEach(match => {
            html += this._generateMatchCard(match, data);
        });
        
        html += '</div></div>';
        
        return html;
    }
    
    /**
     * Génère une carte de match détaillée
     */
    _generateMatchCard(match, data) {
        const gymnase = match.gymnase ? this.dataManager.getGymnaseById(match.gymnase) : null;
        const poule = match.poule ? this.dataManager.getPouleById(match.poule) : null;
        
        // Informations d'équipes
        const equipe1Nom = match.equipe1_nom_complet || match.equipe1_nom || 'Équipe 1';
        const equipe2Nom = match.equipe2_nom_complet || match.equipe2_nom || 'Équipe 2';
        const equipe1Num = match.equipe1_num ? `#${match.equipe1_num}` : '';
        const equipe2Num = match.equipe2_num ? `#${match.equipe2_num}` : '';
        
        // Statut et couleurs
        const statusInfo = this._getStatusInfo(match);
        
        // Genre
        const genre = match.equipe1_genre || match.equipe2_genre || 'M';
        const genreIcon = genre === 'M' ? '♂️' : '♀️';
        const genreBg = genre === 'M' ? 
            'linear-gradient(135deg, rgba(0, 123, 255, 0.08) 0%, rgba(0, 123, 255, 0.03) 100%)' :
            'linear-gradient(135deg, rgba(255, 20, 147, 0.08) 0%, rgba(255, 20, 147, 0.03) 100%)';
        
        // Pénalités
        const totalPenalties = this._getTotalPenalties(match);
        const penaltyColor = totalPenalties > 10 ? '#EF4135' : totalPenalties > 5 ? '#FF9500' : '#27AE60';
        
        // Score si disponible
        const hasScore = match.score && match.score.has_score && 
                        match.score.equipe1 !== null && match.score.equipe2 !== null;
        let scoreDisplay = '';
        if (hasScore) {
            const team1Winner = match.score.equipe1 > match.score.equipe2;
            const team2Winner = match.score.equipe2 > match.score.equipe1;
            scoreDisplay = `
                <div style="display: flex; align-items: center; gap: 0.5rem; margin-top: 0.5rem; padding: 0.5rem; background: rgba(0, 85, 164, 0.05); border-radius: 6px;">
                    <span style="font-size: 1.1rem; font-weight: 900; color: ${team1Winner ? '#FFD700' : '#333'}; font-family: 'Roboto Mono', monospace;">${match.score.equipe1}</span>
                    <span style="font-size: 0.8rem; color: #999;">-</span>
                    <span style="font-size: 1.1rem; font-weight: 900; color: ${team2Winner ? '#FFD700' : '#333'}; font-family: 'Roboto Mono', monospace;">${match.score.equipe2}</span>
                    ${team1Winner || team2Winner ? '<span style="font-size: 1rem; margin-left: 0.25rem;">🏆</span>' : ''}
                </div>
            `;
        }
        
        return `
            <div class="match-card-detailed" data-match-id="${match.match_id}" style="background: white; border: 2px solid ${statusInfo.borderColor}; border-radius: 12px; padding: 1.25rem; box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08); transition: all 0.2s ease; cursor: pointer; position: relative; overflow: hidden;">
                
                <!-- Badge de statut -->
                <div style="position: absolute; top: 0; right: 0; padding: 0.4rem 0.8rem; background: ${statusInfo.bgColor}; color: white; font-size: 0.7rem; font-weight: 800; text-transform: uppercase; letter-spacing: 0.05em; border-bottom-left-radius: 8px; font-family: 'Roboto', sans-serif; box-shadow: -2px 2px 6px rgba(0, 0, 0, 0.1);">
                    ${statusInfo.icon} ${statusInfo.label}
                </div>
                
                <!-- En-tête -->
                <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 1rem; padding-right: 4rem;">
                    <div>
                        ${match.semaine ? `
                        <div style="font-size: 0.8rem; font-weight: 800; color: #0055A4; font-family: 'Roboto Mono', monospace; background: rgba(0, 85, 164, 0.08); padding: 0.25rem 0.6rem; border-radius: 6px; display: inline-block; margin-bottom: 0.5rem;">
                            SEMAINE ${match.semaine}
                        </div>
                        ` : ''}
                        ${this.showPoolInfo && poule ? `
                        <div style="font-size: 0.75rem; color: #666; font-family: 'Roboto', sans-serif; margin-top: 0.25rem;">
                            <span style="font-weight: 700;">${poule.nom}</span>
                            ${poule.niveau ? ` • Niveau ${poule.niveau}` : ''}
                        </div>
                        ` : ''}
                    </div>
                    <div style="text-align: right;">
                        <span style="font-size: 1.5rem;">${genreIcon}</span>
                        ${totalPenalties > 0 ? `
                        <div style="font-size: 0.75rem; font-weight: 900; color: ${penaltyColor}; font-family: 'Roboto Mono', monospace; margin-top: 0.25rem;">
                            ⚠️ ${totalPenalties.toFixed(1)}
                        </div>
                        ` : ''}
                    </div>
                </div>
                
                <!-- Corps: Équipes -->
                <div style="background: ${genreBg}; border-radius: 10px; padding: 1rem; margin-bottom: 1rem;">
                    <div style="display: flex; align-items: center; justify-content: space-between; gap: 1rem;">
                        <!-- Équipe 1 -->
                        <div style="flex: 1; text-align: left;">
                            <div style="display: flex; align-items: center; gap: 0.4rem; margin-bottom: 0.25rem;">
                                ${equipe1Num ? `<span style="font-size: 0.65rem; font-weight: 800; background: rgba(0, 85, 164, 0.15); padding: 0.15rem 0.4rem; border-radius: 4px; font-family: 'Roboto Mono', monospace; color: #0055A4;">${equipe1Num}</span>` : ''}
                                <span style="font-size: 0.95rem; font-weight: 800; color: #0055A4; font-family: 'Inter', 'Roboto', sans-serif;">${equipe1Nom}</span>
                            </div>
                            ${match.equipe1_institution ? `
                            <div style="font-size: 0.7rem; color: #666; font-family: 'Roboto', sans-serif;">
                                ${match.equipe1_institution}
                            </div>
                            ` : ''}
                            ${this._getPreferredTimeBadge(match.equipe1_horaires_preferes, match.horaire)}
                        </div>
                        
                        <!-- VS -->
                        <div style="flex-shrink: 0;">
                            <div style="display: inline-flex; align-items: center; justify-content: center; width: 40px; height: 40px; background: white; border: 2px solid rgba(0, 85, 164, 0.2); border-radius: 50%; font-size: 0.7rem; font-weight: 900; color: #0055A4; box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1); font-family: 'Roboto', sans-serif;">
                                VS
                            </div>
                        </div>
                        
                        <!-- Équipe 2 -->
                        <div style="flex: 1; text-align: right;">
                            <div style="display: flex; align-items: center; gap: 0.4rem; justify-content: flex-end; margin-bottom: 0.25rem;">
                                <span style="font-size: 0.95rem; font-weight: 800; color: #0055A4; font-family: 'Inter', 'Roboto', sans-serif;">${equipe2Nom}</span>
                                ${equipe2Num ? `<span style="font-size: 0.65rem; font-weight: 800; background: rgba(0, 85, 164, 0.15); padding: 0.15rem 0.4rem; border-radius: 4px; font-family: 'Roboto Mono', monospace; color: #0055A4;">${equipe2Num}</span>` : ''}
                            </div>
                            ${match.equipe2_institution ? `
                            <div style="font-size: 0.7rem; color: #666; font-family: 'Roboto', sans-serif;">
                                ${match.equipe2_institution}
                            </div>
                            ` : ''}
                            <div style="display: flex; justify-content: flex-end;">
                                ${this._getPreferredTimeBadge(match.equipe2_horaires_preferes, match.horaire)}
                            </div>
                        </div>
                    </div>
                    ${scoreDisplay}
                </div>
                
                <!-- Informations de planification -->
                ${match.gymnase || match.horaire || match.jour ? `
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 0.75rem; margin-bottom: ${this.showPenalties && totalPenalties > 0 ? '1rem' : '0'};">
                    ${match.gymnase ? `
                    <div style="display: flex; align-items: center; gap: 0.4rem; padding: 0.5rem 0.75rem; background: rgba(0, 85, 164, 0.06); border-radius: 8px; border: 1px solid rgba(0, 85, 164, 0.1);">
                        <span style="font-size: 0.9rem;">📍</span>
                        <div style="flex: 1; min-width: 0;">
                            <div style="font-size: 0.65rem; font-weight: 700; text-transform: uppercase; color: #999; font-family: 'Roboto', sans-serif; letter-spacing: 0.05em;">Gymnase</div>
                            <div style="font-size: 0.8rem; font-weight: 700; color: #333; font-family: 'Roboto', sans-serif; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;" title="${gymnase?.nom || match.gymnase}">${gymnase?.nom || match.gymnase}</div>
                        </div>
                    </div>
                    ` : ''}
                    ${match.jour ? `
                    <div style="display: flex; align-items: center; gap: 0.4rem; padding: 0.5rem 0.75rem; background: rgba(0, 85, 164, 0.06); border-radius: 8px; border: 1px solid rgba(0, 85, 164, 0.1);">
                        <span style="font-size: 0.9rem;">📅</span>
                        <div style="flex: 1;">
                            <div style="font-size: 0.65rem; font-weight: 700; text-transform: uppercase; color: #999; font-family: 'Roboto', sans-serif; letter-spacing: 0.05em;">Jour</div>
                            <div style="font-size: 0.8rem; font-weight: 700; color: #333; font-family: 'Roboto', sans-serif;">${match.jour}</div>
                        </div>
                    </div>
                    ` : ''}
                    ${match.horaire ? `
                    <div style="display: flex; align-items: center; gap: 0.4rem; padding: 0.5rem 0.75rem; background: rgba(0, 85, 164, 0.06); border-radius: 8px; border: 1px solid rgba(0, 85, 164, 0.1);">
                        <span style="font-size: 0.9rem;">🕒</span>
                        <div style="flex: 1;">
                            <div style="font-size: 0.65rem; font-weight: 700; text-transform: uppercase; color: #999; font-family: 'Roboto', sans-serif; letter-spacing: 0.05em;">Horaire</div>
                            <div style="font-size: 0.8rem; font-weight: 900; color: #333; font-family: 'Roboto Mono', monospace;">${match.horaire}</div>
                        </div>
                    </div>
                    ` : ''}
                </div>
                ` : ''}
                
                <!-- Pénalités détaillées -->
                ${this.showPenalties && totalPenalties > 0 ? this._generatePenaltiesDetail(match.penalties) : ''}
            </div>
        `;
    }
    
    /**
     * Retourne les informations de statut pour un match
     */
    _getStatusInfo(match) {
        switch (match.status) {
            case 'fixed':
                return {
                    label: 'Fixé',
                    icon: '🔒',
                    bgColor: '#8A2BE2',
                    borderColor: 'rgba(138, 43, 226, 0.3)'
                };
            case 'scheduled':
                return {
                    label: 'Planifié',
                    icon: '✅',
                    bgColor: '#27AE60',
                    borderColor: 'rgba(39, 174, 96, 0.3)'
                };
            case 'entente':
                return {
                    label: 'Entente',
                    icon: '🤝',
                    bgColor: '#FF9500',
                    borderColor: 'rgba(255, 149, 0, 0.3)'
                };
            case 'unscheduled':
            default:
                return {
                    label: 'Non planifié',
                    icon: '❌',
                    bgColor: '#EF4135',
                    borderColor: 'rgba(239, 65, 53, 0.3)'
                };
        }
    }
    
    /**
     * Génère le badge d'horaire préféré pour une équipe
     * URGENT (rouge) si le match démarre AVANT l'horaire préféré
     * INFO (orange) si le match démarre APRÈS l'horaire préféré
     * Affiche aussi pour les matchs non planifiés/ententes
     */
    _getPreferredTimeBadge(preferredTimes, matchTime) {
        if (!preferredTimes || preferredTimes.length === 0) {
            return '';
        }
        
        // Pour les matchs non planifiés/ententes, afficher simplement l'horaire préféré
        if (!matchTime) {
            const prefTime = preferredTimes[0];
            return `
                <div style="display: inline-flex; align-items: center; gap: 0.3rem; padding: 0.25rem 0.5rem; background: rgba(0, 85, 164, 0.1); border: 1px solid rgba(0, 85, 164, 0.25); border-radius: 6px; margin-top: 0.3rem;">
                    <span style="font-size: 0.7rem;">🕒</span>
                    <span style="font-size: 0.7rem; font-weight: 700; color: #0055A4; font-family: 'Roboto Mono', monospace;">Préf: ${prefTime}</span>
                </div>
            `;
        }
        
        const matchMinutes = this._timeToMinutes(matchTime);
        
        // Trouver le premier horaire préféré différent de l'horaire du match
        for (const prefTime of preferredTimes) {
            if (prefTime !== matchTime) {
                const prefMinutes = this._timeToMinutes(prefTime);
                const isBefore = matchMinutes < prefMinutes; // Match démarre AVANT l'horaire préféré
                
                if (isBefore) {
                    // Match AVANT l'horaire préféré = URGENT = TRÈS VISIBLE (rouge)
                    return `
                        <div style="display: inline-flex; align-items: center; gap: 0.3rem; padding: 0.25rem 0.5rem; background: rgba(239, 65, 53, 0.15); border: 1.5px solid rgba(239, 65, 53, 0.4); border-radius: 6px; margin-top: 0.3rem;">
                            <span style="font-size: 0.7rem;">⚠️</span>
                            <span style="font-size: 0.7rem; font-weight: 900; color: #EF4135; font-family: 'Roboto Mono', monospace;">Préf: ${prefTime}</span>
                        </div>
                    `;
                } else {
                    // Match APRÈS l'horaire préféré = INFO (orange discret)
                    return `
                        <div style="display: inline-flex; align-items: center; gap: 0.3rem; padding: 0.25rem 0.5rem; background: rgba(255, 149, 0, 0.1); border: 1px solid rgba(255, 149, 0, 0.25); border-radius: 6px; margin-top: 0.3rem;">
                            <span style="font-size: 0.7rem;">⏰</span>
                            <span style="font-size: 0.7rem; font-weight: 700; color: #FF9500; font-family: 'Roboto Mono', monospace;">Préf: ${prefTime}</span>
                        </div>
                    `;
                }
            }
        }
        
        return '';
    }
    
    /**
     * Convertit un horaire "HH:MM" en minutes depuis minuit
     */
    _timeToMinutes(timeStr) {
        if (!timeStr) return 0;
        const [hours, minutes] = timeStr.split(':').map(Number);
        return hours * 60 + (minutes || 0);
    }
    
    /**
     * Génère le détail des pénalités
     */
    _generatePenaltiesDetail(penalties) {
        if (!penalties) return '';
        
        const items = Object.entries(penalties)
            .filter(([key, value]) => value > 0 && key !== 'total')
            .sort((a, b) => b[1] - a[1])
            .slice(0, 5); // Top 5
        
        if (items.length === 0) return '';
        
        let html = `
            <div style="background: rgba(255, 149, 0, 0.05); border: 1px solid rgba(255, 149, 0, 0.15); border-radius: 8px; padding: 0.75rem;">
                <div style="font-size: 0.75rem; font-weight: 800; text-transform: uppercase; color: #FF9500; margin-bottom: 0.5rem; font-family: 'Roboto', sans-serif; letter-spacing: 0.05em;">
                    ⚠️ Pénalités détaillées
                </div>
                <div style="display: grid; gap: 0.4rem;">
        `;
        
        items.forEach(([type, value]) => {
            const label = this._getPenaltyLabel(type);
            html += `
                <div style="display: flex; justify-content: space-between; align-items: center; font-size: 0.75rem; padding: 0.25rem 0.5rem; background: white; border-radius: 4px;">
                    <span style="color: #666; font-family: 'Roboto', sans-serif;">${label}</span>
                    <span style="font-weight: 900; color: #FF9500; font-family: 'Roboto Mono', monospace;">${value.toFixed(1)}</span>
                </div>
            `;
        });
        
        html += '</div></div>';
        
        return html;
    }
    
    /**
     * Obtient le label d'un type de pénalité
     */
    _getPenaltyLabel(type) {
        const labels = {
            'consecutive_home': 'Domicile consécutif',
            'consecutive_away': 'Extérieur consécutif',
            'same_day': 'Même jour',
            'unavailable_slot': 'Créneau indisponible',
            'capacity': 'Capacité dépassée',
            'institution_conflict': 'Conflit établissement',
            'time_preference': 'Horaire non préféré',
            'venue_preference': 'Lieu non préféré',
            'rest_weeks': 'Semaines de repos',
            'entente': 'Entente non planifiée'
        };
        
        return labels[type] || type;
    }
    
    /**
     * Attache les event listeners
     */
    _attachEventListeners() {
        // Hover sur les cartes
        const matchCards = this.container.querySelectorAll('.match-card-detailed');
        matchCards.forEach(card => {
            card.addEventListener('mouseenter', (e) => {
                e.currentTarget.style.transform = 'translateY(-4px)';
                e.currentTarget.style.boxShadow = '0 6px 20px rgba(0, 0, 0, 0.15)';
            });
            
            card.addEventListener('mouseleave', (e) => {
                e.currentTarget.style.transform = 'translateY(0)';
                e.currentTarget.style.boxShadow = '0 3px 10px rgba(0, 0, 0, 0.08)';
            });
            
            // Double-clic pour éditer
            card.addEventListener('dblclick', (e) => {
                const matchId = e.currentTarget.dataset.matchId;
                // TODO: Ouvrir modal d'édition
                console.log('Éditer match:', matchId);
            });
        });
    }
    
    /**
     * Nettoie la vue
     */
    destroy() {
        this.container.innerHTML = '';
    }
}

// Export pour utilisation
if (typeof window !== 'undefined') {
    window.MatchesView = MatchesView;
}


// views/penalties-view.js
/**
 * Vue Pénalités - Affichage et analyse de la décomposition des pénalités
 * 
 * Affiche une décomposition complète du score avec :
 * - Visualisation graphique (graphiques circulaires/barres)
 * - Tableau récapitulatif par catégorie
 * - Détails par match
 * - Export des données
 */

class PenaltiesView {
    constructor(dataManager, container) {
        this.dataManager = dataManager;
        this.container = container;
        this.data = dataManager.getData();
        this.breakdown = this.data.metadata?.penalty_breakdown || null;
    }
    
    /**
     * Initialise la vue
     */
    init() {
        if (!this.breakdown) {
            this._showNoDataMessage();
            return;
        }
        
        this.render();
    }
    
    _showNoDataMessage() {
        this.container.innerHTML = `
            <div style="padding: 40px; text-align: center; color: #666;">
                <div style="font-size: 48px; margin-bottom: 20px;">📊</div>
                <h2 style="margin-bottom: 10px;">Décomposition des Pénalités Non Disponible</h2>
                <p>Cette solution a été générée sans calcul de décomposition des pénalités.</p>
                <p style="margin-top: 20px; font-size: 14px; color: #999;">
                    Relancez la résolution pour obtenir les détails des pénalités.
                </p>
            </div>
        `;
    }
    
    render() {
        const html = `
            <div class="penalties-view">
                ${this._renderHeader()}
                ${this._renderSummaryCards()}
                ${this._renderCharts()}
                ${this._renderDetailedBreakdown()}
            </div>
        `;
        
        this.container.innerHTML = html;
        this._attachEventListeners();
    }
    
    _renderHeader() {
        const score = this.breakdown.score_total;
        const scoreClass = score < 0 ? 'excellent' : score < 100 ? 'good' : score < 1000 ? 'average' : 'poor';
        const scoreLabel = score < 0 ? 'Excellente' : score < 100 ? 'Bonne' : score < 1000 ? 'Moyenne' : 'Problématique';
        
        return `
            <div class="penalties-header">
                <div class="score-display ${scoreClass}">
                    <div class="score-label">Score Total</div>
                    <div class="score-value">${score.toFixed(2)}</div>
                    <div class="score-quality">${scoreLabel}</div>
                </div>
                
                <div class="score-info">
                    <h2>📊 Décomposition des Pénalités</h2>
                    <p>Analyse détaillée du score de la solution</p>
                    <div class="score-legend">
                        <div class="legend-item">
                            <span class="legend-color" style="background: #4caf50"></span>
                            <span>Bonus (valeurs négatives)</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-color" style="background: #f44336"></span>
                            <span>Pénalités (valeurs positives)</span>
                        </div>
                    </div>
                </div>
                
                <div class="actions">
                    <button class="btn-export" onclick="penaltiesView._exportBreakdown()">
                        📥 Exporter Décomposition
                    </button>
                    <button class="btn-export" onclick="penaltiesView._exportDetailedCSV()">
                        📊 Exporter CSV Détaillé
                    </button>
                </div>
            </div>
        `;
    }
    
    _renderSummaryCards() {
        const {contraintes_dures, preferences_gymnases, niveau_gymnases, 
               horaires_preferes, compaction_temporelle} = this.breakdown;
        
        const cards = [
            {
                title: 'Contraintes Dures',
                icon: '🚫',
                value: contraintes_dures.indisponibilite.penalty + contraintes_dures.capacite.penalty,
                color: contraintes_dures.indisponibilite.violations + contraintes_dures.capacite.violations > 0 ? '#f44336' : '#4caf50',
                details: `${contraintes_dures.indisponibilite.violations + contraintes_dures.capacite.violations} violation(s)`
            },
            {
                title: 'Préférences Gymnases',
                icon: '🏟️',
                value: preferences_gymnases.bonus_total,
                color: preferences_gymnases.bonus_total < 0 ? '#4caf50' : '#ff9800',
                details: `${preferences_gymnases.matchs_en_gymnases_preferes} match(s) en gymnases préférés`
            },
            {
                title: 'Niveau Gymnases',
                icon: '🏆',
                value: niveau_gymnases.bonus_total + niveau_gymnases.penalty_total,
                color: (niveau_gymnases.bonus_total + niveau_gymnases.penalty_total) < 0 ? '#4caf50' : '#ff9800',
                details: `${niveau_gymnases.matchs_bien_assignes} bien assignés, ${niveau_gymnases.matchs_mal_assignes} mal assignés`
            },
            {
                title: 'Horaires Préférés',
                icon: '⏰',
                value: horaires_preferes.matchs_apres.penalty + 
                       horaires_preferes.matchs_avant_1_equipe.penalty + 
                       horaires_preferes.matchs_avant_2_equipes.penalty,
                color: horaires_preferes.matchs_ok > (horaires_preferes.matchs_apres.count + 
                       horaires_preferes.matchs_avant_1_equipe.count + 
                       horaires_preferes.matchs_avant_2_equipes.count) ? '#4caf50' : '#ff9800',
                details: `${horaires_preferes.matchs_ok} OK, ${horaires_preferes.matchs_avant_2_equipes.count} urgents`
            },
            {
                title: 'Compaction Temporelle',
                icon: '📅',
                value: compaction_temporelle.penalty_total,
                color: compaction_temporelle.penalty_total < 50 ? '#4caf50' : '#ff9800',
                details: `${Object.keys(compaction_temporelle.par_semaine).length} semaines utilisées`
            }
        ];
        
        return `
            <div class="summary-cards">
                ${cards.map(card => `
                    <div class="summary-card" style="border-left: 4px solid ${card.color}">
                        <div class="card-icon">${card.icon}</div>
                        <div class="card-content">
                            <div class="card-title">${card.title}</div>
                            <div class="card-value" style="color: ${card.color}">
                                ${card.value >= 0 ? '+' : ''}${card.value.toFixed(1)}
                            </div>
                            <div class="card-details">${card.details}</div>
                        </div>
                    </div>
                `).join('')}
            </div>
        `;
    }
    
    _renderCharts() {
        return `
            <div class="charts-section">
                <div class="chart-container">
                    <h3>Répartition des Pénalités par Catégorie</h3>
                    <canvas id="penaltiesChart"></canvas>
                </div>
                <div class="chart-container">
                    <h3>Bonus vs Pénalités</h3>
                    <canvas id="bonusVsPenaltiesChart"></canvas>
                </div>
            </div>
        `;
    }
    
    _renderDetailedBreakdown() {
        return `
            <div class="detailed-breakdown">
                <h3>📋 Décomposition Détaillée</h3>
                
                <div class="breakdown-section">
                    <h4>🚫 Contraintes Dures</h4>
                    ${this._renderHardConstraints()}
                </div>
                
                <div class="breakdown-section">
                    <h4>🏟️ Préférences et Niveau de Gymnases</h4>
                    ${this._renderGymPreferences()}
                </div>
                
                <div class="breakdown-section">
                    <h4>⏰ Horaires Préférés</h4>
                    ${this._renderTimePreferences()}
                </div>
                
                <div class="breakdown-section">
                    <h4>📅 Compaction Temporelle</h4>
                    ${this._renderCompaction()}
                </div>
                
                <div class="breakdown-section">
                    <h4>🏫 Contraintes Institutionnelles</h4>
                    ${this._renderInstitutionalConstraints()}
                </div>
            </div>
        `;
    }
    
    _renderHardConstraints() {
        const {contraintes_dures} = this.breakdown;
        
        return `
            <table class="breakdown-table">
                <tr>
                    <td>Indisponibilité équipes/institutions</td>
                    <td class="violations">${contraintes_dures.indisponibilite.violations}</td>
                    <td class="penalty ${contraintes_dures.indisponibilite.penalty > 0 ? 'negative' : 'positive'}">
                        ${contraintes_dures.indisponibilite.penalty > 0 ? '+' : ''}${contraintes_dures.indisponibilite.penalty.toFixed(2)}
                    </td>
                </tr>
                <tr>
                    <td>Capacité gymnases dépassée</td>
                    <td class="violations">${contraintes_dures.capacite.violations}</td>
                    <td class="penalty ${contraintes_dures.capacite.penalty > 0 ? 'negative' : 'positive'}">
                        ${contraintes_dures.capacite.penalty > 0 ? '+' : ''}${contraintes_dures.capacite.penalty.toFixed(2)}
                    </td>
                </tr>
            </table>
        `;
    }
    
    _renderGymPreferences() {
        const {preferences_gymnases, niveau_gymnases} = this.breakdown;
        
        return `
            <table class="breakdown-table">
                <tr>
                    <td>Matchs en gymnases préférés</td>
                    <td class="count">${preferences_gymnases.matchs_en_gymnases_preferes}</td>
                    <td class="penalty positive">
                        ${preferences_gymnases.bonus_total.toFixed(2)}
                    </td>
                </tr>
                <tr>
                    <td>Matchs bien assignés (niveau gymnase ↔ niveau match)</td>
                    <td class="count">${niveau_gymnases.matchs_bien_assignes}</td>
                    <td class="penalty positive">
                        ${niveau_gymnases.bonus_total.toFixed(2)}
                    </td>
                </tr>
                <tr>
                    <td>Matchs mal assignés (niveau gymnase ↔ niveau match)</td>
                    <td class="count">${niveau_gymnases.matchs_mal_assignes}</td>
                    <td class="penalty negative">
                        +${niveau_gymnases.penalty_total.toFixed(2)}
                    </td>
                </tr>
            </table>
        `;
    }
    
    _renderTimePreferences() {
        const {horaires_preferes} = this.breakdown;
        
        return `
            <table class="breakdown-table">
                <tr>
                    <td>✅ Matchs dans horaire préféré (ou tolérance)</td>
                    <td class="count">${horaires_preferes.matchs_ok}</td>
                    <td class="penalty positive">0.00</td>
                </tr>
                <tr>
                    <td>🟡 Matchs après horaire préféré</td>
                    <td class="count">${horaires_preferes.matchs_apres.count}</td>
                    <td class="penalty negative">
                        +${horaires_preferes.matchs_apres.penalty.toFixed(2)}
                    </td>
                </tr>
                <tr>
                    <td>🟠 Matchs avant horaire préféré (1 équipe)</td>
                    <td class="count">${horaires_preferes.matchs_avant_1_equipe.count}</td>
                    <td class="penalty negative">
                        +${horaires_preferes.matchs_avant_1_equipe.penalty.toFixed(2)}
                    </td>
                </tr>
                <tr>
                    <td>🔴 Matchs avant horaire préféré (2 équipes)</td>
                    <td class="count">${horaires_preferes.matchs_avant_2_equipes.count}</td>
                    <td class="penalty negative">
                        +${horaires_preferes.matchs_avant_2_equipes.penalty.toFixed(2)}
                    </td>
                </tr>
            </table>
        `;
    }
    
    _renderCompaction() {
        const {compaction_temporelle} = this.breakdown;
        const weeks = Object.entries(compaction_temporelle.par_semaine)
            .sort((a, b) => parseInt(a[0]) - parseInt(b[0]));
        
        return `
            <table class="breakdown-table">
                <thead>
                    <tr>
                        <th>Semaine</th>
                        <th>Nb Matchs</th>
                        <th>Pénalité</th>
                    </tr>
                </thead>
                <tbody>
                    ${weeks.map(([week, data]) => `
                        <tr>
                            <td>Semaine ${week}</td>
                            <td class="count">${data.nb_matchs}</td>
                            <td class="penalty ${data.penalty > 0 ? 'negative' : 'positive'}">
                                ${data.penalty > 0 ? '+' : ''}${data.penalty.toFixed(2)}
                            </td>
                        </tr>
                    `).join('')}
                    <tr class="total-row">
                        <td colspan="2"><strong>Total Compaction</strong></td>
                        <td class="penalty negative">
                            <strong>+${compaction_temporelle.penalty_total.toFixed(2)}</strong>
                        </td>
                    </tr>
                </tbody>
            </table>
        `;
    }
    
    _renderInstitutionalConstraints() {
        const {contraintes_institutionnelles} = this.breakdown;
        
        return `
            <table class="breakdown-table">
                <tr>
                    <td>Overlaps institution (matchs simultanés)</td>
                    <td class="violations">${contraintes_institutionnelles.overlaps.count}</td>
                    <td class="penalty ${contraintes_institutionnelles.overlaps.penalty > 0 ? 'negative' : 'positive'}">
                        ${contraintes_institutionnelles.overlaps.penalty > 0 ? '+' : ''}${contraintes_institutionnelles.overlaps.penalty.toFixed(2)}
                    </td>
                </tr>
                <tr>
                    <td>Ententes planifiées</td>
                    <td class="count">${contraintes_institutionnelles.ententes.planifiees}</td>
                    <td class="penalty positive">0.00</td>
                </tr>
                <tr>
                    <td>Ententes non planifiées</td>
                    <td class="violations">${contraintes_institutionnelles.ententes.non_planifiees}</td>
                    <td class="penalty negative">
                        +${contraintes_institutionnelles.ententes.penalty.toFixed(2)}
                    </td>
                </tr>
            </table>
        `;
    }
    
    _attachEventListeners() {
        // Initialiser les graphiques après un court délai (pour que le DOM soit prêt)
        setTimeout(() => this._initializeCharts(), 100);
    }
    
    _initializeCharts() {
        // Note: Nécessite Chart.js - à charger dans index.html
        if (typeof Chart === 'undefined') {
            console.warn('Chart.js non chargé, graphiques non disponibles');
            return;
        }
        
        this._createPenaltiesChart();
        this._createBonusVsPenaltiesChart();
    }
    
    _createPenaltiesChart() {
        const ctx = document.getElementById('penaltiesChart');
        if (!ctx) return;
        
        // Préparer les données
        const labels = [];
        const values = [];
        const colors = [];
        
        const categories = this._getCategoriesWithValues();
        categories.forEach(cat => {
            labels.push(cat.label);
            values.push(Math.abs(cat.value));
            colors.push(cat.value < 0 ? '#4caf50' : '#f44336');
        });
        
        new Chart(ctx, {
            type: 'bar',
            data: {
                labels: labels,
                datasets: [{
                    label: 'Valeur Absolue',
                    data: values,
                    backgroundColor: colors
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {display: false},
                    title: {
                        display: false
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });
    }
    
    _createBonusVsPenaltiesChart() {
        const ctx = document.getElementById('bonusVsPenaltiesChart');
        if (!ctx) return;
        
        const categories = this._getCategoriesWithValues();
        const totalBonus = categories.filter(c => c.value < 0).reduce((sum, c) => sum + Math.abs(c.value), 0);
        const totalPenalties = categories.filter(c => c.value > 0).reduce((sum, c) => sum + c.value, 0);
        
        new Chart(ctx, {
            type: 'pie',
            data: {
                labels: ['Bonus', 'Pénalités'],
                datasets: [{
                    data: [totalBonus, totalPenalties],
                    backgroundColor: ['#4caf50', '#f44336']
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom'
                    }
                }
            }
        });
    }
    
    _getCategoriesWithValues() {
        const {contraintes_dures, preferences_gymnases, niveau_gymnases,
               horaires_preferes, espacement_repos, compaction_temporelle,
               contraintes_institutionnelles, contraintes_temporelles, aller_retour,
               equilibrage_charge} = this.breakdown;
        
        return [
            {label: 'Indisponibilité', value: contraintes_dures.indisponibilite.penalty},
            {label: 'Capacité', value: contraintes_dures.capacite.penalty},
            {label: 'Préf. Gymnases', value: preferences_gymnases.bonus_total},
            {label: 'Niveau Gymnases', value: niveau_gymnases.bonus_total + niveau_gymnases.penalty_total},
            {label: 'Horaires', value: horaires_preferes.matchs_apres.penalty + 
                                       horaires_preferes.matchs_avant_1_equipe.penalty +
                                       horaires_preferes.matchs_avant_2_equipes.penalty},
            {label: 'Espacement', value: espacement_repos.penalty},
            {label: 'Compaction', value: compaction_temporelle.penalty_total},
            {label: 'Overlaps', value: contraintes_institutionnelles.overlaps.penalty},
            {label: 'Ententes', value: contraintes_institutionnelles.ententes.penalty},
            {label: 'Contraintes Temp.', value: contraintes_temporelles.penalty},
            {label: 'Aller-Retour', value: aller_retour.meme_semaine.penalty + aller_retour.consecutives.penalty},
            {label: 'Équilibrage', value: equilibrage_charge.penalty}
        ].filter(cat => cat.value !== 0);
    }
    
    _exportBreakdown() {
        const json = JSON.stringify(this.breakdown, null, 2);
        const blob = new Blob([json], {type: 'application/json'});
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = `penalty_breakdown_${new Date().toISOString().slice(0,10)}.json`;
        a.click();
        URL.revokeObjectURL(url);
    }
    
    _exportDetailedCSV() {
        // Export CSV avec ligne par catégorie de pénalité
        const rows = [
            ['Catégorie', 'Sous-catégorie', 'Count/Violations', 'Valeur']
        ];
        
        const {contraintes_dures, preferences_gymnases, niveau_gymnases,
               horaires_preferes, compaction_temporelle, contraintes_institutionnelles} = this.breakdown;
        
        // Contraintes dures
        rows.push(['Contraintes Dures', 'Indisponibilité', contraintes_dures.indisponibilite.violations, contraintes_dures.indisponibilite.penalty]);
        rows.push(['Contraintes Dures', 'Capacité', contraintes_dures.capacite.violations, contraintes_dures.capacite.penalty]);
        
        // Préférences gymnases
        rows.push(['Préférences Gymnases', 'Matchs préférés', preferences_gymnases.matchs_en_gymnases_preferes, preferences_gymnases.bonus_total]);
        
        // Niveau gymnases
        rows.push(['Niveau Gymnases', 'Bien assignés', niveau_gymnases.matchs_bien_assignes, niveau_gymnases.bonus_total]);
        rows.push(['Niveau Gymnases', 'Mal assignés', niveau_gymnases.matchs_mal_assignes, niveau_gymnases.penalty_total]);
        
        // Horaires
        rows.push(['Horaires Préférés', 'OK', horaires_preferes.matchs_ok, 0]);
        rows.push(['Horaires Préférés', 'Après', horaires_preferes.matchs_apres.count, horaires_preferes.matchs_apres.penalty]);
        rows.push(['Horaires Préférés', 'Avant 1 eq', horaires_preferes.matchs_avant_1_equipe.count, horaires_preferes.matchs_avant_1_equipe.penalty]);
        rows.push(['Horaires Préférés', 'Avant 2 eq', horaires_preferes.matchs_avant_2_equipes.count, horaires_preferes.matchs_avant_2_equipes.penalty]);
        
        // Compaction
        Object.entries(compaction_temporelle.par_semaine).forEach(([week, data]) => {
            rows.push(['Compaction', `Semaine ${week}`, data.nb_matchs, data.penalty]);
        });
        
        // Institutions
        rows.push(['Institutions', 'Overlaps', contraintes_institutionnelles.overlaps.count, contraintes_institutionnelles.overlaps.penalty]);
        rows.push(['Institutions', 'Ententes planifiées', contraintes_institutionnelles.ententes.planifiees, 0]);
        rows.push(['Institutions', 'Ententes non planifiées', contraintes_institutionnelles.ententes.non_planifiees, contraintes_institutionnelles.ententes.penalty]);
        
        const csv = rows.map(row => row.join(',')).join('\n');
        const blob = new Blob([csv], {type: 'text/csv'});
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = `penalties_detailed_${new Date().toISOString().slice(0,10)}.csv`;
        a.click();
        URL.revokeObjectURL(url);
    }
}

// Variable globale pour accès aux exports
let penaltiesView;


// app.js
/**
 * app.js - Initialisation principale de l'application
 * 
 * Coordonne tous les composants et gère l'initialisation.
 */

document.addEventListener('DOMContentLoaded', () => {
    initializeApp();
});

/**
 * Point d'entrée de l'application.
 */
function initializeApp() {
    try {
        loadSavedTheme();
        loadSavedPalette();

        const solutionData = loadSolutionData();
        if (!solutionData) return;

        initializeManagers(solutionData);
        initializeViews();
        initializeViewOptions();
        initializeFilters();
        
        setupEventListeners();
        
        updateStatistics();
        switchView('pools');

    } catch (error) {
        showError(`Erreur critique d'initialisation: ${error.message}`);
        console.error(error);
    }
}

/**
 * Charge les données de la solution depuis le DOM.
 * @returns {object|null} Les données de la solution ou null en cas d'erreur.
 */
function loadSolutionData() {
    const solutionDataElement = document.getElementById('solution-data');
    if (!solutionDataElement) {
        showError('Impossible de trouver les données du calendrier.');
        return null;
    }
    try {
        return JSON.parse(solutionDataElement.textContent);
    } catch (error) {
        showError('Format de données JSON invalide.');
        return null;
    }
}

/**
 * Initialise les managers globaux (données, modifications, options).
 */
function initializeManagers(solutionData) {
    const solutionName = solutionData.metadata?.solution_name || 'unknown';
    
    window.dataManager = new DataManager(solutionData);
    window.modificationManager = new ModificationManager(solutionName);
    window.viewOptionsManager = new ViewOptionsManager(document.getElementById('view-options-container'));

    // Abonnements pour les mises à jour automatiques
    window.dataManager.subscribe('matches', updateStatistics);
    window.modificationManager.subscribe(updateStatistics);
}

/**
 * Initialise les instances de chaque vue (Agenda, Poules, etc.).
 */
function initializeViews() {
    const viewConfigs = [
        { name: 'agenda', constructor: 'AgendaView', containerId: 'agenda-view' },
        { name: 'pools', constructor: 'PoolsView', containerId: 'pools-view' },
        { name: 'matches', constructor: 'MatchesView', containerId: 'matches-view' },
        { name: 'penalties', constructor: 'PenaltiesView', containerId: 'penalties-view' }
    ];

    viewConfigs.forEach(config => {
        const container = document.getElementById(config.containerId);
        if (window[config.constructor] && container) {
            const viewInstance = new window[config.constructor](window.dataManager, container);
            if (typeof viewInstance.init === 'function') {
                viewInstance.init();
            }
            window[`${config.name}View`] = viewInstance;
        } else {
            console.warn(`Vue ${config.name} ou son conteneur non trouvé.`);
        }
    });
}

/**
 * Enregistre les vues auprès du gestionnaire d'options.
 */
function initializeViewOptions() {
    if (window.agendaView) {
        window.viewOptionsManager.registerView('agenda', window.agendaView);
    }
    if (window.poolsView) {
        window.viewOptionsManager.registerView('pools', window.poolsView);
    }
    if (window.matchesView) {
        window.viewOptionsManager.registerView('matches', window.matchesView);
    }
    // Enregistrer d'autres vues ici à l'avenir...
}

/**
 * Initialise le panneau de filtres.
 */
function initializeFilters() {
    // Initialiser le système de filtres amélioré
    if (window.filterSystem && typeof window.filterSystem.init === 'function') {
        window.filterSystem.init();
    }

    // Initialiser le panneau de filtres (legacy)
    const filtersContainer = document.querySelector('.filters-container');
    if (!filtersContainer || !window.FilterPanel) return;

    window.filterPanel = new FilterPanel(window.dataManager, filtersContainer);
    window.filterPanel.onChange((filters) => {
        // Appliquer les filtres à toutes les vues enregistrées
        ['agendaView', 'poolsView', 'matchesView'].forEach(viewName => {
            if (window[viewName] && typeof window[viewName].setFilters === 'function') {
                window[viewName].setFilters(filters);
            } else if (window[viewName] && typeof window[viewName].updateFilters === 'function') {
                window[viewName].updateFilters(filters);
            }
        });
    });
}

/**
 * Met à jour les indicateurs statistiques dans l'en-tête.
 */
function updateStatistics() {
    if (!window.dataManager) return;
    const data = window.dataManager.getData();
    
    const stats = {
        'stat-scheduled': data.matches.scheduled.length,
        'stat-unscheduled': data.matches.unscheduled.length,
        'stat-weeks': new Set(data.matches.scheduled.map(m => m.semaine).filter(Boolean)).size,
        'stat-pools': data.entities.poules.length,
        'stat-venues': data.entities.gymnases.length,
        'stat-modifications': window.modificationManager ? window.modificationManager.getModificationCount() : 0
    };

    for (const [id, value] of Object.entries(stats)) {
        const element = document.getElementById(id);
        if (element) element.textContent = value;
    }
}

/**
 * Configure les écouteurs d'événements globaux de l'interface.
 */
function setupEventListeners() {
    // Navigation entre les vues
    document.querySelectorAll('.view-btn').forEach(btn => {
        btn.addEventListener('click', () => switchView(btn.dataset.view));
    });

    // Actions de la barre d'outils
    const exportBtn = document.getElementById('btn-export-modifications');
    if (exportBtn) exportBtn.addEventListener('click', openExportModal);

    const resetBtn = document.getElementById('btn-reset-modifications');
    if (resetBtn) {
        resetBtn.addEventListener('click', () => {
            if (confirm('Voulez-vous vraiment réinitialiser toutes les modifications ?')) {
                window.modificationManager.clearAll();
                window.dataManager.revertAllModifications();
            }
        });
    }
    
    // Gestion des boutons de thème
    setupThemeControls();
    
    // Gestion des boutons de palette
    setupPaletteControls();
    
    // Gestion du niveau d'animations (si checkbox existe)
    setupAnimationControls();
    
    // Gestion des sidebars (collapse/expand)
    setupSidebarControls();
    
    // Gestion du redimensionnement des sidebars
    setupSidebarResize();
}

/**
 * Configure les contrôles de collapse des sidebars
 */
function setupSidebarControls() {
    const btnCollapseLeft = document.getElementById('btn-collapse-left');
    const btnCollapseRight = document.getElementById('btn-collapse-right');
    const btnShowLeft = document.getElementById('btn-show-left');
    const btnShowRight = document.getElementById('btn-show-right');
    const sidebarLeft = document.querySelector('.sidebar-left');
    const sidebarRight = document.querySelector('.sidebar-right');
    
    // Fonction helper pour toggle une sidebar
    function toggleSidebar(sidebar, btnCollapse, side) {
        if (!sidebar) return;
        
        const isCollapsed = sidebar.classList.contains('collapsed');
        
        if (isCollapsed) {
            // Expand
            sidebar.classList.remove('collapsed');
            if (btnCollapse) {
                btnCollapse.querySelector('span').textContent = side === 'left' ? '◀' : '▶';
                btnCollapse.setAttribute('title', 'Réduire');
            }
        } else {
            // Collapse
            sidebar.classList.add('collapsed');
            if (btnCollapse) {
                btnCollapse.querySelector('span').textContent = side === 'left' ? '▶' : '◀';
                btnCollapse.setAttribute('title', 'Développer');
            }
        }
        
        // Sauvegarder l'état
        localStorage.setItem(`sidebar-${side}-collapsed`, !isCollapsed);
        
        // Mettre à jour le layout
        setTimeout(() => updateGridColumns(), 50);
    }
    
    // Setup sidebar gauche
    if (btnCollapseLeft && sidebarLeft) {
        btnCollapseLeft.addEventListener('click', () => {
            toggleSidebar(sidebarLeft, btnCollapseLeft, 'left');
        });
        
        // Restaurer l'état sauvegardé
        const savedStateLeft = localStorage.getItem('sidebar-left-collapsed');
        if (savedStateLeft === 'true') {
            sidebarLeft.classList.add('collapsed');
            btnCollapseLeft.querySelector('span').textContent = '▶';
            btnCollapseLeft.setAttribute('title', 'Développer');
        }
    }
    
    // Bouton pour réafficher la sidebar gauche
    if (btnShowLeft && sidebarLeft) {
        btnShowLeft.addEventListener('click', () => {
            toggleSidebar(sidebarLeft, btnCollapseLeft, 'left');
        });
    }
    
    // Setup sidebar droite
    if (btnCollapseRight && sidebarRight) {
        btnCollapseRight.addEventListener('click', () => {
            toggleSidebar(sidebarRight, btnCollapseRight, 'right');
        });
        
        // Restaurer l'état sauvegardé
        const savedStateRight = localStorage.getItem('sidebar-right-collapsed');
        if (savedStateRight === 'true') {
            sidebarRight.classList.add('collapsed');
            btnCollapseRight.querySelector('span').textContent = '◀';
            btnCollapseRight.setAttribute('title', 'Développer');
        }
    }
    
    // Bouton pour réafficher la sidebar droite
    if (btnShowRight && sidebarRight) {
        btnShowRight.addEventListener('click', () => {
            toggleSidebar(sidebarRight, btnCollapseRight, 'right');
        });
    }
    
    // Ajouter support du clavier (Ctrl+B pour gauche, Ctrl+Shift+B pour droite)
    document.addEventListener('keydown', (e) => {
        if (e.ctrlKey && e.key === 'b') {
            e.preventDefault();
            if (e.shiftKey) {
                toggleSidebar(sidebarRight, btnCollapseRight, 'right');
            } else {
                toggleSidebar(sidebarLeft, btnCollapseLeft, 'left');
            }
        }
    });
}

/**
 * Configure le redimensionnement des sidebars par drag & drop
 */
function setupSidebarResize() {
    const resizeHandleLeft = document.getElementById('resize-handle-left');
    const resizeHandleRight = document.getElementById('resize-handle-right');
    const sidebarLeft = document.querySelector('.sidebar-left');
    const sidebarRight = document.querySelector('.sidebar-right');
    
    const MIN_WIDTH = 250;
    const MAX_WIDTH = 600;
    const DEFAULT_LEFT_WIDTH = 280;
    const DEFAULT_RIGHT_WIDTH = 320;
    
    let isResizing = false;
    let currentSidebar = null;
    let currentHandle = null;
    let startX = 0;
    let startWidth = 0;
    
    // Fonction pour mettre à jour le grid layout
    function updateGridColumns() {
        const mainLayout = document.querySelector('.main-layout');
        if (!mainLayout) return;
        
        const leftWidth = sidebarLeft && !sidebarLeft.classList.contains('collapsed') 
            ? (sidebarLeft.offsetWidth || DEFAULT_LEFT_WIDTH) + 'px'
            : '0px';
        const rightWidth = sidebarRight && !sidebarRight.classList.contains('collapsed') 
            ? (sidebarRight.offsetWidth || DEFAULT_RIGHT_WIDTH) + 'px'
            : '0px';
        
        const leftHandle = leftWidth !== '0px' ? '4px' : '0px';
        const rightHandle = rightWidth !== '0px' ? '4px' : '0px';
        
        mainLayout.style.gridTemplateColumns = `${leftWidth} ${leftHandle} 1fr ${rightHandle} ${rightWidth}`;
    }
    
    // Exposer globalement pour être appelée par d'autres fonctions
    window.updateGridColumns = updateGridColumns;
    
    // Restaurer les largeurs sauvegardées
    function restoreSidebarWidths() {
        const savedLeftWidth = localStorage.getItem('sidebar-left-width');
        const savedRightWidth = localStorage.getItem('sidebar-right-width');
        
        if (sidebarLeft && savedLeftWidth) {
            const width = parseInt(savedLeftWidth);
            if (width >= MIN_WIDTH && width <= MAX_WIDTH) {
                sidebarLeft.style.width = width + 'px';
            }
        }
        
        if (sidebarRight && savedRightWidth) {
            const width = parseInt(savedRightWidth);
            if (width >= MIN_WIDTH && width <= MAX_WIDTH) {
                sidebarRight.style.width = width + 'px';
            }
        }
        
        updateGridColumns();
    }
    
    // Restaurer au chargement
    restoreSidebarWidths();
    
    // Double-clic pour reset à la largeur par défaut
    function setupDoubleClickReset(handle, sidebar, defaultWidth) {
        if (!handle || !sidebar) return;
        
        handle.addEventListener('dblclick', () => {
            sidebar.style.width = defaultWidth + 'px';
            localStorage.setItem(`sidebar-${sidebar.classList.contains('sidebar-left') ? 'left' : 'right'}-width`, defaultWidth);
            updateGridColumns();
            
            // Animation de feedback
            handle.style.transform = 'scaleX(2)';
            setTimeout(() => {
                handle.style.transform = '';
            }, 200);
        });
    }
    
    setupDoubleClickReset(resizeHandleLeft, sidebarLeft, DEFAULT_LEFT_WIDTH);
    setupDoubleClickReset(resizeHandleRight, sidebarRight, DEFAULT_RIGHT_WIDTH);
    
    // Démarrer le resize
    function startResize(e, handle, sidebar) {
        if (!sidebar || sidebar.classList.contains('collapsed')) return;
        
        isResizing = true;
        currentHandle = handle;
        currentSidebar = sidebar;
        startX = e.clientX;
        startWidth = sidebar.offsetWidth;
        
        handle.classList.add('resizing');
        document.body.classList.add('resizing');
        
        e.preventDefault();
    }
    
    // Arrêter le resize
    function stopResize() {
        if (!isResizing) return;
        
        isResizing = false;
        
        if (currentHandle) {
            currentHandle.classList.remove('resizing');
        }
        
        document.body.classList.remove('resizing');
        
        // Sauvegarder la largeur finale
        if (currentSidebar) {
            const side = currentSidebar.classList.contains('sidebar-left') ? 'left' : 'right';
            localStorage.setItem(`sidebar-${side}-width`, currentSidebar.offsetWidth);
        }
        
        currentHandle = null;
        currentSidebar = null;
    }
    
    // Effectuer le resize
    function resize(e) {
        if (!isResizing || !currentSidebar) return;
        
        const isLeft = currentSidebar.classList.contains('sidebar-left');
        const delta = isLeft ? (e.clientX - startX) : (startX - e.clientX);
        const newWidth = Math.max(MIN_WIDTH, Math.min(MAX_WIDTH, startWidth + delta));
        
        currentSidebar.style.width = newWidth + 'px';
        updateGridColumns();
    }
    
    // Event listeners pour sidebar gauche
    if (resizeHandleLeft && sidebarLeft) {
        resizeHandleLeft.addEventListener('mousedown', (e) => {
            startResize(e, resizeHandleLeft, sidebarLeft);
        });
    }
    
    // Event listeners pour sidebar droite
    if (resizeHandleRight && sidebarRight) {
        resizeHandleRight.addEventListener('mousedown', (e) => {
            startResize(e, resizeHandleRight, sidebarRight);
        });
    }
    
    // Event listeners globaux
    document.addEventListener('mousemove', resize);
    document.addEventListener('mouseup', stopResize);
    
    // Mettre à jour le layout au resize de la fenêtre
    window.addEventListener('resize', () => {
        updateGridColumns();
    });
    
    // Mettre à jour le layout après un court délai (pour laisser le temps aux animations)
    setTimeout(() => {
        updateGridColumns();
    }, 100);
}

/**
 * Bascule vers une nouvelle vue.
 * @param {string} viewName - Le nom de la vue à afficher ('agenda', 'pools', 'matches', etc.).
 */
function switchView(viewName) {
    // Met à jour l'état actif des boutons de navigation
    document.querySelectorAll('.view-btn').forEach(btn => {
        btn.classList.toggle('active', btn.dataset.view === viewName);
    });
    
    // Affiche le conteneur de la vue correspondante
    document.querySelectorAll('.view-container').forEach(container => {
        container.classList.toggle('active', container.dataset.viewContent === viewName);
    });

    // Affiche/masque le filtre de statut selon la vue
    const statusFilter = document.getElementById('filter-section-status');
    if (statusFilter) {
        statusFilter.style.display = viewName === 'matches' ? 'block' : 'none';
    }

    // Met à jour les options dans la barre latérale
    window.viewOptionsManager.switchView(viewName);

    // Déclenche le rendu de la vue activée
    const viewInstance = window[`${viewName}View`];
    if (viewInstance && typeof viewInstance.render === 'function') {
        viewInstance.render();
    }
}

/**
 * ==================== GESTION DU THÈME ET DES ANIMATIONS ====================
 */

/**
 * Configure les boutons de sélection de thème.
 */
function setupThemeControls() {
    const themeButtons = document.querySelectorAll('.theme-btn');
    
    themeButtons.forEach(btn => {
        btn.addEventListener('click', () => {
            const theme = btn.dataset.theme;
            if (theme) {
                setTheme(theme);
                
                // Mettre à jour les boutons actifs
                themeButtons.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
            }
        });
    });
}

/**
 * Configure les boutons de sélection de palette de couleurs.
 */
function setupPaletteControls() {
    const paletteButtons = document.querySelectorAll('.palette-btn');
    
    paletteButtons.forEach(btn => {
        btn.addEventListener('click', () => {
            const palette = btn.dataset.palette;
            if (palette) {
                setPalette(palette);
                
                // Mettre à jour les boutons actifs
                paletteButtons.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
            }
        });
    });
}

/**
 * Applique une palette de couleurs à l'application.
 * @param {string} palette - 'purple', 'ocean', 'sunset', ou 'forest'
 */
function setPalette(palette) {
    const html = document.documentElement;
    html.setAttribute('data-palette', palette);
    localStorage.setItem('pycalendar-palette', palette);
}

/**
 * Charge la palette depuis le localStorage au démarrage.
 */
function loadSavedPalette() {
    const savedPalette = localStorage.getItem('pycalendar-palette') || 'purple';
    setPalette(savedPalette);
    
    // Mettre à jour le bouton actif
    const activeBtn = document.querySelector(`.palette-btn[data-palette="${savedPalette}"]`);
    if (activeBtn) {
        document.querySelectorAll('.palette-btn').forEach(btn => btn.classList.remove('active'));
        activeBtn.classList.add('active');
    }
}

/**
 * Configure les contrôles du niveau d'animation.
 */
function setupAnimationControls() {
    const animCheckbox = document.getElementById('opt-animations');
    
    if (animCheckbox) {
        animCheckbox.addEventListener('change', () => {
            const level = animCheckbox.checked ? 1 : 0;
            setAnimationLevel(level);
        });
        
        // Charger le niveau sauvegardé
        const savedLevel = localStorage.getItem('pycalendar-animation-level') || '1';
        setAnimationLevel(parseInt(savedLevel));
        animCheckbox.checked = savedLevel !== '0';
    }
}

/**
 * Applique un niveau d'animation à l'application.
 * @param {number} level - 0 (none), 1 (subtle), 2 (moderate), 3 (dynamic)
 */
function setAnimationLevel(level) {
    const html = document.documentElement;
    html.setAttribute('data-animation-level', level.toString());
    localStorage.setItem('pycalendar-animation-level', level.toString());
}

/**
 * Charge le thème depuis le localStorage au démarrage.
 */
function loadSavedTheme() {
    const savedTheme = localStorage.getItem('pycalendar-theme') || 'light';
    setTheme(savedTheme);
    
    // Mettre à jour le bouton actif
    const activeBtn = document.querySelector(`.theme-btn[data-theme="${savedTheme}"]`);
    if (activeBtn) {
        document.querySelectorAll('.theme-btn').forEach(btn => btn.classList.remove('active'));
        activeBtn.classList.add('active');
    }
}

/**
 * Applique un thème à l'application.
 * @param {string} theme - 'light' ou 'dark'
 */
function setTheme(theme) {
    const html = document.documentElement;
    html.setAttribute('data-theme', theme);
    localStorage.setItem('pycalendar-theme', theme);
}

/**
 * Affiche un message d'erreur fatal dans la page.
 */
function showError(message) {
    const container = document.querySelector('.app-container') || document.body;
    container.innerHTML = `<div class="error-state">
        <h3>Erreur critique</h3>
        <p>${message}</p>
        <p>Veuillez vérifier la console pour plus de détails.</p>
    </div>`;
    console.error(message);
}

/**
 * ==================== GESTION DES MODALES ====================
 */

/**
 * Ouvre la modale d'export des modifications.
 */
function openExportModal() {
    const modal = document.getElementById('modal-export');
    if (!modal) return;
    
    const count = window.modificationManager ? window.modificationManager.getModificationCount() : 0;
    const countElement = document.getElementById('export-count');
    if (countElement) {
        countElement.textContent = count;
    }
    
    // Générer un nom de fichier par défaut
    const date = new Date().toISOString().split('T')[0];
    const filenameInput = document.getElementById('export-filename');
    if (filenameInput) {
        filenameInput.value = `pycalendar_modifications_${date}.json`;
    }
    
    modal.classList.remove('hidden');
}

/**
 * Ferme la modale d'export.
 */
function closeExportModal() {
    const modal = document.getElementById('modal-export');
    if (modal) {
        modal.classList.add('hidden');
    }
}

/**
 * Exporte les modifications et télécharge le fichier JSON.
 */
function exportModifications() {
    if (window.modificationManager) {
        const filenameInput = document.getElementById('export-filename');
        const filename = filenameInput ? filenameInput.value : null;
        window.modificationManager.exportAndDownload(filename);
        closeExportModal();
    }
}

/**
 * Ouvre la modale d'aide.
 */
function openHelpModal() {
    const modal = document.getElementById('modal-help');
    if (modal) {
        modal.classList.remove('hidden');
    }
}

/**
 * Ferme la modale d'aide.
 */
function closeHelpModal() {
    const modal = document.getElementById('modal-help');
    if (modal) {
        modal.classList.add('hidden');
    }
}

// Exposer les fonctions modales globalement pour les onclick dans le HTML
if (typeof window !== 'undefined') {
    window.openExportModal = openExportModal;
    window.closeExportModal = closeExportModal;
    window.exportModifications = exportModifications;
    window.openHelpModal = openHelpModal;
    window.closeHelpModal = closeHelpModal;
}


</script>

    
</body>
</html>
